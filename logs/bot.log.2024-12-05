{"asctime": "2024-12-05 04:38:13", "name": "decorators", "levelname": "DEBUG", "message": "Initialized DatabaseService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:14", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:14", "name": "decorators", "levelname": "DEBUG", "message": "Initialized LLMService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:14", "name": "decorators", "levelname": "DEBUG", "message": "Set user_id: 1647084292", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:14", "name": "decorators", "levelname": "DEBUG", "message": "Set user_name: Cecilia Kitti", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:14", "name": "decorators", "levelname": "DEBUG", "message": "Set language_code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:14", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=1647084292: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:14", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=1647084292, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:14", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x000002812611B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Cecilia', id=1647084292, last_name='Kitti', type=<ChatType.PRIVATE>, username='CeciliaKitti'), date=datetime.datetime(2024, 12, 5, 1, 38, 13, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Cecilia', id=1647084292, is_bot=False, language_code='en', last_name='Kitti', username='CeciliaKitti'), group_chat_created=False, message_id=3165, supergroup_chat_created=False, text='/start'), update_id=881194034), <telegram.ext._callbackcontext.CallbackContext object at 0x000002814BAC10F0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:14", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x000002814B7D4B80>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:14", "name": "handlers", "levelname": "DEBUG", "message": "User ID: 1647084292, User Name: Cecilia, Language Code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:14", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 1647084292, "user_name": "Cecilia", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 04:38:14", "last_active": "2024-12-05, 04:38:14", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 04:38:14", "name": "handlers", "levelname": "INFO", "message": "User info saved for user_id=1647084292", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:15", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=1647084292", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:15", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=1647084292, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:23", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 1647084292, "user_name": "Cecilia Kitti", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 04:38:23", "last_active": "2024-12-05, 04:38:23", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 04:38:23", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=1647084292", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:24", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=1647084292", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:24", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=1647084292: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:24", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=1647084292, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:24", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x000002812611B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Cecilia', id=1647084292, last_name='Kitti', type=<ChatType.PRIVATE>, username='CeciliaKitti'), date=datetime.datetime(2024, 12, 5, 1, 38, 23, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Cecilia', id=1647084292, is_bot=False, language_code='en', last_name='Kitti', username='CeciliaKitti'), group_chat_created=False, message_id=3167, supergroup_chat_created=False, text='/knowledge_base'), update_id=881194035), <telegram.ext._callbackcontext.CallbackContext object at 0x000002814BA9B690>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:24", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x000002814B62FD00>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:24", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=1647084292", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:24", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=1647084292, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:27", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 1647084292, "user_name": "Cecilia Kitti", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 04:38:27", "last_active": "2024-12-05, 04:38:27", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 04:38:27", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=1647084292", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:27", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=1647084292", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:27", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=1647084292: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:27", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=1647084292, message='set_knowledge:Indonesian Regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:27", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_knowledge_base with args: (<handlers.BotHandlers object at 0x000002812611B9E0>, Update(callback_query=CallbackQuery(chat_instance='-4769424383016832053', data='set_knowledge:Indonesian Regulations', from_user=User(first_name='Cecilia', id=1647084292, is_bot=False, language_code='en', last_name='Kitti', username='CeciliaKitti'), id='7074173169503905488', message=Message(channel_chat_created=False, chat=Chat(first_name='Cecilia', id=1647084292, last_name='Kitti', type=<ChatType.PRIVATE>, username='CeciliaKitti'), date=datetime.datetime(2024, 12, 5, 1, 38, 24, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3168, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', text='\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'),), (InlineKeyboardButton(callback_data='set_knowledge:Indonesian Regulat... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:27", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_knowledge_base with result: <coroutine object BotHandlers.set_knowledge_base at 0x000002814A463B60>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:27", "name": "handlers", "levelname": "DEBUG", "message": "Set folder_path='E:\\knowledge_base\\indonesian_regulations' for user_id=1647084292", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:27", "name": "handlers", "levelname": "DEBUG", "message": "Found 23 valid files in folder_path='E:\\knowledge_base\\indonesian_regulations' for user_id=1647084292", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:27", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_and_index_documents with args: (<llm_service.LLMService object at 0x000002814B835FA0>, 'E:\\\\knowledge_base\\\\indonesian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:27", "name": "llm_service", "levelname": "DEBUG", "message": "Starting load_and_index_documents for folder_path='E:\\knowledge_base\\indonesian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:27", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_vector_store with args: (<llm_service.LLMService object at 0x000002814B835FA0>, 'E:\\\\knowledge_base\\\\indonesian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:28", "name": "faiss.loader", "levelname": "DEBUG", "message": "Environment variable FAISS_OPT_LEVEL is not set, so let's pick the instruction set according to the current CPU", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:28", "name": "faiss.loader", "levelname": "INFO", "message": "Loading faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:28", "name": "faiss.loader", "levelname": "INFO", "message": "Successfully loaded faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:28", "name": "llm_service", "levelname": "INFO", "message": "Loaded vector store from E:\\knowledge_base\\indonesian_regulations\\vector_store", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:28", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_vector_store with result: True", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:28", "name": "llm_service", "levelname": "INFO", "message": "Vector store loaded from existing files in 'E:\\knowledge_base\\indonesian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:28", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_and_index_documents with result: (True, 'Vector store loaded from existing files.')", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:28", "name": "handlers", "levelname": "INFO", "message": "Knowledge base 'Indonesian Regulations' set successfully for user_id=1647084292", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:38:28", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=1647084292, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:28", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 1647084292, "user_name": "Cecilia Kitti", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 04:40:28", "last_active": "2024-12-05, 04:40:28", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 04:40:28", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=1647084292", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:28", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=1647084292", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:28", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=1647084292: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:28", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=1647084292, message='how many stairs should be designed and placed in a four storey building'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:28", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x000002812611B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Cecilia', id=1647084292, last_name='Kitti', type=<ChatType.PRIVATE>, username='CeciliaKitti'), date=datetime.datetime(2024, 12, 5, 1, 40, 27, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Cecilia', id=1647084292, is_bot=False, language_code='en', last_name='Kitti', username='CeciliaKitti'), group_chat_created=False, message_id=3170, supergroup_chat_created=False, text='how many stairs should be designed and placed in a four storey building'), update_id=881194037), <telegram.ext._callbackcontext.CallbackContext object at 0x000002814B7488A0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:28", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x000002814CEC8220>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:28", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='f6961edd-5e80-43bf-b886-a3074512f72e' for user_id=1647084292", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:28", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='f6961edd-5e80-43bf-b886-a3074512f72e'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:28", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=1647084292", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:28", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x000002814B835FA0>, 'how many stairs should be designed and placed in a four storey building'), kwargs: {'chat_history': [HumanMessage(content='how many stairs should be designed and placed in a four storey building', additional_kwargs={}, response_metadata={})]}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:28", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814BB174C0>, 'json_data': {'input': [[5269, 1690, 32249, 1288, 387, 6319, 323, 9277, 304, 264, 3116, 3637, 88, 4857]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:28", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:30", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers([('date', 'Thu, 05 Dec 2024 01:40:30 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-allow-origin', '*'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-model', 'text-embedding-ada-002'), ('openai-organization', 'nuanu-wimbwa'), ('openai-processing-ms', '66'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '5000000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '4999986'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', 'req_107d5998f6a2efaefe0a023df89cf5f1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=Qscl6iM7MsZIO4BWf0oOBUfWclqxuBgguA6biHQDq1w-1733362830-1.0.1.1-67f8AztujB3pd4s1DTjpZqh9iZmF29iH4FM6SR... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:30", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_107d5998f6a2efaefe0a023df89cf5f1", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:30", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:30", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814A06ACA0>, 'json_data': {'input': [[5269, 1690, 32249, 1288, 387, 6319, 323, 9277, 304, 264, 3116, 3637, 88, 4857]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:30", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:31", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:40:31 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '103', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999986', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_bdcecd6500772e45c2a374920163277d', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed05419cce29185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:31", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_bdcecd6500772e45c2a374920163277d", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:31", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814A06ACA0>, 'json_data': {'input': [[86755, 328, 13, 22410, 86, 3444, 2355, 1049, 720, 20, 13, 20, 13, 17, 13, 3700, 1149, 19148, 9279, 88245, 6914, 587, 59469, 278, 859, 5996, 720, 20863, 3178, 26518, 65734, 597, 89267, 9279, 75676, 266, 824, 9978, 95051, 276, 10587, 86240, 43327, 70, 62187, 281, 6260, 720, 65, 51403, 9964, 8783, 71, 326, 519, 2192, 11, 37786, 62375, 276, 24932, 278, 859, 20166, 4415, 1609, 2442, 324, 359, 50707, 71564, 720, 76, 9034, 92406, 1871, 66036, 1149, 277, 802, 355, 50707, 13, 33006, 36, 4991, 278, 859, 24522, 300, 526, 10418, 35989, 62986, 25774, 300, 326, 519, 2192, 25, 33006, 64, 13, 21693, 300, 526, 24932, 278, 859, 293, 3333, 324, 85307, 16876, 20166, 25774, 300, 326, 519, 2192, 220, 605, 13, 931, 296, 17, 26, 39472, 720, 65, 13, 21693, 300, 526, 24932, 278, 859, 293, 3333, 324, 342, 10018, 20166, 25774, 300, 326... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:31", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:32", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:40:32 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '42', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999670', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '3ms', 'x-request-id': 'req_ac56ac4aacf60f455a3586ffec05b17c', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed0542089419185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:32", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_ac56ac4aacf60f455a3586ffec05b17c", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:32", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814A06ACA0>, 'json_data': {'input': [[16074, 2360, 220, 27311, 5037, 362, 720, 47, 7157, 926, 965, 720, 75736, 14451, 29661, 2006, 46, 61389, 5987, 720, 12, 220, 10961, 482, 720, 43, 519, 2192, 720, 28273, 65734, 720, 466, 325, 8248, 1871, 8248, 12825, 8826, 720, 3342, 266, 5089, 514, 2308, 46746, 84, 90762, 275, 9279, 1624, 5472, 5089, 720, 273, 2308, 22636, 6885, 90762, 275, 13, 720, 27317, 84602, 32381, 16960, 11, 3026, 306, 28824, 86240, 9279, 720, 273, 2308, 8187, 46746, 84, 90762, 275, 9279, 22636, 6885, 90762, 275, 720, 41345, 720, 67, 581, 332, 12825, 8826, 720, 3935, 3178, 720, 76, 833, 587, 316, 347, 10426, 720, 2821, 88, 301, 309, 16623, 720, 1395, 6993, 720, 71, 359, 1122, 720, 67, 2850, 720, 75, 519, 2192, 720, 28273, 65734, 56866, 13, 720, 2948, 8, 720, 41, 31427, 469, 2857, 275, 720, 35, 17243, 4915, 6181, 10109, 10426, 11, 97921,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:32", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:33", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:40:32 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '67', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999676', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '3ms', 'x-request-id': 'req_46a10759beb571176dcb885352a87594', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed054270cd99185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:33", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_46a10759beb571176dcb885352a87594", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:33", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814A06ACA0>, 'json_data': {'input': [[16074, 2360, 220, 22679, 7529, 362, 720, 47, 7157, 358, 507, 965, 720, 75736, 14451, 29661, 622, 8225, 61389, 5987, 720, 12, 220, 21098, 482, 720, 13, 720, 6806, 720, 63919, 65734, 65577, 2234, 21045, 97921, 39472, 51035, 326, 519, 2192, 720, 18275, 16737, 10587, 25774, 300, 23741, 51035, 25177, 220, 7467, 296, 23328, 59597, 720, 67, 321, 833, 74, 2113, 21045, 5653, 20166, 22636, 6885, 90762, 275, 9279, 720, 25453, 587, 824, 10036, 19371, 833, 74, 2113, 21045, 10345, 441, 70922, 22026, 13, 720, 6806, 720, 63919, 65734, 65577, 2234, 21045, 597, 11880, 70, 1122, 62581, 2192, 720, 67, 18763, 259, 16960, 326, 519, 2192, 11, 90762, 275, 59597, 2024, 75, 485, 82590, 21045, 720, 1303, 34855, 32381, 22826, 276, 6464, 320, 16155, 32, 8, 281, 6260, 11163, 61503, 59666, 720, 44811, 13, 720, 6806, 720, 63919, 65734, 655... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:33", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:34", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:40:33 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '55', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999553', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_07036ae12bae2f8f961d1a103e5bddbd', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed05428fdc39185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:34", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_07036ae12bae2f8f961d1a103e5bddbd", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:34", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814A06ACA0>, 'json_data': {'input': [[86755, 328, 13, 22410, 86, 3444, 2355, 4643, 720, 47, 2649, 41383, 10426, 24614, 809, 2237, 259, 52728, 276, 9145, 1122, 326, 19253, 26518, 65734, 20309, 1609, 32973, 34698, 6455, 11369, 526, 720, 41345, 35334, 1891, 30892, 23741, 11, 21045, 2486, 1609, 1122, 35334, 52077, 288, 4381, 1122, 3276, 5169, 326, 519, 2192, 2922, 519, 2192, 720, 3935, 3178, 2004, 716, 10036, 276, 4186, 21920, 21045, 27955, 2203, 417, 72, 802, 9703, 5964, 4269, 23741, 13, 50088, 2203, 417, 72, 10587, 45217, 720, 67, 13154, 747, 9379, 8826, 45217, 10418, 46931, 610, 86056, 37786, 24468, 320, 283, 376, 22099, 8, 39472, 1871, 1263, 324, 8826, 720, 82, 13532, 326, 19253, 26518, 359, 72198, 320, 751, 1203, 570, 31079, 2308, 220, 18, 13, 975, 1871, 716, 747, 9379, 8826, 991, 4781, 7064, 50848, 720, 67, 2850, 26518, 65734, 10587, 1871, 660... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:34", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:35", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:40:34 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '81', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999402', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '7ms', 'x-request-id': 'req_f50bab1a038d90dce061c4af51b460fb', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed0542f68ef9185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:35", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_f50bab1a038d90dce061c4af51b460fb", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:35", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'You are a project assistant from the consultant side on design and construction projects. If the user requests a calculation, try to execute it. If there is not enough initial data, use general values that apply in most cases. If it is not possible to use general values, request from the user the conditions needed to provide the calculation. If you don\\'t know the answer, say that you don\\'t know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-05, 04:40:35. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retri... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:35", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:39", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers([('date', 'Thu, 05 Dec 2024 01:40:39 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'nuanu-wimbwa'), ('openai-processing-ms', '3757'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '800000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '798454'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '115ms'), ('x-request-id', 'req_6a6f31bbbda9c0e356029e599bf8f5f7'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=WOAG02FTt1L7.Uv0GbvxhYrzQ.m.2zXcZYXwAFuflUc-1733362839-1.0.1.1-wQsb2HqHooi7trBUNR_JObX_zs6yD.GUpOy1MAHcQNSjLaXpxW11WnygrVGHM0a9jT.iaLEjyCDd2LJMUDrs5A; path=/; expires=Thu, 05... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:39", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_6a6f31bbbda9c0e356029e599bf8f5f7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:39", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.8078573715951392, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:39", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:39", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:40", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"Given the following user prompt and LLM response, determine if additional information is needed to help the user fulfill their request and continue the conversation effectively. If yes, provide up to 3 additional prompts based on key concepts in the response, such as 'learn more about ...', 'how to determine ...', 'how to calculate ...', etc., that the user can use to gather more information. If no additional prompts are needed, respond with 'No suggestions needed'.\\n\\nUser Prompt: how many stairs should be designed and placed in a four storey building\\n\\nLLM Response: For a four-storey building, at least two exit staircases are required. This is to ensure that there are multiple evacuation routes in case of an emergency. Additionally, these staircases must be protected with a fire resistance rating of at least two hours, according to building safety regulations. If th... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:40", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:40", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:40:40 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '303', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799710', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '21ms', 'x-request-id': 'req_23341f993f2c0d04bc92c366f821088c', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed054559e3c9185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:40", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_23341f993f2c0d04bc92c366f821088c", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:40", "name": "llm_service", "levelname": "DEBUG", "message": "LLM determined that no suggestions are needed.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:40", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('For a four-storey building, at least two exit staircases are required. This is to ensure that there are multiple evacuation routes in case of an emergency. Additionally, these staircases must be protected with a fire resistance rating of at least two hours, according to building safety regulations. If the total width of the exits, when divided by the number of staircases, exceeds four units or 2 meters per exit, additional staircases should be added to meet the required width for safe evacuation.\\n\\n------------------\\nReferences (/references):\\nRISBT-FINAL-APRESIASI-REV-Bedah-Buku-Jimmy-Yuwana-pdf.pdf, pages: 116, 237\\nPeraturan Pemerintah Nomor 16 Tahun 2O2I Tentang Bangunan Gedung.pdf, pages: 857, 861\\n', {'RISBT-FINAL-APRESIASI-REV-Bedah-Buku-Jimmy-Yuwana-pdf.pdf', 'Peraturan Pemerintah Nomor 16 Tahun 2O2I Tentang Bangunan Gedung.pdf'}, None)", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:40", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=1647084292", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:40", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='f6961edd-5e80-43bf-b886-a3074512f72e'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:41", "name": "handlers", "levelname": "INFO", "message": "Sent response to user_id=1647084292", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:40:41", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=1647084292, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:50", "name": "decorators", "levelname": "DEBUG", "message": "Initialized DatabaseService for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:50", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 04:44:50", "last_active": "2024-12-05, 04:44:50", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 04:44:50", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:50", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:51", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:51", "name": "decorators", "levelname": "DEBUG", "message": "Initialized LLMService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:51", "name": "decorators", "levelname": "DEBUG", "message": "Set user_id: 244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:51", "name": "decorators", "levelname": "DEBUG", "message": "Set user_name: Andrey", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:51", "name": "decorators", "levelname": "DEBUG", "message": "Set language_code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:51", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:51", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:51", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x000002812611B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 1, 44, 49, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3172, supergroup_chat_created=False, text='/knowledge_base'), update_id=881194038), <telegram.ext._callbackcontext.CallbackContext object at 0x00000281A8E18C20>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:51", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x000002814B7E4940>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:51", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:51", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:54", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 04:44:53", "last_active": "2024-12-05, 04:44:53", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 04:44:54", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:54", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:54", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:54", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:54", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_knowledge_base with args: (<handlers.BotHandlers object at 0x000002812611B9E0>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116658167745639', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 1, 44, 51, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3173, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', text='\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'),), (InlineKeyboardButton(callback_data='set_knowledge:Indonesian Regulations', text='Indonesian Regulations'),)... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:54", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_knowledge_base with result: <coroutine object BotHandlers.set_knowledge_base at 0x000002814B74F060>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:54", "name": "handlers", "levelname": "DEBUG", "message": "Set folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:54", "name": "handlers", "levelname": "DEBUG", "message": "Found 29 valid files in folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:54", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_and_index_documents with args: (<llm_service.LLMService object at 0x00000281A8E1EA50>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:54", "name": "llm_service", "levelname": "DEBUG", "message": "Starting load_and_index_documents for folder_path='E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:54", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_vector_store with args: (<llm_service.LLMService object at 0x00000281A8E1EA50>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:54", "name": "llm_service", "levelname": "INFO", "message": "Loaded vector store from E:\\knowledge_base\\russian_regulations\\vector_store", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:54", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_vector_store with result: True", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:54", "name": "llm_service", "levelname": "INFO", "message": "Vector store loaded from existing files in 'E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:54", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_and_index_documents with result: (True, 'Vector store loaded from existing files.')", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:55", "name": "handlers", "levelname": "INFO", "message": "Knowledge base '\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b' set successfully for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:55", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:55", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 1647084292, "user_name": "Cecilia Kitti", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 04:44:55", "last_active": "2024-12-05, 04:44:55", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 04:44:55", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=1647084292", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:55", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=1647084292", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:55", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=1647084292: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:55", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=1647084292, message='can we use just one stairs if the placement is in the center of the building with the furthest distance of evacuation less than 25 meter and the occupancy of each floor will be maximum 24 people'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:55", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x000002812611B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Cecilia', id=1647084292, last_name='Kitti', type=<ChatType.PRIVATE>, username='CeciliaKitti'), date=datetime.datetime(2024, 12, 5, 1, 44, 54, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Cecilia', id=1647084292, is_bot=False, language_code='en', last_name='Kitti', username='CeciliaKitti'), group_chat_created=False, message_id=3175, supergroup_chat_created=False, text='can we use just one stairs if the placement is in the center of the building with the furthest distance of evacuation less than 25 meter and the occupancy of each floor will be maximum 24 people'), update_id=881194040), <telegram.ext._callbackcontext.CallbackContext object at 0x000002814B74AD60>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:55", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x000002814CFB04F0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:55", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='d20333d7-ae45-4d9b-a707-29544bce0f3f' for user_id=1647084292", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:55", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='d20333d7-ae45-4d9b-a707-29544bce0f3f'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:55", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=1647084292", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:55", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x000002814B835FA0>, 'can we use just one stairs if the placement is in the center of the building with the furthest distance of evacuation less than 25 meter and the occupancy of each floor will be maximum 24 people'), kwargs: {'chat_history': [HumanMessage(content='can we use just one stairs if the placement is in the center of the building with the furthest distance of evacuation less than 25 meter and the occupancy of each floor will be maximum 24 people', additional_kwargs={}, response_metadata={}), HumanMessage(content='how many stairs should be designed and placed in a four storey building', additional_kwargs={}, response_metadata={}), AIMessage(content='For a four-storey building, at least two exit staircases are required. This is to ensure that there are multiple evacuation routes in case of an emergency. Additionally, these staircases must be protected with a fire resistance rating of at least ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814A04A520>, 'json_data': {'input': [[4919, 584, 1005, 1120, 832, 32249, 422, 279, 22165, 374, 304, 279, 4219, 315, 279, 4857, 449, 279, 18742, 61943, 6138, 315, 60773, 2753, 1109, 220, 914, 23819, 323, 279, 66419, 315, 1855, 6558, 690, 387, 7340, 220, 1187, 1274]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:56", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:44:56 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '85', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999960', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_cb9dd4b05b65baea0bde565ed207cdd1', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed05a939fd92df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:56", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_cb9dd4b05b65baea0bde565ed207cdd1", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:56", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:56", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814A06A5C0>, 'json_data': {'input': [[4919, 584, 1005, 1120, 832, 32249, 422, 279, 22165, 374, 304, 279, 4219, 315, 279, 4857, 449, 279, 18742, 61943, 6138, 315, 60773, 2753, 1109, 220, 914, 23819, 323, 279, 66419, 315, 1855, 6558, 690, 387, 7340, 220, 1187, 1274]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:56", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:56", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:44:56 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '84', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999960', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_a5586b5bfbce20df89b2c73befaf728d', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed05a979a242df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:56", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_a5586b5bfbce20df89b2c73befaf728d", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:56", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814A06A5C0>, 'json_data': {'input': [[86755, 328, 13, 22410, 86, 3444, 2355, 12166, 720, 57367, 324, 526, 12934, 324, 526, 23741, 12069, 3105, 97921, 20673, 11, 9279, 46746, 84, 15627, 91298, 10587, 4170, 95204, 59597, 720, 67, 26844, 3026, 22826, 6464, 44934, 324, 526, 12934, 324, 526, 23741, 12069, 3105, 59666, 743, 833, 1494, 20673, 13, 33006, 22, 13, 21, 13, 21, 13, 10641, 24468, 10426, 15367, 91298, 33006, 64, 13, 10641, 24468, 10426, 15367, 91298, 32911, 17343, 65734, 99632, 8376, 33006, 35, 365, 15790, 17225, 296, 43330, 62992, 1550, 404, 23014, 26518, 65734, 53293, 2234, 43327, 8376, 11, 92765, 66501, 3026, 3935, 332, 720, 79, 336, 1509, 10118, 52077, 301, 309, 16623, 2004, 70922, 22026, 10587, 51035, 32381, 266, 13, 393, 336, 1509, 10118, 52077, 301, 309, 16623, 720, 441, 70922, 22026, 12069, 467, 21045, 42630, 1247, 16623, 864, 2857, 4... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:56", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:44:57 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '71', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999586', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '4ms', 'x-request-id': 'req_edc93d628e59568f2341d4550d034a4c', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed05a99cb882df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_edc93d628e59568f2341d4550d034a4c", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814A06A5C0>, 'json_data': {'input': [[47, 7157, 358, 507, 965, 720, 75736, 4594, 25554, 326, 8225, 61389, 5987, 720, 12, 220, 21675, 482, 720, 1921, 8, 720, 52, 74, 27105, 1469, 370, 10746, 51035, 25177, 97921, 90762, 275, 720, 67, 581, 332, 12825, 8826, 25, 720, 51, 786, 8105, 13, 1313, 13, 2009, 2308, 469, 2857, 275, 20166, 622, 31427, 469, 2857, 275, 51035, 25177, 97921, 8113, 720, 46, 74890, 720, 74, 31627, 720, 33462, 11, 720, 75, 519, 2192, 720, 28273, 65734, 720, 10759, 8248, 12825, 8826, 720, 2821, 88, 4596, 276, 720, 93707, 720, 1072, 64, 720, 83, 526, 6885, 90762, 275, 21045, 514, 2308, 67311, 647, 31469, 17588, 333, 720, 76, 4522, 1474, 4522, 220, 17, 296, 11, 9279, 97921, 46746, 84, 90762, 275, 720, 76, 4522, 12, 296, 4522, 21045, 514, 2308, 31469, 17588, 333, 220, 16, 296, 13, 720, 33, 14685, 300, 62986, 720, 716, 23306, 52288, 720,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:44:58 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '53', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999741', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '3ms', 'x-request-id': 'req_3871dd117e0cc35141b5c6f3c80fb793', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed05aa0581e2df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_3871dd117e0cc35141b5c6f3c80fb793", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814A06A5C0>, 'json_data': {'input': [[16074, 2360, 220, 22679, 7529, 362, 720, 47, 7157, 358, 507, 965, 720, 75736, 14451, 29661, 622, 8225, 61389, 5987, 720, 12, 220, 21098, 482, 720, 13, 720, 6806, 720, 63919, 65734, 65577, 2234, 21045, 97921, 39472, 51035, 326, 519, 2192, 720, 18275, 16737, 10587, 25774, 300, 23741, 51035, 25177, 220, 7467, 296, 23328, 59597, 720, 67, 321, 833, 74, 2113, 21045, 5653, 20166, 22636, 6885, 90762, 275, 9279, 720, 25453, 587, 824, 10036, 19371, 833, 74, 2113, 21045, 10345, 441, 70922, 22026, 13, 720, 6806, 720, 63919, 65734, 65577, 2234, 21045, 597, 11880, 70, 1122, 62581, 2192, 720, 67, 18763, 259, 16960, 326, 519, 2192, 11, 90762, 275, 59597, 2024, 75, 485, 82590, 21045, 720, 1303, 34855, 32381, 22826, 276, 6464, 320, 16155, 32, 8, 281, 6260, 11163, 61503, 59666, 720, 44811, 13, 720, 6806, 720, 63919, 65734, 655... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:44:59 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '51', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999553', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_5bcb5f7226bac23cd2a984fec6ff72b7', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed05aa6fbcb2df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_5bcb5f7226bac23cd2a984fec6ff72b7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814A06A5C0>, 'json_data': {'input': [[2822, 720, 47, 41996, 1609, 9258, 276, 720, 47, 432, 469, 328, 220, 358, 423, 469, 452, 2355, 49, 469, 393, 549, 426, 445, 358, 735, 220, 326, 452, 423, 507, 452, 469, 328, 358, 362, 2355, 12, 220, 10967, 24, 482, 720, 49833, 277, 56534, 26209, 720, 10036, 300, 23741, 51035, 25177, 220, 7467, 296, 17, 59597, 19371, 833, 74, 2113, 21045, 5653, 720, 3935, 3178, 22636, 6885, 90762, 275, 9279, 28380, 824, 10036, 19371, 833, 74, 2113, 21045, 12157, 720, 441, 70922, 22026, 13, 720, 605, 8, 17343, 65734, 65577, 2234, 21045, 597, 11880, 70, 1122, 62581, 2192, 21045, 220, 18, 720, 75, 519, 2192, 11, 90762, 275, 59597, 2024, 75, 485, 82590, 21045, 43327, 34855, 32381, 22826, 276, 6464, 720, 4233, 27542, 8, 281, 6260, 11163, 61503, 220, 16, 20673, 13, 720, 806, 8, 17343, 65734, 65577, 2234, 21045, 597, 11880, 70, 1122,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:44:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:45:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:45:00 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '107', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999695', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '3ms', 'x-request-id': 'req_41d05a56bdbca817fa613c17661b3b92', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed05aa91ccf2df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:45:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_41d05a56bdbca817fa613c17661b3b92", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:45:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If the user requests a calculation, try to execute it. If there is not enough initial data, use general values that apply in most cases. If it is not possible to use general values, request from the user the conditions needed to provide the calculation. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-05, 04:45:00. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retriev... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:45:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:45:03", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:45:02 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1931', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '798385', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '121ms', 'x-request-id': 'req_12fb120d8678075754339d871e67f270', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed05aaf9a2d9185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:45:03", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_12fb120d8678075754339d871e67f270", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:45:03", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.8194130595401165, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:45:03", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:45:03", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:45:03", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"Given the following user prompt and LLM response, determine if additional information is needed to help the user fulfill their request and continue the conversation effectively. If yes, provide up to 3 additional prompts based on key concepts in the response, such as 'learn more about ...', 'how to determine ...', 'how to calculate ...', etc., that the user can use to gather more information. If no additional prompts are needed, respond with 'No suggestions needed'.\\n\\nUser Prompt: can we use just one stairs if the placement is in the center of the building with the furthest distance of evacuation less than 25 meter and the occupancy of each floor will be maximum 24 people\\n\\nLLM Response: In general, building codes require at least two separate exit staircases for multi-storey buildings to ensure safety and provide multiple evacuation routes in case one is obstructed ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:45:03", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:45:04", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:45:04 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1085', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799640', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '26ms', 'x-request-id': 'req_22a22024cf9871f79303e749e1d383e9', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed05ac10c689185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:45:04", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_22a22024cf9871f79303e749e1d383e9", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:45:04", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['Learn more about local building codes and regulations that pertain to staircase requirements in multi-storey buildings.', 'How to determine if an exception can be made for using a single staircase in a centrally located building?', 'Learn more about consulting with local building authorities or qualified professionals regarding compliance with safety regulations.']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:45:04", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('In general, building codes require at least two separate exit staircases for multi-storey buildings to ensure safety and provide multiple evacuation routes in case one is obstructed during an emergency. Even if the staircase is centrally located and the evacuation distance is short, having only one staircase might not comply with safety regulations unless specifically allowed by local codes under certain conditions. The exact requirements can vary depending on the local building code and regulations, so it is essential to consult with a local building authority or a qualified professional to determine if an exception can be made in your specific case.\\n\\n------------------\\nReferences (/references):\\nRISBT-FINAL-APRESIASI-REV-Bedah-Buku-Jimmy-Yuwana-pdf.pdf, pages: 341\\nPeraturan Pemerintah Nomor 16 Tahun 2O2I Tentang Bangunan Gedung.pdf, pages: 857, 862, 2173\\n', {'RISBT-FINAL-APRESIASI-REV-Bedah-Buku-Jimmy-Yuwana-pdf.pdf', 'Peraturan... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:45:04", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=1647084292", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:45:04", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='d20333d7-ae45-4d9b-a707-29544bce0f3f'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:45:04", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=1647084292", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:45:05", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=1647084292", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:45:05", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=1647084292, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:06", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 04:46:06", "last_active": "2024-12-05, 04:46:06", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 04:46:06", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:06", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:06", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:06", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=244732168, message='\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:06", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x000002812611B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 1, 46, 6, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3177, supergroup_chat_created=False, text='\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f'), update_id=881194041), <telegram.ext._callbackcontext.CallbackContext object at 0x000002814BA9B700>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:06", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x000002814CFD6890>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:06", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='d11a1459-ea66-400a-b41b-6c3ff21c9d48' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:06", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='d11a1459-ea66-400a-b41b-6c3ff21c9d48'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:07", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:07", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x00000281A8E1EA50>, '\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f'), kwargs: {'chat_history': [HumanMessage(content='\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f', additional_kwargs={}, response_metadata={}), HumanMessage(content='Dokumen perizinan apa yang diperlukan untuk membangun rumah di Bali?', additional_kwargs={}, response_metadata={}), AIMessage(content='Untuk membangun rumah di Bali, Anda memerlukan beberapa dokumen perizinan sebagai berikut:\\n\\n1. <b>Sertifikat Hak Atas Tanah</b>: Dokumen yang membuktikan kepemilikan tanah atau izin penggunaan tanah dari pemilik.\\n\\n2. <b>Izin Mendirikan Bangunan (IMB)</b>: Diperlukan untuk memastikan bahwa rencana pembangunan sesuai dengan peraturan daerah setempat. IMB kini dikenal sebagai Persetujuan Bangunan Gedung (PBG).\\n\\n3. <b>Dokumen AMDAL atau UKL/UPL</b>: Dokumen Analisis Mengenai Dampak Lingkungan (AMDAL) atau Upaya Pengelolaan L... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:07", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000281A9468040>, 'json_data': {'input': [[19871, 4898, 54570, 26539, 37277, 23446, 6148, 44786, 48446, 8341, 15088, 77083, 13999, 20440, 220, 19, 10693, 49103, 38657, 39900, 20879, 44100]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:07", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:08", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers([('date', 'Thu, 05 Dec 2024 01:46:07 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-allow-origin', '*'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-model', 'text-embedding-ada-002'), ('openai-organization', 'nuanu-wimbwa'), ('openai-processing-ms', '118'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '5000000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '4999978'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', 'req_8b8709306edceeebe796f3a2e81cff0e'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=xP0rHy24cikL6f0_WR_J0XHJYzq4cfae_7aDm7cakOo-1733363167-1.0.1.1-jI2bBhDCjupPWZRJKCRUUjQWzOk21qR7sPB1b... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:08", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_8b8709306edceeebe796f3a2e81cff0e", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:08", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:08", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000281A946A5C0>, 'json_data': {'input': [[19871, 4898, 54570, 26539, 37277, 23446, 6148, 44786, 48446, 8341, 15088, 77083, 13999, 20440, 220, 19, 10693, 49103, 38657, 39900, 20879, 44100]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:08", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:46:08 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '282', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999978', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_9632a74e22a111ce49af2da55b99565a', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed05c57ce212df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_9632a74e22a111ce49af2da55b99565a", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000281A946A5C0>, 'json_data': {'input': [[19871, 17279, 220, 20571, 13, 9413, 18216, 15, 13, 2366, 17, 33006, 1272, 33006, 415, 21022, 19829, 14391, 52575, 5927, 11187, 720, 1835, 21022, 220, 220, 136, 114, 220, 18154, 7952, 23630, 4898, 24697, 13373, 18600, 50693, 2233, 1482, 4700, 14391, 220, 220, 136, 114, 220, 18154, 14391, 16331, 4898, 24697, 320, 6578, 47760, 12648, 6578, 46177, 48446, 1532, 79686, 6578, 8, 11317, 5927, 220, 220, 136, 114, 220, 18154, 74254, 38521, 18226, 24803, 4655, 6578, 14391, 16331, 4898, 24697, 33006, 34604, 13810, 35297, 15088, 57855, 13, 19, 1389, 36479, 17766, 79370, 98695, 44065, 18600, 47067, 18999, 11562, 50436, 7094, 3865, 68506, 1830, 38657, 44786, 28114, 15298, 39103, 23311, 12415]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:46:09 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '56', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999889', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_0a6157eeec885159a43b7b1c1bc302df', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed05c5d98f52df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_0a6157eeec885159a43b7b1c1bc302df", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000281A946A5C0>, 'json_data': {'input': [[7094, 33742, 4329, 23311, 49103, 38657, 21708, 482, 720, 11, 21477, 60009, 7952, 33742, 4329, 23311, 49103, 38657, 21708, 482, 720, 11, 25756, 100046, 720, 12, 20879, 19619, 11320, 5591, 32062, 35723, 720, 14082, 34694, 10298, 21923, 14476, 35034, 5372, 39988, 17756, 1506, 55523, 11122, 7094, 39280, 26, 49526, 12, 65619, 17756, 18437, 6856, 14257, 64322, 1506, 42078, 19916, 1840, 53628, 22911, 57186, 5927, 11047, 56857, 17618, 6850, 13404, 61642, 11, 17756, 11, 25190, 110, 48150, 220, 8953, 20440, 11122, 7094, 14332, 12415, 5524, 720, 2297, 10124, 16331, 7486, 2297, 59921, 7486, 39988, 12561, 9542, 38438, 13999, 12, 5591, 4655, 1830, 4329, 17394, 39988, 5927, 19190, 1840, 14009, 15458, 21708, 7740, 320, 8953, 7058, 8, 20440, 11122, 7094, 14332, 12415, 11, 5927, 720, 8164, 12507, 86610, 18999, 10693, 38153, 6... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:10", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:46:10 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '89', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998972', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '12ms', 'x-request-id': 'req_fc30166d27370e43970e92b1e14b93fe', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed05c5fca192df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:10", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_fc30166d27370e43970e92b1e14b93fe", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:10", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000281A946A5C0>, 'json_data': {'input': [[25657, 58317, 1532, 11, 11047, 98285, 23446, 6148, 23297, 17165, 10693, 76401, 86610, 62491, 7740, 720, 25, 220, 4278, 19, 11562, 2652, 49526, 8164, 39865, 14476, 23680, 4929, 81757, 33793, 3114, 3865, 8131, 1840, 20346, 10298, 16742, 7820, 24803, 11320, 25, 220, 9748, 21, 11562, 2652, 49526, 25657, 58317, 1532, 11, 5524, 6856, 6578, 86610, 5372, 39900, 7820, 24803, 26503, 39900, 5173, 15088, 39103, 23311, 4329, 25, 220, 17887, 11562, 2652, 49526, 25657, 58317, 1532, 11, 28114, 15298, 39103, 23311, 12415, 6850, 23680, 40842, 5591, 16331, 12507, 25, 220, 9992, 15, 11562, 2652, 49526, 25657, 58317, 1532, 11, 28114, 15298, 39103, 23311, 12415, 6850, 23680, 41291, 32985, 7094, 12507, 25, 220, 5313, 11562, 662, 49526, 61432, 7975, 50506, 40842, 2233, 14082, 13999, 39479, 10124, 28089, 13433, 8379, 15752, 11001, 1... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:10", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:46:11 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '91', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999755', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_dbafd4467a8d25b9274521d8ff6934a6', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed05c663d4a2df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_dbafd4467a8d25b9274521d8ff6934a6", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814CF800E0>, 'json_data': {'input': [[18, 13, 16, 13, 605, 48446, 8341, 13433, 26539, 37277, 23446, 6148, 44858, 25, 35448, 15752, 2233, 14332, 6148, 5372, 48150, 18868, 5372, 50807, 11, 28114, 15298, 39103, 23311, 4329, 64880, 11, 5173, 15088, 39103, 23311, 10298, 12561, 25262, 35682, 20812, 1482, 198, 5591, 2156, 38521, 31203, 11122, 7094, 39280, 11, 34943, 9239, 56999, 18999, 320, 1840, 11320, 12561, 35111, 2233, 1482, 5372, 48150, 705, 57925, 2156, 19188, 31281, 5372, 48150, 20440, 39479, 6578, 86610, 18999, 26539, 37277, 23446, 6148, 44786, 198, 8164, 39865, 14476, 23680, 15088, 7740, 26539, 37277, 23446, 6148, 44786, 11562, 17721, 12426, 21708, 627, 17279, 18600, 7740, 11562, 22918, 17756, 21022, 6850, 7740, 22918, 1389, 51418, 48445, 4655, 26539, 37277, 23446, 6148, 44786, 48446, 8341, 15088, 5524, 6578, 13, 5927, 510, 18, 27218, 18, 13, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:46:11 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '128', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998677', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '15ms', 'x-request-id': 'req_3c8b16ad1ce14d5e99c455581809efcc', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed05c6c184a2df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_3c8b16ad1ce14d5e99c455581809efcc", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If the user requests a calculation, try to execute it. If there is not enough initial data, use general values that apply in most cases. If it is not possible to use general values, request from the user the conditions needed to provide the calculation. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-05, 04:46:11. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retriev... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers([('date', 'Thu, 05 Dec 2024 01:46:15 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'nuanu-wimbwa'), ('openai-processing-ms', '2744'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '800000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '794860'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '385ms'), ('x-request-id', 'req_9205bf0b6683cf69fa20cbbdf613038b'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=5dEE_ZBGGX_fdDphLEvNRyAENqm.v0mLVNyN.UBK1Yg-1733363175-1.0.1.1-VJppyQdH_BQE1.sbCMUNrKM6IpbVEXKL50B1gGDTJhf0wVH6uwyA2nC.fC8Rn6ZgC4irXUas1_w6MSuVJX.a4w; path=/; expires=Thu, 05... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_9205bf0b6683cf69fa20cbbdf613038b", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:15", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.8234974419985008, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:15", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:15", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"Given the following user prompt and LLM response, determine if additional information is needed to help the user fulfill their request and continue the conversation effectively. If yes, provide up to 3 additional prompts based on key concepts in the response, such as 'learn more about ...', 'how to determine ...', 'how to calculate ...', etc., that the user can use to gather more information. If no additional prompts are needed, respond with 'No suggestions needed'.\\n\\nUser Prompt: \u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f\\n\\nLLM Response: \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u0432 4-\u044d\u0442\u0430\u0436\u043d\u043e\u043c \u043e\u0442\u0435\u043b\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \u043e\u0431\u0449\u0430\u044f \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u0437\u0434\u0430\u043d\u0438\u044f, \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u043e\u043c\u0435\u0440\u043e\u0432, \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0438 \u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u043a\u0430. \u041e\u0434\u043d\u0430\u043a\u043e \u0432 \u043e\u0431\u0449\u0435\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0434\u043b\u044f \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0438 \u0443\u0434\u043e\u0431\u0441\u0442\u0432\u0430 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0434\u0432\u0435 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0435 \u043a\u043b\u0435\u0442\u043a\u0438, \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e \u0435\u0441\u043b\u0438 \u0437\u0434\u0430\u043d\u0438\u0435 \u0438\u043c\u0435\u0435\u0442 \u0437\u043d\u0430\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u0443\u044e ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:17", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:46:16 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1000', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799451', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '41ms', 'x-request-id': 'req_43998e1c124eba13397962a2195729a4', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed05c878abb2dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:17", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_43998e1c124eba13397962a2195729a4", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:17", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f\u0445 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438 \u0432 \u043c\u043d\u043e\u0433\u043e\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u043d\u044b\u0445 \u0437\u0434\u0430\u043d\u0438\u044f\u0445.', '\u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u043e\u043f\u0442\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u0434\u043b\u044f \u0432\u0430\u0448\u0435\u0433\u043e \u0437\u0434\u0430\u043d\u0438\u044f?', '\u041a\u0430\u043a \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u0443\u044e \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u0434\u043b\u044f \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u043a\u0438 \u0437\u0434\u0430\u043d\u0438\u044f?']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:17", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u0432 4-\u044d\u0442\u0430\u0436\u043d\u043e\u043c \u043e\u0442\u0435\u043b\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \u043e\u0431\u0449\u0430\u044f \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u0437\u0434\u0430\u043d\u0438\u044f, \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u043e\u043c\u0435\u0440\u043e\u0432, \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0438 \u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u043a\u0430. \u041e\u0434\u043d\u0430\u043a\u043e \u0432 \u043e\u0431\u0449\u0435\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0434\u043b\u044f \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0438 \u0443\u0434\u043e\u0431\u0441\u0442\u0432\u0430 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0434\u0432\u0435 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0435 \u043a\u043b\u0435\u0442\u043a\u0438, \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e \u0435\u0441\u043b\u0438 \u0437\u0434\u0430\u043d\u0438\u0435 \u0438\u043c\u0435\u0435\u0442 \u0437\u043d\u0430\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u0438\u043b\u0438 \u043f\u0440\u0435\u0434\u043f\u043e\u043b\u0430\u0433\u0430\u0435\u0442 \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u0431\u043e\u043b\u044c\u0448\u043e\u0433\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u043b\u044e\u0434\u0435\u0439.\\n\\n\u0414\u0432\u0435 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0435 \u043a\u043b\u0435\u0442\u043a\u0438 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0430\u0442 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0439 \u043f\u0443\u0442\u044c \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0447\u0440\u0435\u0437\u0432\u044b\u0447\u0430\u0439\u043d\u044b\u0445 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0439, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \u043f\u043e\u0436\u0430\u0440. \u042d\u0442\u043e \u0442\u0430\u043a\u0436\u0435 \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u043d\u043e\u0440\u043c\u0430\u043c \u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0442\u0440\u0435\u0431\u0443\u044e\u0442 \u043d\u0430\u043b\u0438\u0447\u0438\u044f \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0445 \u043f\u0443\u0442\u0435\u0439 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438.\\n\\n\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u043a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u043e\u0440\u043e\u043c \u0438\u043b\u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043e\u043c, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0442\u043e\u0447\u043d\u044b\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0438 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0445 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a \u0432\u0430\u0448\u0435\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0438 \u043c\u0435\u0441\u0442\u043d\u044b\u0445 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043d\u043e\u0440\u043c.\\n\\n------------------\\nReferences (/references):\\n\u0417\u0434\u0430\u043d\u0438\u044f \u0438\u0437 \u0434\u0435\u0440\u0435\u0432\u044f\u043d\u043d\u044b\u0445 \u0441\u0440\u0443\u0431\u043d\u044b\u0445 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0439_\u0421\u041f 516.1325800.2022.pdf, pages: 47\\n\u0422\u0435\u043f\u043b\u043e\u0432\u0430... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:17", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:17", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='d11a1459-ea66-400a-b41b-6c3ff21c9d48'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:17", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:17", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:46:17", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:23", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 04:47:23", "last_active": "2024-12-05, 04:47:23", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 04:47:23", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:23", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:23", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:23", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=244732168, message='\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u043d\u043e\u0439 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u043e\u0439 \u043a\u043b\u0435\u0442\u043a\u0438'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:23", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x000002812611B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 1, 47, 23, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3179, supergroup_chat_created=False, text='\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u043d\u043e\u0439 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u043e\u0439 \u043a\u043b\u0435\u0442\u043a\u0438'), update_id=881194042), <telegram.ext._callbackcontext.CallbackContext object at 0x000002814BA9B540>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:23", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x000002814BADAE30>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:23", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='17254d6b-15e9-4a0d-903a-7bad17e397ed' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:23", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='17254d6b-15e9-4a0d-903a-7bad17e397ed'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:24", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:24", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x00000281A8E1EA50>, '\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u043d\u043e\u0439 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u043e\u0439 \u043a\u043b\u0435\u0442\u043a\u0438'), kwargs: {'chat_history': [HumanMessage(content='\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u043d\u043e\u0439 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u043e\u0439 \u043a\u043b\u0435\u0442\u043a\u0438', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f', additional_kwargs={}, response_metadata={}), AIMessage(content='\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u0432 4-\u044d\u0442\u0430\u0436\u043d\u043e\u043c \u043e\u0442\u0435\u043b\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \u043e\u0431\u0449\u0430\u044f \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u0437\u0434\u0430\u043d\u0438\u044f, \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u043e\u043c\u0435\u0440\u043e\u0432, \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0438 \u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u043a\u0430. \u041e\u0434\u043d\u0430\u043a\u043e \u0432 \u043e\u0431\u0449\u0435\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0434\u043b\u044f \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0438 \u0443\u0434\u043e\u0431\u0441\u0442\u0432\u0430 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0434\u0432\u0435 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0435 \u043a\u043b\u0435\u0442\u043a\u0438, \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e \u0435\u0441\u043b\u0438 \u0437\u0434\u0430\u043d\u0438\u0435 \u0438\u043c\u0435\u0435\u0442 \u0437\u043d\u0430\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u0438\u043b\u0438 \u043f\u0440\u0435\u0434\u043f\u043e\u043b\u0430\u0433\u0430\u0435\u0442 \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u0431\u043e\u043b\u044c\u0448\u043e\u0433\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u043b\u044e\u0434\u0435\u0439.\\n\\n\u0414\u0432\u0435 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0435 \u043a\u043b\u0435\u0442\u043a\u0438 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0430\u0442 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0439 \u043f\u0443\u0442\u044c \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0447\u0440\u0435\u0437\u0432\u044b\u0447\u0430\u0439\u043d\u044b\u0445 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0439, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \u043f\u043e\u0436\u0430\u0440. \u042d\u0442\u043e \u0442\u0430\u043a\u0436\u0435 \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:24", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000281A9468040>, 'json_data': {'input': [[5591, 20219, 79104, 13999, 59195, 89327, 27717, 74726, 53419, 39988, 26539, 37277, 23446, 6148, 39988, 48446, 8341, 17165]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:24", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:47:24 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '58', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999981', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_69194425fe4ee0751aab6deac8881178', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed05e321b649185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_69194425fe4ee0751aab6deac8881178", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:25", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000281A9468040>, 'json_data': {'input': [[5591, 20219, 79104, 13999, 59195, 89327, 27717, 74726, 53419, 39988, 26539, 37277, 23446, 6148, 39988, 48446, 8341, 17165]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:26", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:47:26 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '112', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999981', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_9ba7f71cf7ab7c82148c4e840fb6bf8e', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed05e39e80f9185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:26", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_9ba7f71cf7ab7c82148c4e840fb6bf8e", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:26", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000281A9468040>, 'json_data': {'input': [[18, 13, 16, 13, 605, 48446, 8341, 13433, 26539, 37277, 23446, 6148, 44858, 25, 35448, 15752, 2233, 14332, 6148, 5372, 48150, 18868, 5372, 50807, 11, 28114, 15298, 39103, 23311, 4329, 64880, 11, 5173, 15088, 39103, 23311, 10298, 12561, 25262, 35682, 20812, 1482, 198, 5591, 2156, 38521, 31203, 11122, 7094, 39280, 11, 34943, 9239, 56999, 18999, 320, 1840, 11320, 12561, 35111, 2233, 1482, 5372, 48150, 705, 57925, 2156, 19188, 31281, 5372, 48150, 20440, 39479, 6578, 86610, 18999, 26539, 37277, 23446, 6148, 44786, 198, 8164, 39865, 14476, 23680, 15088, 7740, 26539, 37277, 23446, 6148, 44786, 11562, 17721, 12426, 21708, 627, 17279, 18600, 7740, 11562, 22918, 17756, 21022, 6850, 7740, 22918, 1389, 51418, 48445, 4655, 26539, 37277, 23446, 6148, 44786, 48446, 8341, 15088, 5524, 6578, 13, 5927, 510, 18, 27218, 18, 13, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:26", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:27", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:47:27 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '363', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998677', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '15ms', 'x-request-id': 'req_06ee4611f379d5623e6893b5076fbe9d', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed05e407c3f9185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:27", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_06ee4611f379d5623e6893b5076fbe9d", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:27", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000281A9468040>, 'json_data': {'input': [[19871, 17279, 220, 16, 13, 9263, 966, 13, 2366, 15, 198, 5591, 11122, 7094, 39280, 10693, 60748, 1506, 67891, 20, 57925, 44155, 6578, 8131, 2233, 28089, 18482, 6850, 32985, 23680, 4655, 6578, 67768, 51736, 26539, 37277, 23446, 6148, 44065, 48446, 8341, 17165, 5524, 14257, 64322, 12507, 86995, 50693, 6856, 14332, 12415, 720, 89554, 59030, 1506, 220, 23, 13, 16, 627, 16604, 11562, 39900, 19916, 45137, 74828, 29118, 44786, 11122, 7094, 39280, 10693, 5927, 79862, 93323, 13810, 16494, 85864, 20879, 7740, 10693, 21477, 2297, 13337, 4655, 11, 26539, 37277, 23446, 6148, 44065, 48446, 8341, 17165, 11, 34943, 13404, 19479, 4329, 12182, 5879, 198, 14476, 50306, 17756, 1506, 55523, 11122, 7094, 39280, 39479, 91216, 39988, 55813, 74828, 29118, 39988, 5173, 21956, 17721, 39988, 46339, 18437, 68742, 11, 50945, 59138, 56449... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:27", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:47:53 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '25464', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998357', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '19ms', 'x-request-id': 'req_275a10d6d876dd0f748320dcf7e9dd39', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed05e46d8229185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_275a10d6d876dd0f748320dcf7e9dd39", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000281A9468040>, 'json_data': {'input': [[19871, 17279, 220, 16, 13, 9263, 966, 13, 2366, 15, 198, 41682, 25079, 27435, 220, 22638, 13, 26537, 25, 11030, 13, 18384, 720, 20976, 27435, 19871, 220, 1032, 13, 8610, 13, 1721, 198, 27435, 40571, 33742, 51736, 92207, 1506, 25, 21599, 5591, 16248, 3865, 56860, 94136, 7094, 21708, 11, 21599, 5591, 16248, 3865, 30436, 17766, 44065, 5173, 3865, 23311, 11, 21599, 5591, 16248, 3865, 30436, 17766, 44065, 21477, 31101, 4655, 11, 26539, 37277, 23446, 10589, 4655, 11, 26539, 37277, 23446, 6148, 5879, 198, 44065, 48446, 8341, 17165, 198, 1774]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:47:54 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '47', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999911', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_b6055e804c2731ced119339ad64e323d', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed05eeb5ea59185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_b6055e804c2731ced119339ad64e323d", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000281A9468040>, 'json_data': {'input': [[19871, 17279, 220, 16, 13, 9263, 966, 13, 2366, 15, 198, 64880, 14257, 77911, 94071, 20440, 97185, 20219, 16248, 2233, 35667, 39280, 7740, 14257, 8164, 3114, 13337, 2156, 18999, 5927, 12561, 9542, 5591, 9239, 1506, 10693, 13, 72731, 31101, 23934, 26539, 37277, 23446, 6148, 39988, 48446, 8341, 17165, 5927, 5927, 89338, 5879, 198, 10124, 12182, 29118, 56449, 5372, 21923, 9239, 37013, 6856, 98781, 11047, 24697, 10124, 56515, 12507, 5524, 38098, 79370, 98695, 12648, 6578, 53687, 47680, 9882, 10298, 11, 21022, 14525, 3114, 14837, 34082, 12648, 6578, 11047, 24697, 10124, 56515, 12, 12426, 37906, 9136, 3865, 720, 16, 12, 66349, 64933, 1506, 13, 23227, 31203, 14257, 77911, 20812, 1532, 21599, 5591, 16248, 3865, 30436, 17766, 44786, 21477, 31101, 6856, 23934, 74254, 3865, 10693, 7740, 14391, 7975, 50506, 26539, 37277... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:47:57 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '334', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4997818', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '26ms', 'x-request-id': 'req_bf0c10caa475df06000dc84ad28543cf', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed05ef1da2f9185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_bf0c10caa475df06000dc84ad28543cf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If the user requests a calculation, try to execute it. If there is not enough initial data, use general values that apply in most cases. If it is not possible to use general values, request from the user the conditions needed to provide the calculation. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-05, 04:47:58. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retriev... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:47:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:48:01 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '2463', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '792185', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '586ms', 'x-request-id': 'req_c837d017500497827145eae69dcb0513', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed05f070dc29185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_c837d017500497827145eae69dcb0513", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:01", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.8213180707834962, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:01", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:01", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"Given the following user prompt and LLM response, determine if additional information is needed to help the user fulfill their request and continue the conversation effectively. If yes, provide up to 3 additional prompts based on key concepts in the response, such as 'learn more about ...', 'how to determine ...', 'how to calculate ...', etc., that the user can use to gather more information. If no additional prompts are needed, respond with 'No suggestions needed'.\\n\\nUser Prompt: \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u043d\u043e\u0439 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u043e\u0439 \u043a\u043b\u0435\u0442\u043a\u0438\\n\\nLLM Response: \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u043d\u043e\u0439 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u043e\u0439 \u043a\u043b\u0435\u0442\u043a\u0438 \u0432 \u0437\u0434\u0430\u043d\u0438\u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043d\u043e \u043e\u043d\u043e \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u0442\u0438\u043f\u0430 \u0438 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0437\u0434\u0430\u043d\u0438\u044f, \u0435\u0433\u043e \u0432\u044b\u0441\u043e\u0442\u044b, \u043f\u043b\u043e\u0449\u0430\u0434\u0438, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0439 \u043a \u043f\u043e\u0436\u0430\u0440\u043d\u043e\u0439 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438. \\n\\n\u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0438\u0445 \u0437\u0434\u0430\u043d\u0438\u0439, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \u0447\u0430\u0441\u0442\u043d\u044b\u0435 \u0434\u043e\u043c\u0430 \u0438\u043b\u0438 \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0438\u0435 \u043c\u043d\u043e\u0433\u043e\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u043d\u044b\u0435 \u0434\u043e\u043c\u0430, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0434\u043d\u043e\u0439 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u043e\u0439 \u043a\u043b\u0435\u0442\u043a\u0438 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:03", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:48:02 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1330', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799417', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '43ms', 'x-request-id': 'req_8db36b449096baf9b15890255de0723b', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed05f1c8a129185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:03", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_8db36b449096baf9b15890255de0723b", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:03", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u043c\u0435\u0441\u0442\u043d\u044b\u0445 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043d\u043e\u0440\u043c\u0430\u0445 \u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u0445, \u043a\u0430\u0441\u0430\u044e\u0449\u0438\u0445\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u0432 \u0437\u0434\u0430\u043d\u0438\u044f\u0445.', '\u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u043a \u043f\u043e\u0436\u0430\u0440\u043d\u043e\u0439 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 \u0437\u0434\u0430\u043d\u0438\u0439?', '\u041a\u0430\u043a\u0438\u0435 \u0444\u0430\u043a\u0442\u043e\u0440\u044b \u0432\u043b\u0438\u044f\u044e\u0442 \u043d\u0430 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u0431\u043e\u043b\u0435\u0435 \u043e\u0434\u043d\u043e\u0439 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u043e\u0439 \u043a\u043b\u0435\u0442\u043a\u0438 \u0432 \u043c\u043d\u043e\u0433\u043e\u044d\u0442\u0430\u0436\u043d\u044b\u0445 \u0437\u0434\u0430\u043d\u0438\u044f\u0445?']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:03", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u043d\u043e\u0439 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u043e\u0439 \u043a\u043b\u0435\u0442\u043a\u0438 \u0432 \u0437\u0434\u0430\u043d\u0438\u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043d\u043e \u043e\u043d\u043e \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u0442\u0438\u043f\u0430 \u0438 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0437\u0434\u0430\u043d\u0438\u044f, \u0435\u0433\u043e \u0432\u044b\u0441\u043e\u0442\u044b, \u043f\u043b\u043e\u0449\u0430\u0434\u0438, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0439 \u043a \u043f\u043e\u0436\u0430\u0440\u043d\u043e\u0439 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438.\\n\\n\u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0438\u0445 \u0437\u0434\u0430\u043d\u0438\u0439, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \u0447\u0430\u0441\u0442\u043d\u044b\u0435 \u0434\u043e\u043c\u0430 \u0438\u043b\u0438 \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0438\u0435 \u043c\u043d\u043e\u0433\u043e\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u043d\u044b\u0435 \u0434\u043e\u043c\u0430, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0434\u043d\u043e\u0439 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u043e\u0439 \u043a\u043b\u0435\u0442\u043a\u0438 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e, \u0435\u0441\u043b\u0438 \u044d\u0442\u043e \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u043c\u0435\u0441\u0442\u043d\u044b\u043c \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u043d\u043e\u0440\u043c\u0430\u043c \u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c.\\n\\n\u0414\u043b\u044f \u0431\u043e\u043b\u0435\u0435 \u043a\u0440\u0443\u043f\u043d\u044b\u0445 \u0438\u043b\u0438 \u043c\u043d\u043e\u0433\u043e\u044d\u0442\u0430\u0436\u043d\u044b\u0445 \u0437\u0434\u0430\u043d\u0438\u0439, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \u043e\u0442\u0435\u043b\u0438, \u043e\u0444\u0438\u0441\u043d\u044b\u0435 \u0437\u0434\u0430\u043d\u0438\u044f \u0438\u043b\u0438 \u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0441\u043e\u043e\u0440\u0443\u0436\u0435\u043d\u0438\u044f, \u043e\u0431\u044b\u0447\u043d\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0434\u0432\u0443\u0445 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u0434\u043b\u044f \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0439 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438 \u043b\u044e\u0434\u0435\u0439 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0447\u0440\u0435\u0437\u0432\u044b\u0447\u0430\u0439\u043d\u044b\u0445 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0439. \u042d\u0442\u043e \u0442\u0430\u043a\u0436\u0435 \u0441\u0432\u044f\u0437\u0430\u043d\u043e \u0441 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u044c\u044e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0445 \u043f\u0443\u0442\u0435\u0439 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438.\\n\\n\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u043a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441 \u043c\u0435\u0441\u0442\u043d\u044b\u043c\u0438 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c\u0438 \u043d\u043e\u0440\u043c\u0430\u043c\u0438 \u0438 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u0430\u043c\u0438 \u0432 \u043e\u0431\u043b\u0430\u0441\u0442\u0438 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u044b \u0438 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0442\u043e\u0447\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0438 \u0441\u043e\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u044f \u0432\u0441\u0435\u0445 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0439.\\n\\n------------------\\nReferences (/references):\\n\u041e\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:03", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:03", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='17254d6b-15e9-4a0d-903a-7bad17e397ed'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:03", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:04", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:04", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:50", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 04:48:49", "last_active": "2024-12-05, 04:48:49", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 04:48:50", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:50", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:50", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:50", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='suggestion:suggestion_1'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:50", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_inline_buttons with args: (<handlers.BotHandlers object at 0x000002812611B9E0>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='suggestion:suggestion_1', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116659408123300', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 1, 46, 17, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=11, offset=843, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3178, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='suggestion:suggestion_0', text='\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f\u0445 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438 \u0432 \u043c\u043d\u043e\u0433\u043e\u043a\u0432... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:50", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_inline_buttons with result: <coroutine object BotHandlers.handle_inline_buttons at 0x000002814B7D3E00>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:51", "name": "handlers", "levelname": "INFO", "message": "User_id=244732168 clicked on suggestion '\u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u043a \u043f\u043e\u0436\u0430\u0440\u043d\u043e\u0439 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 \u0437\u0434\u0430\u043d\u0438\u0439?'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:51", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='139eb3ea-da57-4d0c-bfe8-e920c665380f' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:51", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='139eb3ea-da57-4d0c-bfe8-e920c665380f'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:51", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:51", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x00000281A8E1EA50>, '\u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u043a \u043f\u043e\u0436\u0430\u0440\u043d\u043e\u0439 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 \u0437\u0434\u0430\u043d\u0438\u0439?'), kwargs: {'chat_history': [HumanMessage(content='\u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u043a \u043f\u043e\u0436\u0430\u0440\u043d\u043e\u0439 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 \u0437\u0434\u0430\u043d\u0438\u0439?', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u043d\u043e\u0439 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u043e\u0439 \u043a\u043b\u0435\u0442\u043a\u0438', additional_kwargs={}, response_metadata={}), AIMessage(content='\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u043d\u043e\u0439 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u043e\u0439 \u043a\u043b\u0435\u0442\u043a\u0438 \u0432 \u0437\u0434\u0430\u043d\u0438\u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043d\u043e \u043e\u043d\u043e \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u0442\u0438\u043f\u0430 \u0438 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0437\u0434\u0430\u043d\u0438\u044f, \u0435\u0433\u043e \u0432\u044b\u0441\u043e\u0442\u044b, \u043f\u043b\u043e\u0449\u0430\u0434\u0438, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0439 \u043a \u043f\u043e\u0436\u0430\u0440\u043d\u043e\u0439 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438.\\n\\n\u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0438\u0445 \u0437\u0434\u0430\u043d\u0438\u0439, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \u0447\u0430\u0441\u0442\u043d\u044b\u0435 \u0434\u043e\u043c\u0430 \u0438\u043b\u0438 \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0438\u0435 \u043c\u043d\u043e\u0433\u043e\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u043d\u044b\u0435 \u0434\u043e\u043c\u0430, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0434\u043d\u043e\u0439 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u043e\u0439 \u043a\u043b\u0435\u0442\u043a\u0438 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e, \u0435\u0441\u043b\u0438 \u044d\u0442\u043e \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u043c\u0435\u0441\u0442\u043d\u044b\u043c \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u043d\u043e\u0440\u043c\u0430\u043c \u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c.\\n\\n\u0414\u043b\u044f \u0431\u043e\u043b\u0435\u0435 \u043a\u0440\u0443\u043f\u043d\u044b\u0445 \u0438\u043b\u0438 \u043c\u043d\u043e\u0433\u043e\u044d\u0442\u0430\u0436\u043d\u044b\u0445 \u0437\u0434\u0430\u043d\u0438\u0439, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \u043e\u0442\u0435\u043b\u0438, \u043e\u0444\u0438\u0441\u043d\u044b\u0435 \u0437\u0434\u0430\u043d\u0438\u044f \u0438\u043b\u0438 \u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0441\u043e\u043e\u0440\u0443\u0436\u0435\u043d\u0438\u044f, \u043e\u0431\u044b\u0447... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:51", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814A04A520>, 'json_data': {'input': [[27435, 16248, 46339, 92582, 18264, 86995, 50693, 6856, 39280, 7820, 5173, 21956, 17721, 39988, 92457, 29256, 18437, 68742, 20440, 39479, 91216, 44786, 64933, 6856, 11122, 7094, 14332, 12415, 30]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:51", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:52", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:48:52 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '134', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999971', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_39398b2093d6bc07cec9e28ea99e587c', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed06053dd842dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:52", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_39398b2093d6bc07cec9e28ea99e587c", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:52", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:52", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814A04A520>, 'json_data': {'input': [[27435, 16248, 46339, 92582, 18264, 86995, 50693, 6856, 39280, 7820, 5173, 21956, 17721, 39988, 92457, 29256, 18437, 68742, 20440, 39479, 91216, 44786, 64933, 6856, 11122, 7094, 14332, 12415, 30]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:52", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:48:53 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '44', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999970', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_e40ee6cf8052bc39fc19a4dfb45841e0', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed0605a68cd2dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_e40ee6cf8052bc39fc19a4dfb45841e0", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814A04A520>, 'json_data': {'input': [[19871, 17279, 220, 16, 13, 9263, 966, 13, 2366, 15, 198, 61432, 1840, 10124, 11320, 14837, 22911, 19916, 40231, 198, 58, 16, 60, 720, 55258, 13404, 7753, 39127, 34613, 59313, 17766, 20879, 220, 1313, 7740, 12182, 14009, 220, 1049, 23, 25756, 13, 97990, 220, 4513, 12, 55258, 36551, 12769, 35095, 98285, 23446, 6148, 23297, 17165, 12415, 18600, 25698, 3114, 24697, 19190, 8379, 86995, 50693, 6856, 39280, 10693, 5173, 21956, 17721, 39988, 92457, 29256, 18437, 5879, 198, 68742, 13289, 198, 58, 17, 60, 720, 39091, 45194, 75281, 46339, 92582, 18999, 78876, 64322, 44786, 5927, 61642, 6148, 19479, 5173, 21956, 17721, 39900, 18600, 13810, 13433, 5927, 11122, 7094, 39280, 10693, 11, 34943, 9239, 56999, 18999, 10693, 7740, 5173, 21956, 17721, 44786, 20879, 2297, 15298, 1506, 10693, 720, 89554, 91216, 44786, 60748, 6856, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:48:53 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '43', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999824', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_bff928da7a6748823a880c15c9155456', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed0605fbbc42dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_bff928da7a6748823a880c15c9155456", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814A04A520>, 'json_data': {'input': [[19871, 17279, 220, 20571, 13, 9413, 18216, 15, 13, 2366, 17, 33006, 1627, 33006, 24, 13, 16, 23227, 21956, 17721, 77495, 92457, 29256, 18437, 61379, 5524, 20346, 10124, 44786, 11122, 7094, 14332, 12415, 93129, 73181, 21923, 23297, 8164, 56857, 28089, 18482, 5927, 720, 2297, 1482, 13337, 48074, 20812, 47273, 5524, 86995, 50693, 6856, 39280, 64880, 510, 17, 1145, 510, 18, 1145, 510, 19, 1145, 61565, 20976, 19871, 35095, 220, 717, 13, 16, 13, 20078, 11, 28599, 17279, 220, 17, 13, 9263, 966, 11, 28599, 17279, 720, 19, 13, 9263, 966, 11, 28599, 17279, 220, 16482, 13, 9413, 18216, 15, 11, 28599, 17279, 220, 20360, 13, 9413, 18216, 15, 11, 28599, 17279, 220, 21098, 13, 9413, 18216, 15, 7740, 13373, 6735, 61390, 14476, 47295, 720, 2297, 49899, 1506, 73226, 64292, 13, 720, 24, 13, 17, 39903, 14009, 58317, 64292, 6323... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:48:54 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '168', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998854', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '13ms', 'x-request-id': 'req_0472a73712a4801304e56830cbbc5401', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed060651e9e2dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_0472a73712a4801304e56830cbbc5401", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814A04A520>, 'json_data': {'input': [[19871, 17279, 220, 16, 13, 9263, 966, 13, 2366, 15, 198, 24, 23227, 21956, 17721, 44858, 92457, 29256, 18437, 61379, 11562, 16331, 12507, 14082, 67602, 44786, 25756, 87221, 13373, 2297, 12394, 18999, 198, 24, 13, 16, 80798, 14476, 50306, 86995, 50693, 6856, 39280, 198, 24, 13, 16, 13, 16, 35889, 1506, 49103, 38657, 1506, 10693, 21923, 14476, 35034, 5372, 44786, 7740, 41291, 41873, 49899, 20812, 5372, 44786, 11122, 7094, 14332, 12415, 11, 13373, 38153, 51736, 8379, 93822, 14332, 9136, 3865, 50819, 92141, 45458, 38214, 20807, 720, 7, 5591, 11047, 12507, 41176, 3114, 1532, 5927, 34943, 13337, 48074, 20812, 47273, 5524, 53280, 14332, 10298, 13373, 41291, 15298, 67589, 27717, 705, 86995, 50693, 3865, 50819, 57925, 44155, 6578, 8131, 2233, 28089, 18482, 11562, 7753, 29256, 31203, 4329, 23311, 4329, 11, 720, 2156, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:48:55 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '186', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998637', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '16ms', 'x-request-id': 'req_cb5257d7ed7a8ab24e701f29142e7817', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed0606a59312dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_cb5257d7ed7a8ab24e701f29142e7817", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814A04A520>, 'json_data': {'input': [[19871, 17279, 220, 19633, 13, 9413, 18216, 15, 13, 2366, 17, 33006, 1958, 33006, 61432, 1840, 10124, 11320, 14837, 22911, 19916, 40231, 720, 58, 16, 60, 67891, 13404, 7753, 39127, 34613, 59313, 17766, 20879, 220, 966, 7952, 15298, 38722, 2233, 4329, 220, 1049, 24, 25756, 13, 97990, 220, 12910, 12, 55258, 36551, 12769, 35095, 98285, 23446, 6148, 23297, 17165, 12415, 720, 2233, 25698, 3114, 24697, 19190, 8379, 92457, 29256, 18437, 68742, 11122, 7094, 14332, 12415, 7740, 34943, 9239, 56999, 62491, 13289, 720, 58, 17, 60, 67891, 13404, 7753, 39127, 34613, 59313, 17766, 20879, 220, 1313, 7740, 12182, 14009, 220, 1049, 23, 25756, 13, 97990, 220, 4513, 12, 55258, 36551, 12769, 35095, 98285, 23446, 6148, 23297, 17165, 12415, 720, 2233, 25698, 3114, 24697, 19190, 8379, 86995, 50693, 6856, 39280, 10693, 5173, 21956, 1... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:48:55 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '60', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999586', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '4ms', 'x-request-id': 'req_5cbc4fa01024c2861f747fc2130eb63b', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed0606d6aca2dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_5cbc4fa01024c2861f747fc2130eb63b", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If the user requests a calculation, try to execute it. If there is not enough initial data, use general values that apply in most cases. If it is not possible to use general values, request from the user the conditions needed to provide the calculation. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-05, 04:48:55. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retriev... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:48:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:49:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:49:01 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '4692', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '794648', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '401ms', 'x-request-id': 'req_63113c19928f9cd947068e6e14ea88bd', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed0606fbc262dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:49:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_63113c19928f9cd947068e6e14ea88bd", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:49:01", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.8866799832787738, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:49:01", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:49:01", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:49:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"Given the following user prompt and LLM response, determine if additional information is needed to help the user fulfill their request and continue the conversation effectively. If yes, provide up to 3 additional prompts based on key concepts in the response, such as 'learn more about ...', 'how to determine ...', 'how to calculate ...', etc., that the user can use to gather more information. If no additional prompts are needed, respond with 'No suggestions needed'.\\n\\nUser Prompt: \u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u043a \u043f\u043e\u0436\u0430\u0440\u043d\u043e\u0439 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 \u0437\u0434\u0430\u043d\u0438\u0439?\\n\\nLLM Response: \u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u043a \u043f\u043e\u0436\u0430\u0440\u043d\u043e\u0439 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 \u0437\u0434\u0430\u043d\u0438\u0439 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u044e\u0442\u0441\u044f \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0438\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f, \u044d\u0442\u0430\u0436\u043d\u043e\u0441\u0442\u0438, \u043f\u043b\u043e\u0449\u0430\u0434\u0438, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0434\u0440\u0443\u0433\u0438\u0445 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a. \u0412\u043e\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0448\u0430\u0433\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u043c\u043e\u0433\u0443\u0442 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u044d\u0442\u0438 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f:\\n\\n1. **\u041a\u043b\u0430\u0441\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u0437\u0434\u0430\u043d\u0438\u044f**: \u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0437\u0434... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:49:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:49:03", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:49:03 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1323', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799095', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '67ms', 'x-request-id': 'req_d67ce04c346720233f408310b696b8cf', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed060942a4b2dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:49:03", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_d67ce04c346720233f408310b696b8cf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:49:03", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043e \u0442\u043e\u043c, \u043a\u0430\u043a \u043a\u043b\u0430\u0441\u0441\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e \u0435\u0433\u043e \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u043c\u0443 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044e \u0438 \u043a\u043b\u0430\u0441\u0441\u0443 \u043f\u043e\u0436\u0430\u0440\u043d\u043e\u0439 \u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438.', '\u0418\u0437\u0443\u0447\u0438\u0442\u0435, \u043a\u0430\u043a\u0438\u0435 \u043d\u043e\u0440\u043c\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u0438 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043d\u043e\u0440\u043c\u044b \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u044e\u0442\u0441\u044f \u043a \u0432\u0430\u0448\u0435\u043c\u0443 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c\u0443 \u0442\u0438\u043f\u0443 \u0437\u0434\u0430\u043d\u0438\u044f.', '\u0423\u0437\u043d\u0430\u0439\u0442\u0435, \u043a\u0430\u043a \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u044b\u0435 \u0440\u0435\u0448\u0435\u043d\u0438\u044f, \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u044e\u0449\u0438\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u043e\u0436\u0430\u0440\u043d\u043e\u0439 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438.']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:49:03", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u043a \u043f\u043e\u0436\u0430\u0440\u043d\u043e\u0439 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 \u0437\u0434\u0430\u043d\u0438\u0439 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u044e\u0442\u0441\u044f \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0438\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f, \u044d\u0442\u0430\u0436\u043d\u043e\u0441\u0442\u0438, \u043f\u043b\u043e\u0449\u0430\u0434\u0438, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0434\u0440\u0443\u0433\u0438\u0445 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a. \u0412\u043e\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0448\u0430\u0433\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u043c\u043e\u0433\u0443\u0442 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u044d\u0442\u0438 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f:\\n\\n1. <b>\u041a\u043b\u0430\u0441\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u0437\u0434\u0430\u043d\u0438\u044f</b>: \u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0437\u0434\u0430\u043d\u0438\u044f (\u0436\u0438\u043b\u043e\u0435, \u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435, \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0438 \u0442.\u0434.) \u0438 \u043a\u043b\u0430\u0441\u0441 \u0435\u0433\u043e \u043f\u043e\u0436\u0430\u0440\u043d\u043e\u0439 \u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438. \u042d\u0442\u043e \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u043d\u044f\u0442\u044c, \u043a\u0430\u043a\u0438\u0435 \u043d\u043e\u0440\u043c\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043c\u044b.\\n\\n2. <b>\u042d\u0442\u0430\u0436\u043d\u043e\u0441\u0442\u044c \u0438 \u043f\u043b\u043e\u0449\u0430\u0434\u044c</b>: \u0423\u0447\u0442\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u044d\u0442\u0430\u0436\u0435\u0439 \u0438 \u043e\u0431\u0449\u0443\u044e \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u0437\u0434\u0430\u043d\u0438\u044f. \u0417\u0434\u0430\u043d\u0438\u044f \u0432\u044b\u0448\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u044d\u0442\u0430\u0436\u0435\u0439 \u0438\u043b\u0438 \u0441 \u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u043f\u043b\u043e\u0449\u0430\u0434\u044c\u044e \u043c\u043e\u0433\u0443\u0442 \u0438\u043c\u0435\u0442\u044c \u0431\u043e\u043b\u0435\u0435 \u0441\u0442\u0440\u043e\u0433\u0438\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f.\\n\\n3. <b>\u041d\u043e\u0440\u043c\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b</b>: \u041e\u0437\u043d\u0430\u043a\u043e\u043c\u044c\u0442\u0435\u0441\u044c \u0441 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u043d\u043e\u0440\u043c\u0430\u0442\u0438\u0432\u043d\u044b\u043c\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043c\u0438, \u0440\u0435\u0433\u043b\u0430\u043c\u0435\u043d\u0442\u0438\u0440\u0443\u044e\u0449\u0438\u043c\u0438 \u043f\u043e\u0436\u0430\u0440\u043d\u0443\u044e \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c. \u042d\u0442\u043e \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043d\u043e\u0440\u043c\u044b \u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0421\u041f 1.13130.2020), \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0440\u0435\u0433\u043b\u0430\u043c\u0435\u043d\u0442\u044b \u0438 \u0437\u0430\u043a\u043e\u043d\u044b.\\n\\n4. <b>\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u044b\u0435 \u0440\u0435\u0448\u0435\u043d\u0438\u044f</b>: \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u0439\u0442\u0435 \u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u043e\u0447\u043d\u044b\u0435 \u0438 \u043a... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:49:03", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:49:03", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='139eb3ea-da57-4d0c-bfe8-e920c665380f'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:49:03", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:49:03", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:49:04", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:51:27", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 04:51:27", "last_active": "2024-12-05, 04:51:27", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 04:51:27", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:51:27", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:51:27", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:51:27", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/status'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:51:27", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: status with args: (<handlers.BotHandlers object at 0x000002812611B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 1, 51, 26, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=7, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3182, supergroup_chat_created=False, text='/status'), update_id=881194044), <telegram.ext._callbackcontext.CallbackContext object at 0x000002814BA9B9A0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:51:27", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: status with result: <coroutine object BotHandlers.status at 0x000002814B617370>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:51:32", "name": "llm_service", "levelname": "INFO", "message": "Empty content on page 7 of document '\u0418\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u043e \u0433\u0435\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0438\u0437\u044b\u0441\u043a\u0430\u043d\u0438\u044f_\u0421\u041f 446.1325800.2019 .pdf'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:51:34", "name": "llm_service", "levelname": "INFO", "message": "Empty content on page 86 of document '\u041d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438 \u0432\u043e\u0437\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f_\u0421\u041f 20.13330.2016.pdf'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:51:34", "name": "llm_service", "levelname": "INFO", "message": "Empty content on page 1 of document '\u041d\u0435\u0441\u0443\u0449\u0438\u0435_\u0438_\u043e\u0433\u0440\u0430\u0436\u0434\u0430\u044e\u0449\u0438\u0435_\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438_\u0421\u041f_70_13330_2012.pdf'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:51:38", "name": "handlers", "levelname": "INFO", "message": "Provided status to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:51:38", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:19", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 04:56:19", "last_active": "2024-12-05, 04:56:19", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 04:56:19", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:20", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:20", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:20", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=244732168, message='\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f, \u0432\u044b\u0441\u043e\u0442\u0430 \u0437\u0434\u0430\u043d\u0438\u044f 18,4 \u043c\u0435\u0442\u0440\u0430,  \u0434\u043b\u0438\u043d\u0430 38 \u043c\u0435\u0442\u0440\u043e\u0432, \u0448\u0438\u0440\u0438\u043d\u0430 22 \u043c\u0435\u0442\u0440\u0430, \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u0436\u0430 766 \u043c2, \u0432\u0441\u0435\u0433\u043e 37 \u043a\u043e\u043c\u043d\u0430\u0442'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:20", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x000002812611B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 1, 56, 19, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3184, supergroup_chat_created=False, text='\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f, \u0432\u044b\u0441\u043e\u0442\u0430 \u0437\u0434\u0430\u043d\u0438\u044f 18,4 \u043c\u0435\u0442\u0440\u0430,  \u0434\u043b\u0438\u043d\u0430 38 \u043c\u0435\u0442\u0440\u043e\u0432, \u0448\u0438\u0440\u0438\u043d\u0430 22 \u043c\u0435\u0442\u0440\u0430, \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u0436\u0430 766 \u043c2, \u0432\u0441\u0435\u0433\u043e 37 \u043a\u043e\u043c\u043d\u0430\u0442'), update_id=881194045), <telegram.ext._callbackcontext.CallbackContext object at 0x00000281A8E191D0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:20", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x000002814CF3F880>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:20", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='cda4ed70-ed3e-4d6d-b660-c9801a750163' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:20", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='cda4ed70-ed3e-4d6d-b660-c9801a750163'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:20", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:20", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x00000281A8E1EA50>, '\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f, \u0432\u044b\u0441\u043e\u0442\u0430 \u0437\u0434\u0430\u043d\u0438\u044f 18,4 \u043c\u0435\u0442\u0440\u0430,  \u0434\u043b\u0438\u043d\u0430 38 \u043c\u0435\u0442\u0440\u043e\u0432, \u0448\u0438\u0440\u0438\u043d\u0430 22 \u043c\u0435\u0442\u0440\u0430, \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u0436\u0430 766 \u043c2, \u0432\u0441\u0435\u0433\u043e 37 \u043a\u043e\u043c\u043d\u0430\u0442'), kwargs: {'chat_history': [HumanMessage(content='\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f, \u0432\u044b\u0441\u043e\u0442\u0430 \u0437\u0434\u0430\u043d\u0438\u044f 18,4 \u043c\u0435\u0442\u0440\u0430,  \u0434\u043b\u0438\u043d\u0430 38 \u043c\u0435\u0442\u0440\u043e\u0432, \u0448\u0438\u0440\u0438\u043d\u0430 22 \u043c\u0435\u0442\u0440\u0430, \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u0436\u0430 766 \u043c2, \u0432\u0441\u0435\u0433\u043e 37 \u043a\u043e\u043c\u043d\u0430\u0442', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u043a \u043f\u043e\u0436\u0430\u0440\u043d\u043e\u0439 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 \u0437\u0434\u0430\u043d\u0438\u0439?', additional_kwargs={}, response_metadata={}), AIMessage(content='\u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u043a \u043f\u043e\u0436\u0430\u0440\u043d\u043e\u0439 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 \u0437\u0434\u0430\u043d\u0438\u0439?\\n-----------\\n\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u043a \u043f\u043e\u0436\u0430\u0440\u043d\u043e\u0439 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 \u0437\u0434\u0430\u043d\u0438\u0439 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u044e\u0442\u0441\u044f \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0438\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f, \u044d\u0442\u0430\u0436\u043d\u043e\u0441\u0442\u0438, \u043f\u043b\u043e\u0449\u0430\u0434\u0438, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0434\u0440\u0443\u0433\u0438\u0445 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a. \u0412\u043e\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0448\u0430\u0433\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u043c\u043e\u0433\u0443\u0442 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u044d\u0442\u0438... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:20", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814A04A520>, 'json_data': {'input': [[19871, 4898, 54570, 26539, 37277, 23446, 6148, 44786, 48446, 8341, 15088, 77083, 13999, 20440, 220, 19, 10693, 49103, 38657, 39900, 20879, 44100, 11, 21477, 2297, 13337, 1506, 11122, 7094, 39280, 220, 972, 11, 19, 11562, 8341, 22911, 11, 220, 7952, 11320, 14525, 220, 1987, 11562, 8341, 24803, 11, 55617, 1840, 31203, 14525, 220, 1313, 11562, 8341, 22911, 11, 5173, 39865, 14476, 23680, 4929, 89666, 22885, 49103, 38657, 1506, 220, 25358, 11562, 17, 11, 35714, 47295, 220, 1806, 44216, 2156, 8131]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:20", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:21", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:56:20 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '75', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999920', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_c4801b8245eb69344e36b709ab5d1dca', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed06b49388c2df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:21", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_c4801b8245eb69344e36b709ab5d1dca", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:21", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:21", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814A04A520>, 'json_data': {'input': [[19871, 4898, 54570, 26539, 37277, 23446, 6148, 44786, 48446, 8341, 15088, 77083, 13999, 20440, 220, 19, 10693, 49103, 38657, 39900, 20879, 44100, 11, 21477, 2297, 13337, 1506, 11122, 7094, 39280, 220, 972, 11, 19, 11562, 8341, 22911, 11, 220, 7952, 11320, 14525, 220, 1987, 11562, 8341, 24803, 11, 55617, 1840, 31203, 14525, 220, 1313, 11562, 8341, 22911, 11, 5173, 39865, 14476, 23680, 4929, 89666, 22885, 49103, 38657, 1506, 220, 25358, 11562, 17, 11, 35714, 47295, 220, 1806, 44216, 2156, 8131]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:21", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:22", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:56:21 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '66', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999920', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_20f1f2afa0e64e67c9ebea2c895cab27', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed06b4fbbea2df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:22", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_20f1f2afa0e64e67c9ebea2c895cab27", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:22", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814A04A520>, 'json_data': {'input': [[25657, 58317, 1532, 11, 11047, 98285, 23446, 6148, 23297, 17165, 10693, 76401, 86610, 62491, 7740, 720, 25, 220, 4278, 19, 11562, 2652, 49526, 8164, 39865, 14476, 23680, 4929, 81757, 33793, 3114, 3865, 8131, 1840, 20346, 10298, 16742, 7820, 24803, 11320, 25, 220, 9748, 21, 11562, 2652, 49526, 25657, 58317, 1532, 11, 5524, 6856, 6578, 86610, 5372, 39900, 7820, 24803, 26503, 39900, 5173, 15088, 39103, 23311, 4329, 25, 220, 17887, 11562, 2652, 49526, 25657, 58317, 1532, 11, 28114, 15298, 39103, 23311, 12415, 6850, 23680, 40842, 5591, 16331, 12507, 25, 220, 9992, 15, 11562, 2652, 49526, 25657, 58317, 1532, 11, 28114, 15298, 39103, 23311, 12415, 6850, 23680, 41291, 32985, 7094, 12507, 25, 220, 5313, 11562, 662, 49526, 61432, 7975, 50506, 40842, 2233, 14082, 13999, 39479, 10124, 28089, 13433, 8379, 15752, 11001, 1... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:22", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:23", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:56:22 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '55', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999755', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_cf4120165460df339d2533d6737b64c8', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed06b551f072df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:23", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_cf4120165460df339d2533d6737b64c8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:23", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814A04A520>, 'json_data': {'input': [[18, 13, 16, 13, 605, 48446, 8341, 13433, 26539, 37277, 23446, 6148, 44858, 25, 35448, 15752, 2233, 14332, 6148, 5372, 48150, 18868, 5372, 50807, 11, 28114, 15298, 39103, 23311, 4329, 64880, 11, 5173, 15088, 39103, 23311, 10298, 12561, 25262, 35682, 20812, 1482, 198, 5591, 2156, 38521, 31203, 11122, 7094, 39280, 11, 34943, 9239, 56999, 18999, 320, 1840, 11320, 12561, 35111, 2233, 1482, 5372, 48150, 705, 57925, 2156, 19188, 31281, 5372, 48150, 20440, 39479, 6578, 86610, 18999, 26539, 37277, 23446, 6148, 44786, 198, 8164, 39865, 14476, 23680, 15088, 7740, 26539, 37277, 23446, 6148, 44786, 11562, 17721, 12426, 21708, 627, 17279, 18600, 7740, 11562, 22918, 17756, 21022, 6850, 7740, 22918, 1389, 51418, 48445, 4655, 26539, 37277, 23446, 6148, 44786, 48446, 8341, 15088, 5524, 6578, 13, 5927, 510, 18, 27218, 18, 13, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:23", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:23", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:56:23 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '68', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998677', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '15ms', 'x-request-id': 'req_3667e370bf7862555551e033e5418bf1', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed06b5a79aa2df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:23", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_3667e370bf7862555551e033e5418bf1", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:23", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814A04A520>, 'json_data': {'input': [[8164, 44075, 44155, 98397, 73281, 39479, 6578, 86610, 17618, 58317, 64292, 63233, 11, 5927, 33793, 12507, 14837, 60990, 44786, 76401, 86610, 62491, 11, 76401, 86610, 62491, 21923, 14476, 35034, 5372, 39900, 198, 2156, 19188, 31281, 18999, 11, 11047, 98285, 23446, 6148, 23297, 17165, 10693, 76401, 86610, 62491, 7740, 42078, 17394, 5372, 7753, 39900, 21923, 9239, 37013, 6856, 39280, 627, 18, 13, 16, 13, 1806, 55617, 1840, 31203, 14525, 26539, 37277, 23446, 6148, 39900, 11562, 17721, 12426, 1506, 25, 49520, 18437, 6735, 61390, 23446, 1532, 11562, 50436, 7094, 3865, 8379, 15752, 11001, 114, 7094, 18999, 64880, 26539, 37277, 23446, 10589, 4655, 11, 11562, 50436, 7094, 3865, 198, 6735, 5372, 16742, 7740, 8379, 15752, 11001, 114, 7094, 9882, 10298, 26539, 37277, 23446, 10589, 4655, 627, 17279, 18600, 7740, 11562, 2... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:23", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:56:24 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '369', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998561', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '17ms', 'x-request-id': 'req_af5607e6f8c4df11f494770b60c3a70b', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed06b607d8f2df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_af5607e6f8c4df11f494770b60c3a70b", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814A04A520>, 'json_data': {'input': [[7094, 29256, 44155, 13433, 50819, 12561, 19479, 16494, 18482, 18154, 21477, 2297, 13337, 1532, 49103, 38657, 1506, 58317, 64292, 22885, 11562, 2156, 14837, 15088, 5591, 17721, 23311, 2233, 39900, 11122, 7094, 39280, 11, 5927, 38153, 44867, 8379, 23446, 198, 5591, 6735, 22911, 28089, 1506, 70129, 21204, 627, 46710, 2297, 13337, 3865, 76401, 86610, 62491, 20440, 25756, 87221, 6856, 63233, 54261, 21923, 29471, 18999, 93129, 73181, 12561, 19479, 16494, 18482, 13373, 81376, 47805, 14332, 1840, 198, 1830, 2233, 50693, 3865, 10298, 16742, 7820, 81659, 68742, 5927, 35387, 3865, 10693, 1482, 14082, 38972, 1506, 5927, 34943, 13337, 48074, 20812, 47273, 5524, 28599, 17279, 220, 1399, 13, 9423, 966, 627, 46710, 2297, 13337, 3865, 6850, 50436, 64292, 63233, 76401, 86610, 62491, 5524, 25756, 1840, 10124, 4898, 16494, 5581... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:26", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:56:25 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '78', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999245', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '9ms', 'x-request-id': 'req_537a025b0f092bb574bb6c79706721e7', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed06b66d8f52df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:26", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_537a025b0f092bb574bb6c79706721e7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:26", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If the user requests a calculation, try to execute it. If there is not enough initial data, use general values that apply in most cases. If it is not possible to use general values, request from the user the conditions needed to provide the calculation. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-05, 04:56:26. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retriev... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:26", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:30", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:56:29 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '2852', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '793759', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '468ms', 'x-request-id': 'req_15119af7742670f93ff8b1ca13d34f1b', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed06b6dd8bb2dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:30", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_15119af7742670f93ff8b1ca13d34f1b", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:30", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.851423203838558, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:30", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:30", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:30", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"Given the following user prompt and LLM response, determine if additional information is needed to help the user fulfill their request and continue the conversation effectively. If yes, provide up to 3 additional prompts based on key concepts in the response, such as 'learn more about ...', 'how to determine ...', 'how to calculate ...', etc., that the user can use to gather more information. If no additional prompts are needed, respond with 'No suggestions needed'.\\n\\nUser Prompt: \u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f, \u0432\u044b\u0441\u043e\u0442\u0430 \u0437\u0434\u0430\u043d\u0438\u044f 18,4 \u043c\u0435\u0442\u0440\u0430,  \u0434\u043b\u0438\u043d\u0430 38 \u043c\u0435\u0442\u0440\u043e\u0432, \u0448\u0438\u0440\u0438\u043d\u0430 22 \u043c\u0435\u0442\u0440\u0430, \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u0436\u0430 766 \u043c2, \u0432\u0441\u0435\u0433\u043e 37 \u043a\u043e\u043c\u043d\u0430\u0442\\n\\nLLM Response: \u0414\u043b\u044f 4-\u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u043c\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438, \u043a\u0430\u043a \u043f\u0440\u0430\u0432\u0438\u043b\u043e, \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0434\u0432\u0435 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043a\u0438. \u042d\u0442\u043e \u0441\u0432\u044f\u0437\u0430\u043d\u043e \u0441 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u044c\u044e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u044b\u0445 \u043f\u0443\u0442\u0435\u0439 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u0433\u043e\u0441\u0442\u0435\u0439 \u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u0430 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043f\u043e\u0436\u0430\u0440\u0430 \u0438\u043b\u0438 \u0434... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:30", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:30", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:56:30 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '211', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799353', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '48ms', 'x-request-id': 'req_1966f4656134779ab62920021a3170d4', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed06b870ff42dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:30", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_1966f4656134779ab62920021a3170d4", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:30", "name": "llm_service", "levelname": "DEBUG", "message": "LLM determined that no suggestions are needed.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:30", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u0414\u043b\u044f 4-\u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u043c\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438, \u043a\u0430\u043a \u043f\u0440\u0430\u0432\u0438\u043b\u043e, \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0434\u0432\u0435 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043a\u0438. \u042d\u0442\u043e \u0441\u0432\u044f\u0437\u0430\u043d\u043e \u0441 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u044c\u044e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u044b\u0445 \u043f\u0443\u0442\u0435\u0439 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u0433\u043e\u0441\u0442\u0435\u0439 \u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u0430 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043f\u043e\u0436\u0430\u0440\u0430 \u0438\u043b\u0438 \u0434\u0440\u0443\u0433\u043e\u0439 \u0447\u0440\u0435\u0437\u0432\u044b\u0447\u0430\u0439\u043d\u043e\u0439 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438.\\n\\n\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0444\u0430\u043a\u0442\u043e\u0440\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0432\u043b\u0438\u044f\u044e\u0442 \u043d\u0430 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0442:\\n\\n1. <b>\u0412\u044b\u0441\u043e\u0442\u0430 \u0437\u0434\u0430\u043d\u0438\u044f</b>: \u041f\u0440\u0438 \u0432\u044b\u0441\u043e\u0442\u0435 \u0437\u0434\u0430\u043d\u0438\u044f 18,4 \u043c\u0435\u0442\u0440\u0430 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438 \u0438\u0437 \u0432\u0435\u0440\u0445\u043d\u0438\u0445 \u044d\u0442\u0430\u0436\u0435\u0439.\\n\\n2. <b>\u041f\u043b\u043e\u0449\u0430\u0434\u044c \u0438 \u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u043a\u0430 \u044d\u0442\u0430\u0436\u0430</b>: \u041f\u043b\u043e\u0449\u0430\u0434\u044c \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u0436\u0430 \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 766 \u043c\u00b2, \u0447\u0442\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u043d\u0430\u043b\u0438\u0447\u0438\u044f \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043f\u0443\u0442\u0435\u0439 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438.\\n\\n3. <b>\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u043e\u043c\u043d\u0430\u0442 \u0438 \u043f\u043e\u0442\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043b\u044e\u0434\u0435\u0439</b>: 37 \u043a\u043e\u043c\u043d\u0430\u0442 \u043f\u0440\u0435\u0434\u043f\u043e\u043b\u0430\u0433\u0430\u044e\u0442 \u0437\u043d\u0430\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0433\u043e\u0441\u0442\u0435\u0439, \u0447\u0442\u043e \u0434\u0435\u043b\u0430\u0435\u0442 \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043f\u0443\u0442\u0435\u0439 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c.\\n\\n\u0412 \u043b\u044e\u0431\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435, \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c\u0441\u044f \u043a \u043c\u0435\u0441\u0442\u043d\u044b\u043c \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u043d\u043e\u0440\u043c\u0430\u043c \u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c \u0438\u043b\u0438 \u043f\u0440\u043e\u043a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u043e\u0440\u043e\u043c \u0438\u043b\u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043e\u043c \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0442\u043e\u0447\u043d\u044b\u0445 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:30", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:30", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='cda4ed70-ed3e-4d6d-b660-c9801a750163'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:31", "name": "handlers", "levelname": "INFO", "message": "Sent response to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:56:31", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:09", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 04:58:09", "last_active": "2024-12-05, 04:58:09", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 04:58:09", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:09", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:10", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:10", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=244732168, message='\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 3\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f, \u0432\u044b\u0441\u043e\u0442\u0430 \u0437\u0434\u0430\u043d\u0438\u044f 15 \u043c\u0435\u0442\u0440\u0430,  \u0434\u043b\u0438\u043d\u0430 38 \u043c\u0435\u0442\u0440\u043e\u0432, \u0448\u0438\u0440\u0438\u043d\u0430 22 \u043c\u0435\u0442\u0440\u0430, \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u0436\u0430 766 \u043c2, \u0432\u0441\u0435\u0433\u043e 30 \u043a\u043e\u043c\u043d\u0430\u0442'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:10", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x000002812611B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 1, 58, 9, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3186, supergroup_chat_created=False, text='\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 3\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f, \u0432\u044b\u0441\u043e\u0442\u0430 \u0437\u0434\u0430\u043d\u0438\u044f 15 \u043c\u0435\u0442\u0440\u0430,  \u0434\u043b\u0438\u043d\u0430 38 \u043c\u0435\u0442\u0440\u043e\u0432, \u0448\u0438\u0440\u0438\u043d\u0430 22 \u043c\u0435\u0442\u0440\u0430, \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u0436\u0430 766 \u043c2, \u0432\u0441\u0435\u0433\u043e 30 \u043a\u043e\u043c\u043d\u0430\u0442'), update_id=881194046), <telegram.ext._callbackcontext.CallbackContext object at 0x00000281A8E192B0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:10", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x000002814BAD98A0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:10", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='b301f050-7ffd-4a86-965f-ccbd1319d7b2' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:10", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='b301f050-7ffd-4a86-965f-ccbd1319d7b2'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:10", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:10", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x00000281A8E1EA50>, '\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 3\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f, \u0432\u044b\u0441\u043e\u0442\u0430 \u0437\u0434\u0430\u043d\u0438\u044f 15 \u043c\u0435\u0442\u0440\u0430,  \u0434\u043b\u0438\u043d\u0430 38 \u043c\u0435\u0442\u0440\u043e\u0432, \u0448\u0438\u0440\u0438\u043d\u0430 22 \u043c\u0435\u0442\u0440\u0430, \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u0436\u0430 766 \u043c2, \u0432\u0441\u0435\u0433\u043e 30 \u043a\u043e\u043c\u043d\u0430\u0442'), kwargs: {'chat_history': [HumanMessage(content='\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 3\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f, \u0432\u044b\u0441\u043e\u0442\u0430 \u0437\u0434\u0430\u043d\u0438\u044f 15 \u043c\u0435\u0442\u0440\u0430,  \u0434\u043b\u0438\u043d\u0430 38 \u043c\u0435\u0442\u0440\u043e\u0432, \u0448\u0438\u0440\u0438\u043d\u0430 22 \u043c\u0435\u0442\u0440\u0430, \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u0436\u0430 766 \u043c2, \u0432\u0441\u0435\u0433\u043e 30 \u043a\u043e\u043c\u043d\u0430\u0442', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f, \u0432\u044b\u0441\u043e\u0442\u0430 \u0437\u0434\u0430\u043d\u0438\u044f 18,4 \u043c\u0435\u0442\u0440\u0430,  \u0434\u043b\u0438\u043d\u0430 38 \u043c\u0435\u0442\u0440\u043e\u0432, \u0448\u0438\u0440\u0438\u043d\u0430 22 \u043c\u0435\u0442\u0440\u0430, \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u0436\u0430 766 \u043c2, \u0432\u0441\u0435\u0433\u043e 37 \u043a\u043e\u043c\u043d\u0430\u0442', additional_kwargs={}, response_metadata={}), AIMessage(content='\u0414\u043b\u044f 4-\u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u043c\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438, \u043a\u0430\u043a \u043f\u0440\u0430\u0432\u0438\u043b\u043e, \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0434\u0432\u0435 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043a\u0438. \u042d\u0442\u043e \u0441\u0432\u044f\u0437\u0430\u043d\u043e \u0441 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u044c\u044e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u044b\u0445 \u043f\u0443\u0442\u0435\u0439 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u0433\u043e\u0441\u0442\u0435\u0439 \u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u0430 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043f\u043e\u0436\u0430\u0440\u0430 \u0438\u043b\u0438 \u0434\u0440\u0443\u0433\u043e\u0439 \u0447\u0440\u0435\u0437\u0432\u044b... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:10", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000281A9468040>, 'json_data': {'input': [[19871, 4898, 54570, 26539, 37277, 23446, 6148, 44786, 48446, 8341, 15088, 77083, 13999, 20440, 220, 18, 10693, 49103, 38657, 39900, 20879, 44100, 11, 21477, 2297, 13337, 1506, 11122, 7094, 39280, 220, 868, 11562, 8341, 22911, 11, 220, 7952, 11320, 14525, 220, 1987, 11562, 8341, 24803, 11, 55617, 1840, 31203, 14525, 220, 1313, 11562, 8341, 22911, 11, 5173, 39865, 14476, 23680, 4929, 89666, 22885, 49103, 38657, 1506, 220, 25358, 11562, 17, 11, 35714, 47295, 220, 966, 44216, 2156, 8131]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:10", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:58:11 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '134', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999921', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_72db1c44688f7da925e6e4f7818a98d2', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed06df93f0bc02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_72db1c44688f7da925e6e4f7818a98d2", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:11", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814CF80180>, 'json_data': {'input': [[19871, 4898, 54570, 26539, 37277, 23446, 6148, 44786, 48446, 8341, 15088, 77083, 13999, 20440, 220, 18, 10693, 49103, 38657, 39900, 20879, 44100, 11, 21477, 2297, 13337, 1506, 11122, 7094, 39280, 220, 868, 11562, 8341, 22911, 11, 220, 7952, 11320, 14525, 220, 1987, 11562, 8341, 24803, 11, 55617, 1840, 31203, 14525, 220, 1313, 11562, 8341, 22911, 11, 5173, 39865, 14476, 23680, 4929, 89666, 22885, 49103, 38657, 1506, 220, 25358, 11562, 17, 11, 35714, 47295, 220, 966, 44216, 2156, 8131]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:58:11 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '53', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999921', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_9b3ae492874e4268fa340a973286bc0e', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed06dffaa99c02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_9b3ae492874e4268fa340a973286bc0e", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814CF80180>, 'json_data': {'input': [[25657, 58317, 1532, 11, 11047, 98285, 23446, 6148, 23297, 17165, 10693, 76401, 86610, 62491, 7740, 720, 25, 220, 4278, 19, 11562, 2652, 49526, 8164, 39865, 14476, 23680, 4929, 81757, 33793, 3114, 3865, 8131, 1840, 20346, 10298, 16742, 7820, 24803, 11320, 25, 220, 9748, 21, 11562, 2652, 49526, 25657, 58317, 1532, 11, 5524, 6856, 6578, 86610, 5372, 39900, 7820, 24803, 26503, 39900, 5173, 15088, 39103, 23311, 4329, 25, 220, 17887, 11562, 2652, 49526, 25657, 58317, 1532, 11, 28114, 15298, 39103, 23311, 12415, 6850, 23680, 40842, 5591, 16331, 12507, 25, 220, 9992, 15, 11562, 2652, 49526, 25657, 58317, 1532, 11, 28114, 15298, 39103, 23311, 12415, 6850, 23680, 41291, 32985, 7094, 12507, 25, 220, 5313, 11562, 662, 49526, 61432, 7975, 50506, 40842, 2233, 14082, 13999, 39479, 10124, 28089, 13433, 8379, 15752, 11001, 1... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:58:12 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '71', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999755', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_5bfd8173cd63f183cf3139d64d9e9638', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed06e050da5c02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_5bfd8173cd63f183cf3139d64d9e9638", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814CF80180>, 'json_data': {'input': [[18, 13, 16, 13, 605, 48446, 8341, 13433, 26539, 37277, 23446, 6148, 44858, 25, 35448, 15752, 2233, 14332, 6148, 5372, 48150, 18868, 5372, 50807, 11, 28114, 15298, 39103, 23311, 4329, 64880, 11, 5173, 15088, 39103, 23311, 10298, 12561, 25262, 35682, 20812, 1482, 198, 5591, 2156, 38521, 31203, 11122, 7094, 39280, 11, 34943, 9239, 56999, 18999, 320, 1840, 11320, 12561, 35111, 2233, 1482, 5372, 48150, 705, 57925, 2156, 19188, 31281, 5372, 48150, 20440, 39479, 6578, 86610, 18999, 26539, 37277, 23446, 6148, 44786, 198, 8164, 39865, 14476, 23680, 15088, 7740, 26539, 37277, 23446, 6148, 44786, 11562, 17721, 12426, 21708, 627, 17279, 18600, 7740, 11562, 22918, 17756, 21022, 6850, 7740, 22918, 1389, 51418, 48445, 4655, 26539, 37277, 23446, 6148, 44786, 48446, 8341, 15088, 5524, 6578, 13, 5927, 510, 18, 27218, 18, 13, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:58:13 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '67', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998677', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '15ms', 'x-request-id': 'req_686292e7aacd6c571a59ed16661c62cf', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed06e0ba96bc02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_686292e7aacd6c571a59ed16661c62cf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000281A9468040>, 'json_data': {'input': [[8164, 44075, 44155, 98397, 73281, 39479, 6578, 86610, 17618, 58317, 64292, 63233, 11, 5927, 33793, 12507, 14837, 60990, 44786, 76401, 86610, 62491, 11, 76401, 86610, 62491, 21923, 14476, 35034, 5372, 39900, 198, 2156, 19188, 31281, 18999, 11, 11047, 98285, 23446, 6148, 23297, 17165, 10693, 76401, 86610, 62491, 7740, 42078, 17394, 5372, 7753, 39900, 21923, 9239, 37013, 6856, 39280, 627, 18, 13, 16, 13, 1806, 55617, 1840, 31203, 14525, 26539, 37277, 23446, 6148, 39900, 11562, 17721, 12426, 1506, 25, 49520, 18437, 6735, 61390, 23446, 1532, 11562, 50436, 7094, 3865, 8379, 15752, 11001, 114, 7094, 18999, 64880, 26539, 37277, 23446, 10589, 4655, 11, 11562, 50436, 7094, 3865, 198, 6735, 5372, 16742, 7740, 8379, 15752, 11001, 114, 7094, 9882, 10298, 26539, 37277, 23446, 10589, 4655, 627, 17279, 18600, 7740, 11562, 2... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:58:14 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '117', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998562', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '17ms', 'x-request-id': 'req_d0e5028ce00f4c1e18574ef5f4cf5b1e', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed06e111cd8c02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_d0e5028ce00f4c1e18574ef5f4cf5b1e", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000281A9468040>, 'json_data': {'input': [[19871, 17279, 220, 16, 13, 9263, 966, 13, 2366, 15, 198, 21, 13, 17, 13, 18, 23784, 7952, 12507, 1506, 10693, 21477, 2297, 13337, 16742, 220, 18, 49103, 38657, 1506, 20879, 95565, 1830, 51736, 5927, 2156, 38521, 2233, 5372, 23446, 1532, 26539, 37277, 23446, 10589, 4655, 11, 52770, 73226, 1840, 39865, 11, 7952, 29256, 44155, 13433, 50819, 20879, 13999, 2297, 18264, 720, 4898, 21599, 5591, 16248, 3865, 30436, 17766, 12648, 6578, 5927, 90226, 1506, 1532, 11, 47353, 20440, 21477, 31101, 1506, 18154, 6850, 16494, 13373, 20346, 17394, 3865, 93129, 73181, 40842, 40251, 29893, 21204, 46177, 84714, 61613, 18264, 21204, 19175, 14391, 7975, 50506, 720, 6148, 10298, 13373, 53419, 19479, 14257, 24803, 52429, 320, 68506, 1830, 38657, 4390, 25079, 29256, 44155, 13433, 50819, 20879, 13999, 2297, 18264, 20879, 95565, 1830, 5... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:58:15 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '131', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998320', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '20ms', 'x-request-id': 'req_6eda57b09a277e937e40961f178263cd', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed06e17291ec02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_6eda57b09a277e937e40961f178263cd", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If the user requests a calculation, try to execute it. If there is not enough initial data, use general values that apply in most cases. If it is not possible to use general values, request from the user the conditions needed to provide the calculation. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-05, 04:58:15. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retriev... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:20", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:58:19 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '2877', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '792750', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '543ms', 'x-request-id': 'req_b4120e18ec6c2e8ead0287adf22fcb5f', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed06e1c8eeb2dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:20", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_b4120e18ec6c2e8ead0287adf22fcb5f", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:20", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.8553487075560176, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:20", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:20", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:20", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"Given the following user prompt and LLM response, determine if additional information is needed to help the user fulfill their request and continue the conversation effectively. If yes, provide up to 3 additional prompts based on key concepts in the response, such as 'learn more about ...', 'how to determine ...', 'how to calculate ...', etc., that the user can use to gather more information. If no additional prompts are needed, respond with 'No suggestions needed'.\\n\\nUser Prompt: \u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 3\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f, \u0432\u044b\u0441\u043e\u0442\u0430 \u0437\u0434\u0430\u043d\u0438\u044f 15 \u043c\u0435\u0442\u0440\u0430,  \u0434\u043b\u0438\u043d\u0430 38 \u043c\u0435\u0442\u0440\u043e\u0432, \u0448\u0438\u0440\u0438\u043d\u0430 22 \u043c\u0435\u0442\u0440\u0430, \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u0436\u0430 766 \u043c2, \u0432\u0441\u0435\u0433\u043e 30 \u043a\u043e\u043c\u043d\u0430\u0442\\n\\nLLM Response: \u0414\u043b\u044f 3-\u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f \u0441 \u0432\u044b\u0441\u043e\u0442\u043e\u0439 \u0437\u0434\u0430\u043d\u0438\u044f 15 \u043c\u0435\u0442\u0440\u043e\u0432, \u043e\u0431\u0449\u0435\u0439 \u043f\u043b\u043e\u0449\u0430\u0434\u044c\u044e \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u0436\u0430 766 \u043c\u00b2 \u0438 \u043d\u0430\u043b\u0438\u0447\u0438\u0435\u043c 30 \u043a\u043e\u043c\u043d\u0430\u0442, \u043e\u0431\u044b\u0447\u043d\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0434\u0432\u0435 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0435 \u043a\u043b\u0435\u0442\u043a\u0438. \u042d\u0442\u043e \u0441\u0432\u044f\u0437\u0430\u043d\u043e \u0441 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u044c\u044e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0439 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438 ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:20", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:20", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 01:58:20 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '230', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799430', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '42ms', 'x-request-id': 'req_ccd9f58dffe8de89f20ebce6e097e612', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed06e35cc982dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:20", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_ccd9f58dffe8de89f20ebce6e097e612", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:20", "name": "llm_service", "levelname": "DEBUG", "message": "LLM determined that no suggestions are needed.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:20", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u0414\u043b\u044f 3-\u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f \u0441 \u0432\u044b\u0441\u043e\u0442\u043e\u0439 \u0437\u0434\u0430\u043d\u0438\u044f 15 \u043c\u0435\u0442\u0440\u043e\u0432, \u043e\u0431\u0449\u0435\u0439 \u043f\u043b\u043e\u0449\u0430\u0434\u044c\u044e \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u0436\u0430 766 \u043c\u00b2 \u0438 \u043d\u0430\u043b\u0438\u0447\u0438\u0435\u043c 30 \u043a\u043e\u043c\u043d\u0430\u0442, \u043e\u0431\u044b\u0447\u043d\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0434\u0432\u0435 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0435 \u043a\u043b\u0435\u0442\u043a\u0438. \u042d\u0442\u043e \u0441\u0432\u044f\u0437\u0430\u043d\u043e \u0441 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u044c\u044e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0439 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438 \u0433\u043e\u0441\u0442\u0435\u0439 \u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u0430 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0447\u0440\u0435\u0437\u0432\u044b\u0447\u0430\u0439\u043d\u044b\u0445 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0439.\\n\\n\u041d\u0430\u043b\u0438\u0447\u0438\u0435 \u0434\u0432\u0443\u0445 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u043f\u0443\u0442\u0438 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438, \u0447\u0442\u043e \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e \u0432\u0430\u0436\u043d\u043e \u0432 \u0437\u0434\u0430\u043d\u0438\u044f\u0445, \u0433\u0434\u0435 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u0435\u0442 \u0438\u043b\u0438 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0437\u043d\u0430\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043b\u044e\u0434\u0435\u0439. \u042d\u0442\u043e \u0442\u0430\u043a\u0436\u0435 \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u043d\u043e\u0440\u043c\u0430\u043c \u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0435\u0434\u0443\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u044e\u0442 \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043f\u0443\u0442\u0435\u0439 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u0437\u0434\u0430\u043d\u0438\u0439 \u0441 \u0442\u0430\u043a\u043e\u0439 \u043f\u043b\u043e\u0449\u0430\u0434\u044c\u044e \u0438 \u0432\u044b\u0441\u043e\u0442\u043e\u0439.\\n\\n\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u043a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u043e\u0440\u043e\u043c \u0438\u043b\u0438 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u043e\u043c \u043f\u043e \u043f\u043e\u0436\u0430\u0440\u043d\u043e\u0439 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u044d\u0442\u0438\u0445 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0439 \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u043c\u0435\u0441\u0442\u043d\u044b\u0445 \u043d\u043e\u0440\u043c.\\n\\n------------------\\nReferences (/references):\\n\u0422\u0435\u043f\u043b\u043e\u0432\u0430\u044f_\u0437\u0430\u0449\u0438\u0442\u0430_\u0437\u0434\u0430\u043d\u0438\u0439_\u0421\u041f_50_13330_2012.pdf, pages: 102\\n\u041e\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0437\u0434\u0430\u043d\u0438\u044f \u0438 \u0441\u043e\u043e\u0440\u0443\u0436\u0435\u043d\u0438\u044f_\u0421\u041f 118.13330.2022.pdf, pages: 10, 1... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:20", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:20", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='b301f050-7ffd-4a86-965f-ccbd1319d7b2'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:21", "name": "handlers", "levelname": "INFO", "message": "Sent response to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 04:58:21", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:11", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 05:02:11", "last_active": "2024-12-05, 05:02:11", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 05:02:11", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:11", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:11", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:11", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=244732168, message='\u043e\u043a, \u043c\u044b \u0437\u0430\u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043b\u0438 2 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0435 \u043a\u043b\u0435\u0442\u043a\u0438 \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f, \u0432\u044b\u0441\u043e\u0442\u0430 \u0437\u0434\u0430\u043d\u0438\u044f 18,4 \u043c\u0435\u0442\u0440\u0430,  \u0434\u043b\u0438\u043d\u0430 38 \u043c\u0435\u0442\u0440\u043e\u0432, \u0448\u0438\u0440\u0438\u043d\u0430 22 \u043c\u0435\u0442\u0440\u0430, \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u0436\u0430 766 \u043c2, \u0432\u0441\u0435\u0433\u043e 37 \u043a\u043e\u043c\u043d\u0430\u0442. \u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043c\u0435\u0436\u0434\u0443 \u043b\u0435\u0441\u0442\u043d\u0438\u0446\u0430\u043c\u0438 8\u043c, \u044d\u0442\u043e \u043e\u043a?'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:11", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x000002812611B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 2, 2, 11, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3188, supergroup_chat_created=False, text='\u043e\u043a, \u043c\u044b \u0437\u0430\u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043b\u0438 2 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0435 \u043a\u043b\u0435\u0442\u043a\u0438 \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f, \u0432\u044b\u0441\u043e\u0442\u0430 \u0437\u0434\u0430\u043d\u0438\u044f 18,4 \u043c\u0435\u0442\u0440\u0430,  \u0434\u043b\u0438\u043d\u0430 38 \u043c\u0435\u0442\u0440\u043e\u0432, \u0448\u0438\u0440\u0438\u043d\u0430 22 \u043c\u0435\u0442\u0440\u0430, \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u0436\u0430 766 \u043c2, \u0432\u0441\u0435\u0433\u043e 37 \u043a\u043e\u043c\u043d\u0430\u0442. \u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043c\u0435\u0436\u0434\u0443 \u043b\u0435\u0441\u0442\u043d\u0438\u0446\u0430\u043c\u0438 8\u043c, \u044d\u0442\u043e \u043e\u043a?'), update_id=881194047), <telegram.ext._callbackcontext.CallbackContext object at 0x00000281A8E18050>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:11", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x000002814BAD94E0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:11", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='33a42674-af24-42eb-b3b1-022e7774898d' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:11", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='33a42674-af24-42eb-b3b1-022e7774898d'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:12", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:12", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x00000281A8E1EA50>, '\u043e\u043a, \u043c\u044b \u0437\u0430\u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043b\u0438 2 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0435 \u043a\u043b\u0435\u0442\u043a\u0438 \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f, \u0432\u044b\u0441\u043e\u0442\u0430 \u0437\u0434\u0430\u043d\u0438\u044f 18,4 \u043c\u0435\u0442\u0440\u0430,  \u0434\u043b\u0438\u043d\u0430 38 \u043c\u0435\u0442\u0440\u043e\u0432, \u0448\u0438\u0440\u0438\u043d\u0430 22 \u043c\u0435\u0442\u0440\u0430, \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u0436\u0430 766 \u043c2, \u0432\u0441\u0435\u0433\u043e 37 \u043a\u043e\u043c\u043d\u0430\u0442. \u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043c\u0435\u0436\u0434\u0443 \u043b\u0435\u0441\u0442\u043d\u0438\u0446\u0430\u043c\u0438 8\u043c, \u044d\u0442\u043e \u043e\u043a?'), kwargs: {'chat_history': [HumanMessage(content='\u043e\u043a, \u043c\u044b \u0437\u0430\u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043b\u0438 2 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0435 \u043a\u043b\u0435\u0442\u043a\u0438 \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f, \u0432\u044b\u0441\u043e\u0442\u0430 \u0437\u0434\u0430\u043d\u0438\u044f 18,4 \u043c\u0435\u0442\u0440\u0430,  \u0434\u043b\u0438\u043d\u0430 38 \u043c\u0435\u0442\u0440\u043e\u0432, \u0448\u0438\u0440\u0438\u043d\u0430 22 \u043c\u0435\u0442\u0440\u0430, \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u0436\u0430 766 \u043c2, \u0432\u0441\u0435\u0433\u043e 37 \u043a\u043e\u043c\u043d\u0430\u0442. \u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043c\u0435\u0436\u0434\u0443 \u043b\u0435\u0441\u0442\u043d\u0438\u0446\u0430\u043c\u0438 8\u043c, \u044d\u0442\u043e \u043e\u043a?', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 3\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f, \u0432\u044b\u0441\u043e\u0442\u0430 \u0437\u0434\u0430\u043d\u0438\u044f 15 \u043c\u0435\u0442\u0440\u0430,  \u0434\u043b\u0438\u043d\u0430 38 \u043c\u0435\u0442\u0440\u043e\u0432, \u0448\u0438\u0440\u0438\u043d\u0430 22 \u043c\u0435\u0442\u0440\u0430, \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u0436\u0430 766 \u043c2, \u0432\u0441\u0435\u0433\u043e 30 \u043a\u043e\u043c\u043d\u0430\u0442', additional_kwargs={}, response_metadata={}), AIMessage(content='\u0414\u043b\u044f 3-\u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f \u0441 \u0432\u044b\u0441\u043e\u0442\u043e\u0439 \u0437\u0434\u0430\u043d\u0438\u044f 15 \u043c\u0435\u0442\u0440\u043e\u0432, \u043e\u0431\u0449\u0435\u0439 \u043f\u043b\u043e\u0449\u0430\u0434\u044c\u044e \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u0436\u0430 766 \u043c\u00b2 \u0438 \u043d\u0430\u043b\u0438\u0447\u0438\u0435\u043c 30 \u043a\u043e\u043c\u043d\u0430\u0442, \u043e\u0431\u044b\u0447\u043d\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u0442... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814CF80B80>, 'json_data': {'input': [[15088, 11, 88300, 30889, 2233, 1482, 15298, 67589, 48355, 220, 17, 26539, 37277, 23446, 6148, 44065, 48446, 8341, 17165, 20440, 220, 19, 10693, 49103, 38657, 39900, 20879, 44100, 11, 21477, 2297, 13337, 1506, 11122, 7094, 39280, 220, 972, 11, 19, 11562, 8341, 22911, 11, 220, 7952, 11320, 14525, 220, 1987, 11562, 8341, 24803, 11, 55617, 1840, 31203, 14525, 220, 1313, 11562, 8341, 22911, 11, 5173, 39865, 14476, 23680, 4929, 89666, 22885, 49103, 38657, 1506, 220, 25358, 11562, 17, 11, 35714, 47295, 220, 1806, 44216, 2156, 8131, 13, 49520, 18437, 6735, 61390, 23446, 1532, 11562, 50436, 7094, 3865, 26539, 37277, 23446, 10589, 50807, 220, 23, 6578, 11, 68979, 72664, 30]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 02:02:12 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '64', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999890', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_457d53e7da24496f83a383b255bc88dc', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=lRv4qxNcPelNuZvRSyYgaRjLrMA2g_jPJ12kSPbaokk-1733364132-1.0.1.1-mWH5lxcY6gnr2q5DEN5oFuHFQx373NFfScUQb5ywca7BLP3Swea27hZE51OVZ3DXjEepEB.gCPLg... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_457d53e7da24496f83a383b255bc88dc", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:12", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814A04A520>, 'json_data': {'input': [[15088, 11, 88300, 30889, 2233, 1482, 15298, 67589, 48355, 220, 17, 26539, 37277, 23446, 6148, 44065, 48446, 8341, 17165, 20440, 220, 19, 10693, 49103, 38657, 39900, 20879, 44100, 11, 21477, 2297, 13337, 1506, 11122, 7094, 39280, 220, 972, 11, 19, 11562, 8341, 22911, 11, 220, 7952, 11320, 14525, 220, 1987, 11562, 8341, 24803, 11, 55617, 1840, 31203, 14525, 220, 1313, 11562, 8341, 22911, 11, 5173, 39865, 14476, 23680, 4929, 89666, 22885, 49103, 38657, 1506, 220, 25358, 11562, 17, 11, 35714, 47295, 220, 1806, 44216, 2156, 8131, 13, 49520, 18437, 6735, 61390, 23446, 1532, 11562, 50436, 7094, 3865, 26539, 37277, 23446, 10589, 50807, 220, 23, 6578, 11, 68979, 72664, 30]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 02:02:12 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '41', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999890', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_d82408b2b93ba3370b88f61d339c5393', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed073e29d1eee33-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_d82408b2b93ba3370b88f61d339c5393", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814A04A520>, 'json_data': {'input': [[25657, 58317, 1532, 11, 11047, 98285, 23446, 6148, 23297, 17165, 10693, 76401, 86610, 62491, 7740, 720, 25, 220, 4278, 19, 11562, 2652, 49526, 8164, 39865, 14476, 23680, 4929, 81757, 33793, 3114, 3865, 8131, 1840, 20346, 10298, 16742, 7820, 24803, 11320, 25, 220, 9748, 21, 11562, 2652, 49526, 25657, 58317, 1532, 11, 5524, 6856, 6578, 86610, 5372, 39900, 7820, 24803, 26503, 39900, 5173, 15088, 39103, 23311, 4329, 25, 220, 17887, 11562, 2652, 49526, 25657, 58317, 1532, 11, 28114, 15298, 39103, 23311, 12415, 6850, 23680, 40842, 5591, 16331, 12507, 25, 220, 9992, 15, 11562, 2652, 49526, 25657, 58317, 1532, 11, 28114, 15298, 39103, 23311, 12415, 6850, 23680, 41291, 32985, 7094, 12507, 25, 220, 5313, 11562, 662, 49526, 61432, 7975, 50506, 40842, 2233, 14082, 13999, 39479, 10124, 28089, 13433, 8379, 15752, 11001, 1... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 02:02:12 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '98', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999755', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_9ae4333fef2230e64deb8b2da1ea667b', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed073e4b902ee33-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_9ae4333fef2230e64deb8b2da1ea667b", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814A04A520>, 'json_data': {'input': [[8164, 44075, 44155, 98397, 73281, 39479, 6578, 86610, 17618, 58317, 64292, 63233, 11, 5927, 33793, 12507, 14837, 60990, 44786, 76401, 86610, 62491, 11, 76401, 86610, 62491, 21923, 14476, 35034, 5372, 39900, 198, 2156, 19188, 31281, 18999, 11, 11047, 98285, 23446, 6148, 23297, 17165, 10693, 76401, 86610, 62491, 7740, 42078, 17394, 5372, 7753, 39900, 21923, 9239, 37013, 6856, 39280, 627, 18, 13, 16, 13, 1806, 55617, 1840, 31203, 14525, 26539, 37277, 23446, 6148, 39900, 11562, 17721, 12426, 1506, 25, 49520, 18437, 6735, 61390, 23446, 1532, 11562, 50436, 7094, 3865, 8379, 15752, 11001, 114, 7094, 18999, 64880, 26539, 37277, 23446, 10589, 4655, 11, 11562, 50436, 7094, 3865, 198, 6735, 5372, 16742, 7740, 8379, 15752, 11001, 114, 7094, 9882, 10298, 26539, 37277, 23446, 10589, 4655, 627, 17279, 18600, 7740, 11562, 2... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 02:02:13 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '139', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998561', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '17ms', 'x-request-id': 'req_9af09d41b96b96e24932f34491edc271', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed073e73e36ee33-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_9af09d41b96b96e24932f34491edc271", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814A04A520>, 'json_data': {'input': [[54745, 1482, 41873, 49899, 56008, 5927, 49520, 23630, 2297, 47273, 25, 35448, 20976, 20976, 12769, 16604, 7753, 23311, 13433, 29118, 13289, 198, 19871, 13433, 6148, 18482, 11047, 98285, 13, 53280, 27717, 198, 20, 13, 22, 49520, 19188, 64134, 12561, 25262, 49907, 21708, 26539, 37277, 23446, 10589, 11, 18154, 6735, 61390, 2156, 13999, 90795, 3865, 10298, 63233, 18154, 2297, 8341, 9542, 44100, 64880, 11, 56449, 5372, 62731, 220, 15, 11, 18, 11562, 198, 7, 7094, 29256, 44155, 13433, 50819, 20879, 220, 15, 11, 1591, 57297, 220, 15, 11, 1758, 11562, 705, 21022, 100147, 40842, 6735, 49907, 5372, 15088, 1389, 220, 15, 11, 868, 11562, 320, 7094, 29256, 44155, 13433, 50819, 20879, 220, 15, 11, 1032, 57297, 220, 15, 11, 1114, 11562, 4390, 74598, 49907, 9882, 26539, 37277, 23446, 10589, 56449, 12648, 62731, 18600, 6856,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 02:02:13 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '147', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998401', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '19ms', 'x-request-id': 'req_a111891531a21bba1385b1ca9633935d', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed073ea1b5dee33-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_a111891531a21bba1385b1ca9633935d", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002814A04A520>, 'json_data': {'input': [[18, 13, 16, 13, 605, 48446, 8341, 13433, 26539, 37277, 23446, 6148, 44858, 25, 35448, 15752, 2233, 14332, 6148, 5372, 48150, 18868, 5372, 50807, 11, 28114, 15298, 39103, 23311, 4329, 64880, 11, 5173, 15088, 39103, 23311, 10298, 12561, 25262, 35682, 20812, 1482, 198, 5591, 2156, 38521, 31203, 11122, 7094, 39280, 11, 34943, 9239, 56999, 18999, 320, 1840, 11320, 12561, 35111, 2233, 1482, 5372, 48150, 705, 57925, 2156, 19188, 31281, 5372, 48150, 20440, 39479, 6578, 86610, 18999, 26539, 37277, 23446, 6148, 44786, 198, 8164, 39865, 14476, 23680, 15088, 7740, 26539, 37277, 23446, 6148, 44786, 11562, 17721, 12426, 21708, 627, 17279, 18600, 7740, 11562, 22918, 17756, 21022, 6850, 7740, 22918, 1389, 51418, 48445, 4655, 26539, 37277, 23446, 6148, 44786, 48446, 8341, 15088, 5524, 6578, 13, 5927, 510, 18, 27218, 18, 13, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 02:02:14 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '111', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998677', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '15ms', 'x-request-id': 'req_762222b2bc7efd9f2fe1b34ef41ac963', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed073ecc87fee33-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_762222b2bc7efd9f2fe1b34ef41ac963", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If the user requests a calculation, try to execute it. If there is not enough initial data, use general values that apply in most cases. If it is not possible to use general values, request from the user the conditions needed to provide the calculation. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-05, 05:02:14. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retriev... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:19", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 02:02:19 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '4660', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '792751', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '543ms', 'x-request-id': 'req_11cdfbede2a8cfa30779a66d45eb5aee', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=0Y8YJxIbzngrpjC.YAXyUAPyD2bvS0XuWSIk52BcXZM-1733364139-1.0.1.1-m3p6mrTg.4yIfFNlNU9dqnQ6I0A_XoHs8CeabiZho9iZsC9BZIu4XgQiwH7G3iYC_kHWRDSSJosQfiicouOk7Q; path=/; expires=Thu, 05-Dec-24 02:32:19 GMT; domain=.api.o... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:19", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_11cdfbede2a8cfa30779a66d45eb5aee", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:19", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.8613590020840441, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:19", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:19", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:19", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"Given the following user prompt and LLM response, determine if additional information is needed to help the user fulfill their request and continue the conversation effectively. If yes, provide up to 3 additional prompts based on key concepts in the response, such as 'learn more about ...', 'how to determine ...', 'how to calculate ...', etc., that the user can use to gather more information. If no additional prompts are needed, respond with 'No suggestions needed'.\\n\\nUser Prompt: \u043e\u043a, \u043c\u044b \u0437\u0430\u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043b\u0438 2 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0435 \u043a\u043b\u0435\u0442\u043a\u0438 \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f, \u0432\u044b\u0441\u043e\u0442\u0430 \u0437\u0434\u0430\u043d\u0438\u044f 18,4 \u043c\u0435\u0442\u0440\u0430,  \u0434\u043b\u0438\u043d\u0430 38 \u043c\u0435\u0442\u0440\u043e\u0432, \u0448\u0438\u0440\u0438\u043d\u0430 22 \u043c\u0435\u0442\u0440\u0430, \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u0436\u0430 766 \u043c2, \u0432\u0441\u0435\u0433\u043e 37 \u043a\u043e\u043c\u043d\u0430\u0442. \u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043c\u0435\u0436\u0434\u0443 \u043b\u0435\u0441\u0442\u043d\u0438\u0446\u0430\u043c\u0438 8\u043c, \u044d\u0442\u043e \u043e\u043a?\\n\\nLLM Response: \u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043c\u0435\u0436\u0434\u0443 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u043c\u0438 \u043a\u043b\u0435\u0442\u043a\u0430\u043c\u0438 \u0432 8 \u043c\u0435\u0442\u0440\u043e\u0432 \u0434\u043b\u044f 4-\u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0440\u0438\u0435\u043c\u043b\u0435\u043c\u044b\u043c, \u043e\u0434\u043d\u0430\u043a\u043e \u0432\u0430\u0436\u043d\u043e \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432:\\n\\n1. **\u042d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0442\u0440\u0435\u0431\u043e... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:19", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:20", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 02:02:20 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '926', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799288', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '53ms', 'x-request-id': 'req_62b34c2af7dcf43a7242e57ff7cb752a', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed0740ffea0efba-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:20", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_62b34c2af7dcf43a7242e57ff7cb752a", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:20", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u043c\u0435\u0441\u0442\u043d\u044b\u0445 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043d\u043e\u0440\u043c\u0430\u0445 \u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u0445, \u043a\u0430\u0441\u0430\u044e\u0449\u0438\u0445\u0441\u044f \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u0432 \u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445 \u0437\u0434\u0430\u043d\u0438\u044f\u0445.', '\u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u0440\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0434\u043b\u044f \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438 \u0432 \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0447\u043d\u044b\u0445 \u0437\u0434\u0430\u043d\u0438\u044f\u0445 \u0441\u043e\u0433\u043b\u0430\u0441\u043d\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u043c \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u0430\u043c?', '\u041a\u0430\u043a \u0441\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u044d\u0442\u0430\u0436 \u0442\u0430\u043a\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c, \u0447\u0442\u043e\u0431\u044b \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442\u044c \u0440\u0430\u0432\u043d\u043e\u043c\u0435\u0440\u043d\u043e\u0435 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0442\u043e\u043a\u043e\u0432 \u043b\u044e\u0434\u0435\u0439 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438?']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:20", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043c\u0435\u0436\u0434\u0443 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u043c\u0438 \u043a\u043b\u0435\u0442\u043a\u0430\u043c\u0438 \u0432 8 \u043c\u0435\u0442\u0440\u043e\u0432 \u0434\u043b\u044f 4-\u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0440\u0438\u0435\u043c\u043b\u0435\u043c\u044b\u043c, \u043e\u0434\u043d\u0430\u043a\u043e \u0432\u0430\u0436\u043d\u043e \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432:\\n\\n1. <b>\u042d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f</b>: \u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043c\u0435\u0436\u0434\u0443 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u043c\u0438 \u043a\u043b\u0435\u0442\u043a\u0430\u043c\u0438 \u0434\u043e\u043b\u0436\u043d\u043e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0442\u044c \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u0443\u044e \u0438 \u0431\u044b\u0441\u0442\u0440\u0443\u044e \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u044e \u043b\u044e\u0434\u0435\u0439 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0447\u0440\u0435\u0437\u0432\u044b\u0447\u0430\u0439\u043d\u043e\u0439 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438. \u0412 \u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445 \u0437\u0434\u0430\u043d\u0438\u044f\u0445 \u043e\u0431\u044b\u0447\u043d\u043e \u0441\u0442\u0430\u0440\u0430\u044e\u0442\u0441\u044f \u0440\u0430\u0437\u043c\u0435\u0449\u0430\u0442\u044c \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0435 \u043a\u043b\u0435\u0442\u043a\u0438 \u0442\u0430\u043a, \u0447\u0442\u043e\u0431\u044b \u043f\u0443\u0442\u044c \u043a \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0439 \u0438\u0437 \u043d\u0438\u0445 \u043d\u0435 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u043b \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0445 \u043f\u043e \u043d\u043e\u0440\u043c\u0430\u043c \u0440\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0439.\\n\\n2. <b>\u041f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u043a\u0430 \u044d\u0442\u0430\u0436\u0435\u0439</b>: \u0412\u0430\u0436\u043d\u043e, \u0447\u0442\u043e\u0431\u044b \u043a\u0430\u0436\u0434\u0430\u044f \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u0430\u044f \u043a\u043b\u0435\u0442\u043a\u0430 \u0431\u044b\u043b\u0430 \u043b\u0435\u0433\u043a\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0441 \u043b\u044e\u0431\u043e\u0433\u043e \u043c\u0435\u0441\u0442\u0430 \u043d\u0430 \u044d\u0442\u0430\u0436\u0435. \u042d\u0442\u043e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u0440\u0430\u0432\u043d\u043e\u043c\u0435\u0440\u043d\u043e\u0435 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0442\u043e\u043a\u043e\u0432 \u043b\u044e\u0434\u0435\u0439 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438.\\n\\n3. <b>\u041c\u0435\u0441\u0442\u043d\u044b\u0435 \u043d\u043e\u0440\u043c\u044b \u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430</b>: \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u043d\u043e\u0433\u043e \u0440\u0435\u0448\u0435\u043d\u0438\u044f \u043c\u0435\u0441\u0442\u043d\u044b\u043c \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u043d\u043e\u0440\u043c\u0430\u043c \u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u043a \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u044e \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u043f\u0443\u0442\u0435\u0439 \u0438 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a.\\n\\n\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0430\u0446\u0438\u0438 \u0441 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u043e\u0440\u043e\u043c \u0438\u043b\u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043e\u043c \u043f... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:20", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:21", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='33a42674-af24-42eb-b3b1-022e7774898d'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:21", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:21", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 05:02:21", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 06:55:39", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": null}
{"asctime": "2024-12-05 06:55:39", "name": "__main__", "levelname": "INFO", "message": "Logging is set up.", "taskName": null}
{"asctime": "2024-12-05 06:55:40", "name": "__main__", "levelname": "INFO", "message": "Application built with provided token.", "taskName": null}
{"asctime": "2024-12-05 06:55:40", "name": "__main__", "levelname": "INFO", "message": "DatabaseService initialized and stored in bot_data.", "taskName": null}
{"asctime": "2024-12-05 06:55:41", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": null}
{"asctime": "2024-12-05 06:55:41", "name": "__main__", "levelname": "INFO", "message": "LLMService initialized and stored in bot_data.", "taskName": null}
{"asctime": "2024-12-05 06:55:41", "name": "__main__", "levelname": "INFO", "message": "Handlers added to the application.", "taskName": null}
{"asctime": "2024-12-05 06:55:41", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": null}
{"asctime": "2024-12-05 06:55:42", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-5"}
{"asctime": "2024-12-05 06:55:42", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-5"}
{"asctime": "2024-12-05 06:55:42", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-5"}
{"asctime": "2024-12-05 07:02:59", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": null}
{"asctime": "2024-12-05 07:02:59", "name": "__main__", "levelname": "INFO", "message": "Logging is set up.", "taskName": null}
{"asctime": "2024-12-05 07:02:59", "name": "__main__", "levelname": "INFO", "message": "Application built with provided token.", "taskName": null}
{"asctime": "2024-12-05 07:02:59", "name": "__main__", "levelname": "INFO", "message": "DatabaseService initialized and stored in bot_data.", "taskName": null}
{"asctime": "2024-12-05 07:03:00", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": null}
{"asctime": "2024-12-05 07:03:00", "name": "__main__", "levelname": "INFO", "message": "LLMService initialized and stored in bot_data.", "taskName": null}
{"asctime": "2024-12-05 07:03:00", "name": "__main__", "levelname": "INFO", "message": "Handlers added to the application.", "taskName": null}
{"asctime": "2024-12-05 07:03:00", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": null}
{"asctime": "2024-12-05 07:03:01", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-5"}
{"asctime": "2024-12-05 07:03:01", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-5"}
{"asctime": "2024-12-05 07:03:02", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-5"}
{"asctime": "2024-12-05 07:03:28", "name": "decorators", "levelname": "DEBUG", "message": "Initialized DatabaseService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:29", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:29", "name": "decorators", "levelname": "DEBUG", "message": "Initialized LLMService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:29", "name": "decorators", "levelname": "DEBUG", "message": "Set user_id: 244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:29", "name": "decorators", "levelname": "DEBUG", "message": "Set user_name: Andrey", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:29", "name": "decorators", "levelname": "DEBUG", "message": "Set language_code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:30", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:30", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:30", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x0000020C2B6FE0C0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 4, 3, 28, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3190, supergroup_chat_created=False, text='/start'), update_id=881194048), <telegram.ext._callbackcontext.CallbackContext object at 0x0000020C2CCC84B0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:30", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x0000020C2CC70900>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:30", "name": "handlers", "levelname": "DEBUG", "message": "User ID: 244732168, User Name: Andrey, Language Code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:30", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 07:03:30", "last_active": "2024-12-05, 07:03:30", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 07:03:30", "name": "handlers", "levelname": "INFO", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:30", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:30", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:38", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 07:03:38", "last_active": "2024-12-05, 07:03:38", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 07:03:38", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:38", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:38", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:38", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/status'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:38", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: status with args: (<handlers.BotHandlers object at 0x0000020C2B6FE0C0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 4, 3, 37, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=7, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3192, supergroup_chat_created=False, text='/status'), update_id=881194049), <telegram.ext._callbackcontext.CallbackContext object at 0x0000020C2CBED860>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:38", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: status with result: <coroutine object BotHandlers.status at 0x0000020C2CAB7610>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:39", "name": "handlers", "levelname": "INFO", "message": "Provided status to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:39", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:48", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 07:03:48", "last_active": "2024-12-05, 07:03:48", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 07:03:48", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:48", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:49", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:49", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:49", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x0000020C2B6FE0C0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 4, 3, 48, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3194, supergroup_chat_created=False, text='/knowledge_base'), update_id=881194050), <telegram.ext._callbackcontext.CallbackContext object at 0x0000020C2CBEEAC0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:49", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x0000020C0A298EE0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:49", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:49", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:54", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 07:03:54", "last_active": "2024-12-05, 07:03:54", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 07:03:54", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:54", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:54", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:54", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:54", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_knowledge_base with args: (<handlers.BotHandlers object at 0x0000020C2B6FE0C0>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116660901387558', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 4, 3, 49, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3195, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', text='\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'),), (InlineKeyboardButton(callback_data='set_knowledge:Indonesian Regulations', text='Indonesian Regulations'),),... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:54", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_knowledge_base with result: <coroutine object BotHandlers.set_knowledge_base at 0x0000020C2B8F7CC0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:54", "name": "handlers", "levelname": "DEBUG", "message": "Set folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:54", "name": "handlers", "levelname": "DEBUG", "message": "Found 29 valid files in folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:54", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_and_index_documents with args: (<llm_service.LLMService object at 0x0000020C2CCC34A0>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:54", "name": "decorators", "levelname": "ERROR", "message": "Exception occurred in load_and_index_documents: LLMService.load_and_index_documents() missing 1 required positional argument: 'knowledge_base_language'", "exc_info": "Traceback (most recent call last):\n  File \"E:\\Python_Projects\\pdflyx\\decorators.py\", line 25, in wrapper\n    result = func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^\nTypeError: LLMService.load_and_index_documents() missing 1 required positional argument: 'knowledge_base_language'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:54", "name": "handlers", "levelname": "ERROR", "message": "Error during load_and_index_documents: An error occurred while indexing documents.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:03:55", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:05:57", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": null}
{"asctime": "2024-12-05 07:05:57", "name": "__main__", "levelname": "INFO", "message": "Logging is set up.", "taskName": null}
{"asctime": "2024-12-05 07:05:58", "name": "__main__", "levelname": "INFO", "message": "Application built with provided token.", "taskName": null}
{"asctime": "2024-12-05 07:05:58", "name": "__main__", "levelname": "INFO", "message": "DatabaseService initialized and stored in bot_data.", "taskName": null}
{"asctime": "2024-12-05 07:05:59", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": null}
{"asctime": "2024-12-05 07:05:59", "name": "__main__", "levelname": "INFO", "message": "LLMService initialized and stored in bot_data.", "taskName": null}
{"asctime": "2024-12-05 07:05:59", "name": "__main__", "levelname": "INFO", "message": "Handlers added to the application.", "taskName": null}
{"asctime": "2024-12-05 07:05:59", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": null}
{"asctime": "2024-12-05 07:06:00", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-5"}
{"asctime": "2024-12-05 07:06:00", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-5"}
{"asctime": "2024-12-05 07:06:00", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-5"}
{"asctime": "2024-12-05 07:06:05", "name": "decorators", "levelname": "DEBUG", "message": "Initialized DatabaseService for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:06:05", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 07:06:05", "last_active": "2024-12-05, 07:06:05", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 07:06:05", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:06:05", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:06:06", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:06:06", "name": "decorators", "levelname": "DEBUG", "message": "Initialized LLMService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:06:06", "name": "decorators", "levelname": "DEBUG", "message": "Set user_id: 244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:06:06", "name": "decorators", "levelname": "DEBUG", "message": "Set user_name: Andrey", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:06:06", "name": "decorators", "levelname": "DEBUG", "message": "Set language_code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:06:06", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:06:06", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:06:06", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x000001678D66B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 4, 6, 4, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3197, supergroup_chat_created=False, text='/knowledge_base'), update_id=881194052), <telegram.ext._callbackcontext.CallbackContext object at 0x00000167B2DCC210>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:06:06", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x00000167B2BBFE20>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:06:07", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:06:07", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:06:08", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 07:06:08", "last_active": "2024-12-05, 07:06:08", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 07:06:08", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:06:08", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:06:08", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:06:08", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:06:08", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_knowledge_base with args: (<handlers.BotHandlers object at 0x000001678D66B9E0>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116658596254302', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 4, 6, 6, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3198, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', text='\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'),), (InlineKeyboardButton(callback_data='set_knowledge:Indonesian Regulations', text='Indonesian Regulations'),), ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:06:08", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_knowledge_base with result: <coroutine object BotHandlers.set_knowledge_base at 0x00000167B19FFCC0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:06:08", "name": "handlers", "levelname": "DEBUG", "message": "Set folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:06:08", "name": "handlers", "levelname": "DEBUG", "message": "Found 29 valid files in folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:06:08", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_and_index_documents with args: (<llm_service.LLMService object at 0x00000167B2DC6D80>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:06:08", "name": "decorators", "levelname": "ERROR", "message": "Exception occurred in load_and_index_documents: LLMService.load_and_index_documents() missing 1 required positional argument: 'knowledge_base_language'", "exc_info": "Traceback (most recent call last):\n  File \"E:\\Python_Projects\\pdflyx\\decorators.py\", line 25, in wrapper\n    result = func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^\nTypeError: LLMService.load_and_index_documents() missing 1 required positional argument: 'knowledge_base_language'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:06:08", "name": "handlers", "levelname": "ERROR", "message": "Error during load_and_index_documents: An error occurred while indexing documents.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:06:08", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:31", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": null}
{"asctime": "2024-12-05 07:14:31", "name": "__main__", "levelname": "INFO", "message": "Logging is set up.", "taskName": null}
{"asctime": "2024-12-05 07:14:31", "name": "__main__", "levelname": "INFO", "message": "Application built with provided token.", "taskName": null}
{"asctime": "2024-12-05 07:14:31", "name": "__main__", "levelname": "INFO", "message": "DatabaseService initialized and stored in bot_data.", "taskName": null}
{"asctime": "2024-12-05 07:14:32", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": null}
{"asctime": "2024-12-05 07:14:32", "name": "__main__", "levelname": "INFO", "message": "LLMService initialized and stored in bot_data.", "taskName": null}
{"asctime": "2024-12-05 07:14:32", "name": "__main__", "levelname": "INFO", "message": "Handlers added to the application.", "taskName": null}
{"asctime": "2024-12-05 07:14:32", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": null}
{"asctime": "2024-12-05 07:14:33", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-5"}
{"asctime": "2024-12-05 07:14:33", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-5"}
{"asctime": "2024-12-05 07:14:33", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-5"}
{"asctime": "2024-12-05 07:14:44", "name": "decorators", "levelname": "DEBUG", "message": "Initialized DatabaseService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:46", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:46", "name": "decorators", "levelname": "DEBUG", "message": "Initialized LLMService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:46", "name": "decorators", "levelname": "DEBUG", "message": "Set user_id: 244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:46", "name": "decorators", "levelname": "DEBUG", "message": "Set user_name: Andrey", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:46", "name": "decorators", "levelname": "DEBUG", "message": "Set language_code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:46", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:46", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:46", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x0000023244C68590>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 4, 14, 44, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3200, supergroup_chat_created=False, text='/start'), update_id=881194054), <telegram.ext._callbackcontext.CallbackContext object at 0x0000023244E7C1A0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:46", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x0000023244E24900>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:46", "name": "handlers", "levelname": "DEBUG", "message": "User ID: 244732168, User Name: Andrey, Language Code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:46", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 07:14:46", "last_active": "2024-12-05, 07:14:46", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 07:14:46", "name": "handlers", "levelname": "INFO", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:46", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:46", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:49", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 07:14:49", "last_active": "2024-12-05, 07:14:49", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 07:14:49", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:49", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:49", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:49", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/status'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:49", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: status with args: (<handlers.BotHandlers object at 0x0000023244C68590>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 4, 14, 48, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=7, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3202, supergroup_chat_created=False, text='/status'), update_id=881194055), <telegram.ext._callbackcontext.CallbackContext object at 0x0000023244D9E970>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:49", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: status with result: <coroutine object BotHandlers.status at 0x0000023244C674C0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:49", "name": "handlers", "levelname": "INFO", "message": "Provided status to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:49", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:51", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 07:14:51", "last_active": "2024-12-05, 07:14:51", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 07:14:51", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:51", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:51", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:51", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:51", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x0000023244C68590>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 4, 14, 51, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3204, supergroup_chat_created=False, text='/knowledge_base'), update_id=881194056), <telegram.ext._callbackcontext.CallbackContext object at 0x0000023244D9E970>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:51", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x0000023244C7FD00>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:52", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:52", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:54", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 07:14:54", "last_active": "2024-12-05, 07:14:54", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 07:14:54", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:54", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:54", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:54", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_knowledge:Indonesian Regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:54", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_knowledge_base with args: (<handlers.BotHandlers object at 0x0000023244C68590>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_knowledge:Indonesian Regulations', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116661988347183', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 4, 14, 51, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3205, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', text='\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'),), (InlineKeyboardButton(callback_data='set_knowledge:Indonesian Regulations', text='Indonesian Regulations')... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:54", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_knowledge_base with result: <coroutine object BotHandlers.set_knowledge_base at 0x0000023244D1DA20>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:54", "name": "handlers", "levelname": "DEBUG", "message": "Set folder_path='E:\\knowledge_base\\indonesian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:54", "name": "handlers", "levelname": "DEBUG", "message": "Found 23 valid files in folder_path='E:\\knowledge_base\\indonesian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:54", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_and_index_documents with args: (<llm_service.LLMService object at 0x0000023244E725A0>, 'E:\\\\knowledge_base\\\\indonesian_regulations', 'Indonesioan'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:54", "name": "llm_service", "levelname": "DEBUG", "message": "Starting load_and_index_documents for folder_path='E:\\knowledge_base\\indonesian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:54", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_vector_store with args: (<llm_service.LLMService object at 0x0000023244E725A0>, 'E:\\\\knowledge_base\\\\indonesian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:54", "name": "faiss.loader", "levelname": "DEBUG", "message": "Environment variable FAISS_OPT_LEVEL is not set, so let's pick the instruction set according to the current CPU", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:54", "name": "faiss.loader", "levelname": "INFO", "message": "Loading faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:54", "name": "faiss.loader", "levelname": "INFO", "message": "Successfully loaded faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:54", "name": "llm_service", "levelname": "INFO", "message": "Loaded vector store from E:\\knowledge_base\\indonesian_regulations\\vector_store", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:54", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_vector_store with result: True", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:54", "name": "llm_service", "levelname": "INFO", "message": "Vector store loaded from existing files in 'E:\\knowledge_base\\indonesian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:54", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_and_index_documents with result: (True, 'Vector store loaded from existing files.')", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:55", "name": "handlers", "levelname": "INFO", "message": "Knowledge base 'Indonesian Regulations' set successfully for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:14:55", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:15:55", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 07:15:55", "last_active": "2024-12-05, 07:15:55", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 07:15:55", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:15:55", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:15:55", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:15:55", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=244732168, message='\u041a\u0430\u043a\u0438\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u0438\u043b\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043e\u043c\u0430 \u043d\u0430 \u0411\u0430\u043b\u0438'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:15:55", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x0000023244C68590>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 4, 15, 54, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3207, supergroup_chat_created=False, text='\u041a\u0430\u043a\u0438\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u0438\u043b\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043e\u043c\u0430 \u043d\u0430 \u0411\u0430\u043b\u0438'), update_id=881194058), <telegram.ext._callbackcontext.CallbackContext object at 0x0000023244D9E970>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:15:55", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x00000232453E3790>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:15:55", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='6636d535-d725-43f8-8ba1-75de7333dd92' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:15:55", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='6636d535-d725-43f8-8ba1-75de7333dd92'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:15:55", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:15:55", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x0000023244E725A0>, '\u041a\u0430\u043a\u0438\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u0438\u043b\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043e\u043c\u0430 \u043d\u0430 \u0411\u0430\u043b\u0438'), kwargs: {'chat_history': [HumanMessage(content='\u041a\u0430\u043a\u0438\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u0438\u043b\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043e\u043c\u0430 \u043d\u0430 \u0411\u0430\u043b\u0438', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u043e\u043a, \u043c\u044b \u0437\u0430\u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043b\u0438 2 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0435 \u043a\u043b\u0435\u0442\u043a\u0438 \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f, \u0432\u044b\u0441\u043e\u0442\u0430 \u0437\u0434\u0430\u043d\u0438\u044f 18,4 \u043c\u0435\u0442\u0440\u0430,  \u0434\u043b\u0438\u043d\u0430 38 \u043c\u0435\u0442\u0440\u043e\u0432, \u0448\u0438\u0440\u0438\u043d\u0430 22 \u043c\u0435\u0442\u0440\u0430, \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u0436\u0430 766 \u043c2, \u0432\u0441\u0435\u0433\u043e 37 \u043a\u043e\u043c\u043d\u0430\u0442. \u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043c\u0435\u0436\u0434\u0443 \u043b\u0435\u0441\u0442\u043d\u0438\u0446\u0430\u043c\u0438 8\u043c, \u044d\u0442\u043e \u043e\u043a?', additional_kwargs={}, response_metadata={}), AIMessage(content='\u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043c\u0435\u0436\u0434\u0443 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u043c\u0438 \u043a\u043b\u0435\u0442\u043a\u0430\u043c\u0438 \u0432 8 \u043c\u0435\u0442\u0440\u043e\u0432 \u0434\u043b\u044f 4-\u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0440\u0438\u0435\u043c\u043b\u0435\u043c\u044b\u043c, \u043e\u0434\u043d\u0430\u043a\u043e \u0432\u0430\u0436\u043d\u043e \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432:\\n\\n1. <b>\u042d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f</b>: \u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043c\u0435\u0436\u0434\u0443 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u043c\u0438 \u043a\u043b\u0435\u0442\u043a\u0430\u043c\u0438 \u0434\u043e\u043b\u0436\u043d\u043e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0442\u044c \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u0443\u044e \u0438 \u0431\u044b\u0441\u0442\u0440\u0443\u044e \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u044e \u043b\u044e\u0434\u0435\u0439 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0447\u0440\u0435\u0437\u0432\u044b\u0447\u0430\u0439\u043d\u043e\u0439 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438. \u0412 \u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445 \u0437\u0434\u0430\u043d\u0438\u044f\u0445 \u043e\u0431\u044b\u0447\u043d\u043e \u0441\u0442\u0430\u0440\u0430\u044e\u0442\u0441\u044f... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:15:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'What language is the following text? Respond with the language name in English.\\n\\nText:\\n\u041a\u0430\u043a\u0438\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u0438\u043b\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043e\u043c\u0430 \u043d\u0430 \u0411\u0430\u043b\u0438', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:15:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:15:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers([('date', 'Thu, 05 Dec 2024 04:15:57 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'nuanu-wimbwa'), ('openai-processing-ms', '550'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '800000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '799925'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '5ms'), ('x-request-id', 'req_3f26da0c95d16610e6a92858098868a1'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=u3tXQfS3As6KtjDDFwDxnkqVHCXqgItdJpqhOPLNMlo-1733372157-1.0.1.1-IUw9BQxztZVBt1jv.MXUguVHCRYgKB2GiujTii3D4vjf_RQbiVG.CKHVDwxt6A0Tbg.0nos_gXRsWCB361F3dw; path=/; expires=Thu, 05-De... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:15:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_3f26da0c95d16610e6a92858098868a1", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:15:57", "name": "llm_service", "levelname": "INFO", "message": "Detected language: The language of the text is Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:15:57", "name": "llm_service", "levelname": "INFO", "message": "Detected user language: The language of the text is Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:15:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Indonesioan.\\n\\nText:\\n\u041a\u0430\u043a\u0438\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u0438\u043b\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043e\u043c\u0430 \u043d\u0430 \u0411\u0430\u043b\u0438', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:15:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:15:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:15:58 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '959', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799934', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '4ms', 'x-request-id': 'req_b38839f6b26ac68a6fe8c4520964223a', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed137ce2beb2df8-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:15:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_b38839f6b26ac68a6fe8c4520964223a", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:15:58", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Indonesioan", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:15:58", "name": "llm_service", "levelname": "INFO", "message": "Translated prompt from The language of the text is Russian. to Indonesioan", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:15:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002324369A7A0>, 'json_data': {'input': [[1271, 15025, 279, 1495, 505, 8690, 311, 59929, 1473, 1, 27435, 16248, 50306, 66386, 23311, 19916, 38822, 8131, 4655, 46177, 7952, 92533, 4655, 77083, 13999, 5524, 14082, 2233, 18482, 20440, 30392, 1482, 56008, 94071, 7952, 12507, 1506, 13373, 64571, 48355, 1, 48018, 311, 1473, 67410, 531, 49772, 266, 39472, 42161, 28999, 61693, 10587, 824, 10036, 47299, 1538, 61638, 20166, 1871, 28273, 359, 14322, 1494, 1891, 64328, 7673]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:15:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:15:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers([('date', 'Thu, 05 Dec 2024 04:15:59 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-allow-origin', '*'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-model', 'text-embedding-ada-002'), ('openai-organization', 'nuanu-wimbwa'), ('openai-processing-ms', '142'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '5000000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '4999933'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', 'req_c8b1f798958a97673be7c3508358b22f'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=47su2dihk.QcTi4O8In4mhGyap_caUK9azQ7iYfNfEs-1733372159-1.0.1.1-1KSWpJ_fK2qS4EkEzM9hPW6IK0V6qvUQczOVM... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:15:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_c8b1f798958a97673be7c3508358b22f", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:15:59", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:15:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002324369A700>, 'json_data': {'input': [[1271, 15025, 279, 1495, 505, 8690, 311, 59929, 1473, 1, 27435, 16248, 50306, 66386, 23311, 19916, 38822, 8131, 4655, 46177, 7952, 92533, 4655, 77083, 13999, 5524, 14082, 2233, 18482, 20440, 30392, 1482, 56008, 94071, 7952, 12507, 1506, 13373, 64571, 48355, 1, 48018, 311, 1473, 67410, 531, 49772, 266, 39472, 42161, 28999, 61693, 10587, 824, 10036, 47299, 1538, 61638, 20166, 1871, 28273, 359, 14322, 1494, 1891, 64328, 7673]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:15:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:16:00 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '85', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999933', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_eca186b68f77c0a3afbf220e8d5c5b4c', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed137dd1e469185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_eca186b68f77c0a3afbf220e8d5c5b4c", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002324369A700>, 'json_data': {'input': [[16074, 2360, 220, 24996, 25178, 362, 720, 47, 7157, 358, 507, 965, 720, 75736, 14451, 29661, 19877, 61389, 5987, 720, 12, 220, 1958, 482, 720, 7, 17, 8, 720, 35, 17243, 15104, 94033, 301, 833, 70, 5169, 276, 37786, 2649, 276, 96804, 14, 503, 15790, 720, 79, 2649, 720, 2785, 74, 455, 720, 6789, 29718, 720, 3617, 10114, 1609, 720, 84073, 635, 74, 11, 720, 790, 5726, 720, 325, 21946, 2706, 3444, 5213, 10011, 664, 32911, 19432, 266, 320, 16, 8, 4170, 95204, 20166, 720, 10759, 1509, 6151, 720, 26554, 306, 10602, 720, 6175, 49772, 266, 720, 22873, 7005, 56587, 720, 76018, 720, 40637, 496, 84, 32160, 13, 720, 7, 18, 8, 720, 35, 17243, 720, 12130, 720, 2821, 88, 301, 833, 70, 5169, 276, 720, 441, 79309, 720, 3935, 3178, 720, 76, 833, 34056, 8826, 597, 73268, 1676, 9703, 5964, 324, 10418, 46931, 26518, 65734, 720, 36... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:16:01 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '57', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999513', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_afe6c824015665443b6c070872e408b4', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed137e30a449185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_afe6c824015665443b6c070872e408b4", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002324369A700>, 'json_data': {'input': [[16074, 2360, 220, 24996, 25388, 362, 720, 47, 7157, 358, 67286, 720, 75736, 14451, 29661, 19877, 61389, 5987, 720, 12, 220, 2491, 482, 720, 97195, 53, 720, 51, 4586, 28876, 32, 8927, 76123, 11337, 32, 13793, 22774, 84510, 720, 984, 76123, 81770, 3891, 31023, 52, 1111, 6395, 62206, 42, 5871, 1753, 720, 13229, 1122, 84077, 36409, 720, 45767, 372, 720, 72011, 278, 220, 3971, 720, 7, 220, 16, 8, 720, 84073, 635, 74, 1666, 287, 9787, 67, 26844, 10804, 10011, 276, 19818, 11203, 29718, 1676, 9703, 74, 720, 67, 18763, 48034, 25, 720, 64, 13, 720, 19907, 14175, 34569, 276, 11717, 276, 549, 829, 4317, 1891, 24922, 26, 720, 65, 13, 720, 19907, 304, 285, 10574, 333, 11717, 276, 4073, 13856, 1676, 9703, 74, 1666, 287, 26, 720, 66, 13, 720, 19907, 14175, 34569, 276, 1676, 9703, 74, 26, 9279, 720, 67, 13, 720, 19907, 14175... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:02", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:16:01 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '58', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999577', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_0755318d66fa1298f070cc4f8273eb4a', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed137e98ea59185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:02", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_0755318d66fa1298f070cc4f8273eb4a", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:02", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002324369A700>, 'json_data': {'input': [[47, 7157, 926, 965, 198, 75736, 14451, 29661, 19877, 61389, 5987, 198, 12, 717, 13220, 98428, 1739, 358, 198, 34, 3178, 455, 503, 40843, 627, 72011, 278, 220, 1419, 198, 34, 3178, 455, 503, 40843, 627, 72011, 278, 220, 1187, 198, 34, 3178, 455, 503, 40843, 627, 72011, 278, 220, 914, 198, 98428, 1739, 264, 198, 34, 3178, 455, 503, 40843, 627, 39, 332, 11253, 293, 198, 34, 360, 77, 45489, 503, 40843, 627, 39, 8186, 69, 272, 198, 49833, 277, 2004, 22579, 288, 4001, 276, 1676, 9703, 74, 11, 3276, 5169, 51476, 345, 76, 833, 34056, 8826, 42161, 28999, 81126, 285, 10587, 2024, 3826, 72, 88518, 42161, 28999, 198, 85169, 11, 42161, 28999, 993, 288, 78450, 81126, 285, 11, 9279, 42161, 28999, 198, 716, 23306, 52288, 8286, 1069, 76018, 276, 627, 98428, 1739, 294, 198, 34, 3178, 455, 503, 40843, 627, 72011, 278, 220, 162... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:02", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:03", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:16:02 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '106', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999796', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_8e482edb20a1e3d56c762f089c980380', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed137eb9fca9185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:03", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_8e482edb20a1e3d56c762f089c980380", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:03", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002324369A700>, 'json_data': {'input': [[47, 7157, 926, 965, 198, 75736, 14451, 29661, 19877, 61389, 5987, 198, 12, 220, 8610, 22, 18722, 36, 198, 35, 4012, 2864, 965, 17216, 37, 198, 16, 13, 15392, 67950, 28999, 17216, 37, 198, 1777, 45368, 3301, 31023, 50360, 14451, 29661, 19877, 61389, 5987, 198, 50, 3481, 2843, 5660, 90, 835, 13256, 29661, 36549, 38, 14137, 426, 5330, 1899, 1111, 480, 1507, 61102, 198, 37412, 269, 25, 46196, 1975, 627, 33, 14685, 300, 62986, 8242, 266, 393, 944, 88, 460, 276, 393, 41996, 1609, 9258, 276, 735, 8458, 23014, 435, 2234, 6455, 17343, 65734, 65577, 2234, 198, 37412, 269, 551, 46196, 1975, 350, 31609, 551, 90014, 35047, 29819, 88, 460, 8826, 78436, 6394, 46343, 17343, 65734, 65577, 2234, 198, 37, 2234, 6455, 17343, 65734, 65577, 2234, 198, 462, 3089, 258, 81, 11371, 72, 2652, 6911, 66, 23632, 264, 6911, 29307, 45, 128... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:03", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:03", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:16:03 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '75', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999692', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '3ms', 'x-request-id': 'req_acd9dcdd38f099e65b83943d25e65d0f', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed137f21c0b9185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:03", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_acd9dcdd38f099e65b83943d25e65d0f", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:03", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'You are a project assistant from the consultant side on design and construction projects. If the user requests a calculation, try to execute it. If there is not enough initial data, use general values that apply in most cases. If it is not possible to use general values, request from the user the conditions needed to provide the calculation. If you don\\'t know the answer, say that you don\\'t know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-05, 07:16:03. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retri... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:03", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:06", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:16:05 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1205', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '796115', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '291ms', 'x-request-id': 'req_fb507bf9229d48b69d6b98435c12f558', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed137f6dc1a2df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:06", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_fb507bf9229d48b69d6b98435c12f558", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:06", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.8020630603734141, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:06", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:06", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:06", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Given the following user prompt and LLM response, determine if additional information is needed to help the user fulfill their request and continue the conversation effectively. If yes, provide up to 3 additional prompts based on key concepts in the response, such as \\'learn more about ...\\', \\'how to determine ...\\', \\'how to calculate ...\\', etc., that the user can use to gather more information. If no additional prompts are needed, respond with \\'No suggestions needed\\'.\\n\\nUser Prompt: To translate the text from Russian to Indonesian:\\n\\n\"\u041a\u0430\u043a\u0438\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u0438\u043b\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043e\u043c\u0430 \u043d\u0430 \u0411\u0430\u043b\u0438\" translates to:\\n\\n\"Sertifikat atau dokumen apa yang perlu dikumpulkan untuk membangun rumah di Bali?\"\\n\\nLLM Response: Yes, the translation is correct. The Russian text \"\u041a\u0430\u043a\u0438\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u0438\u043b\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043e\u043c\u0430 \u043d\u0430 \u0411\u0430\u043b\u0438\" accura... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:06", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:06", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:16:06 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '299', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799700', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '22ms', 'x-request-id': 'req_3cb7660292798b1d9ee9d114cd6f7e47', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed13803dd412df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:06", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_3cb7660292798b1d9ee9d114cd6f7e47", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:06", "name": "llm_service", "levelname": "DEBUG", "message": "LLM determined that no suggestions are needed.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:06", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to The language of the text is Russian..\\n\\nText:\\nYes, the translation is correct. The Russian text \"\u041a\u0430\u043a\u0438\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u0438\u043b\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043e\u043c\u0430 \u043d\u0430 \u0411\u0430\u043b\u0438\" accurately translates to Indonesian as \"Sertifikat atau dokumen apa yang perlu dikumpulkan untuk membangun rumah di Bali?\"', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:06", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:10", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:16:10 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '3815', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799884', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '8ms', 'x-request-id': 'req_e3a60bc311714484b61a3329440297e9', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1380788322df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:10", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_e3a60bc311714484b61a3329440297e9", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:10", "name": "llm_service", "levelname": "INFO", "message": "Translated text to The language of the text is Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:10", "name": "llm_service", "levelname": "INFO", "message": "Translated answer from Indonesioan to The language of the text is Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:10", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u0414\u0430, \u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439. \u0420\u0443\u0441\u0441\u043a\u0438\u0439 \u0442\u0435\u043a\u0441\u0442 \"\u041a\u0430\u043a\u0438\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u0438\u043b\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043e\u043c\u0430 \u043d\u0430 \u0411\u0430\u043b\u0438\" \u0442\u043e\u0447\u043d\u043e \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u043d\u0430 \u0438\u043d\u0434\u043e\u043d\u0435\u0437\u0438\u0439\u0441\u043a\u0438\u0439 \u043a\u0430\u043a \"Sertifikat atau dokumen apa yang perlu dikumpulkan untuk membangun rumah di Bali?\"', {'Peraturan Pemerintah Nomor 16 Tahun 2O2I Tentang Bangunan Gedung.pdf', 'Undang Nomor 6 Tahun 2017 Tentang Arsitek.pdf', 'Peraturan Pemerintah Nomor 15Tahun 2021 Tentang Arsitek.pdf'}, None)", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:10", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:10", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='6636d535-d725-43f8-8ba1-75de7333dd92'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:11", "name": "handlers", "levelname": "INFO", "message": "Sent response to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:16:11", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:26:54", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": null}
{"asctime": "2024-12-05 07:26:54", "name": "__main__", "levelname": "INFO", "message": "Logging is set up.", "taskName": null}
{"asctime": "2024-12-05 07:26:54", "name": "__main__", "levelname": "INFO", "message": "Application built with provided token.", "taskName": null}
{"asctime": "2024-12-05 07:26:54", "name": "__main__", "levelname": "INFO", "message": "DatabaseService initialized and stored in bot_data.", "taskName": null}
{"asctime": "2024-12-05 07:26:55", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": null}
{"asctime": "2024-12-05 07:26:55", "name": "__main__", "levelname": "INFO", "message": "LLMService initialized and stored in bot_data.", "taskName": null}
{"asctime": "2024-12-05 07:26:55", "name": "__main__", "levelname": "INFO", "message": "Handlers added to the application.", "taskName": null}
{"asctime": "2024-12-05 07:26:55", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": null}
{"asctime": "2024-12-05 07:26:56", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-5"}
{"asctime": "2024-12-05 07:26:56", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-5"}
{"asctime": "2024-12-05 07:26:56", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-5"}
{"asctime": "2024-12-05 07:27:59", "name": "decorators", "levelname": "DEBUG", "message": "Initialized DatabaseService for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:27:59", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 07:27:59", "last_active": "2024-12-05, 07:27:59", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 07:27:59", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:27:59", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:00", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:00", "name": "decorators", "levelname": "DEBUG", "message": "Initialized LLMService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:00", "name": "decorators", "levelname": "DEBUG", "message": "Set user_id: 244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:00", "name": "decorators", "levelname": "DEBUG", "message": "Set user_name: Andrey", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:00", "name": "decorators", "levelname": "DEBUG", "message": "Set language_code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:00", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:00", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:00", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x00000171A1D5E0C0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 4, 27, 59, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3209, supergroup_chat_created=False, text='/knowledge_base'), update_id=881194059), <telegram.ext._callbackcontext.CallbackContext object at 0x00000171A1D6AEB0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:00", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x00000171A1DF8940>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:01", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:01", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:03", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 07:28:02", "last_active": "2024-12-05, 07:28:02", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 07:28:03", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:03", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:03", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:03", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_knowledge:Indonesian Regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:03", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_knowledge_base with args: (<handlers.BotHandlers object at 0x00000171A1D5E0C0>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_knowledge:Indonesian Regulations', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116658642984410', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 4, 28, 1, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3210, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', text='\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'),), (InlineKeyboardButton(callback_data='set_knowledge:Indonesian Regulations', text='Indonesian Regulations'),... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:03", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_knowledge_base with result: <coroutine object BotHandlers.set_knowledge_base at 0x00000171A1CEDA20>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:03", "name": "handlers", "levelname": "DEBUG", "message": "Set folder_path='E:\\knowledge_base\\indonesian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:03", "name": "handlers", "levelname": "DEBUG", "message": "Found 23 valid files in folder_path='E:\\knowledge_base\\indonesian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:03", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_and_index_documents with args: (<llm_service.LLMService object at 0x00000171A1E49700>, 'E:\\\\knowledge_base\\\\indonesian_regulations', 'Indonesioan'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:03", "name": "llm_service", "levelname": "DEBUG", "message": "Starting load_and_index_documents for folder_path='E:\\knowledge_base\\indonesian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:03", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_vector_store with args: (<llm_service.LLMService object at 0x00000171A1E49700>, 'E:\\\\knowledge_base\\\\indonesian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:03", "name": "faiss.loader", "levelname": "DEBUG", "message": "Environment variable FAISS_OPT_LEVEL is not set, so let's pick the instruction set according to the current CPU", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:03", "name": "faiss.loader", "levelname": "INFO", "message": "Loading faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:03", "name": "faiss.loader", "levelname": "INFO", "message": "Successfully loaded faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:03", "name": "llm_service", "levelname": "INFO", "message": "Loaded vector store from E:\\knowledge_base\\indonesian_regulations\\vector_store", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:03", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_vector_store with result: True", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:03", "name": "llm_service", "levelname": "INFO", "message": "Vector store loaded from existing files in 'E:\\knowledge_base\\indonesian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:03", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_and_index_documents with result: (True, 'Vector store loaded from existing files.')", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:03", "name": "handlers", "levelname": "INFO", "message": "Knowledge base 'Indonesian Regulations' set successfully for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:03", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:19", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 07:28:19", "last_active": "2024-12-05, 07:28:19", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 07:28:19", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:19", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:19", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:19", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=244732168, message='\u041a\u0430\u043a\u0438\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u0438\u043b\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043e\u043c\u0430 \u043d\u0430 \u0411\u0430\u043b\u0438'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:19", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x00000171A1D5E0C0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 4, 28, 18, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3212, supergroup_chat_created=False, text='\u041a\u0430\u043a\u0438\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u0438\u043b\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043e\u043c\u0430 \u043d\u0430 \u0411\u0430\u043b\u0438'), update_id=881194061), <telegram.ext._callbackcontext.CallbackContext object at 0x00000171A1D6AEB0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:19", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x00000171A1F77A60>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:19", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='79090775-c9c1-4d88-9a56-511dc76e81bc' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:19", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='79090775-c9c1-4d88-9a56-511dc76e81bc'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:19", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:19", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x00000171A1E49700>, '\u041a\u0430\u043a\u0438\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u0438\u043b\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043e\u043c\u0430 \u043d\u0430 \u0411\u0430\u043b\u0438'), kwargs: {'chat_history': [HumanMessage(content='\u041a\u0430\u043a\u0438\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u0438\u043b\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043e\u043c\u0430 \u043d\u0430 \u0411\u0430\u043b\u0438', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u041a\u0430\u043a\u0438\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u0438\u043b\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043e\u043c\u0430 \u043d\u0430 \u0411\u0430\u043b\u0438', additional_kwargs={}, response_metadata={}), AIMessage(content='\u0414\u0430, \u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439. \u0420\u0443\u0441\u0441\u043a\u0438\u0439 \u0442\u0435\u043a\u0441\u0442 \"\u041a\u0430\u043a\u0438\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u0438\u043b\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043e\u043c\u0430 \u043d\u0430 \u0411\u0430\u043b\u0438\" \u0442\u043e\u0447\u043d\u043e \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u043d\u0430 \u0438\u043d\u0434\u043e\u043d\u0435\u0437\u0438\u0439\u0441\u043a\u0438\u0439 \u043a\u0430\u043a \"Sertifikat atau dokumen apa yang perlu dikumpulkan untuk membangun rumah di Bali?\"', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u043e\u043a, \u043c\u044b \u0437\u0430\u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043b\u0438 2 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0435 \u043a\u043b\u0435\u0442\u043a\u0438 \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f, \u0432\u044b\u0441\u043e\u0442\u0430 \u0437\u0434\u0430\u043d\u0438\u044f 18,4 \u043c\u0435\u0442\u0440\u0430,  \u0434\u043b\u0438\u043d\u0430 38 \u043c\u0435\u0442\u0440\u043e\u0432, \u0448\u0438\u0440\u0438\u043d\u0430 22 \u043c\u0435\u0442\u0440\u0430, \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u0436\u0430 766 \u043c2, \u0432\u0441\u0435\u0433\u043e 37 \u043a\u043e\u043c... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:19", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'What language is the following text? Respond with the language name in English.\\n\\nText:\\n\u041a\u0430\u043a\u0438\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u0438\u043b\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043e\u043c\u0430 \u043d\u0430 \u0411\u0430\u043b\u0438', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:19", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:21", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers([('date', 'Thu, 05 Dec 2024 04:28:20 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'nuanu-wimbwa'), ('openai-processing-ms', '288'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '800000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '799925'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '5ms'), ('x-request-id', 'req_80337686cd1866b40691b6a55e9ec48c'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=DYApBoE7NtxfvGhOsqTJsagpNwhJ3TB0zkC2vPyzrSA-1733372900-1.0.1.1-OlNCp8QrIFGxXMeoWtz7YEWZ4W3WIj8qdUJX5LM98zMuHhIbmCkGwVmnTaD5sXTyTkaC_2CZ8GHf6eYfGqKjTQ; path=/; expires=Thu, 05-De... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:21", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_80337686cd1866b40691b6a55e9ec48c", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:21", "name": "llm_service", "levelname": "INFO", "message": "Detected language: The language of the text is Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:21", "name": "llm_service", "levelname": "INFO", "message": "Detected user language: The language of the text is Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:21", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Indonesioan and respond only with the translated text. Do not include any explanations or comments.\\n\\nText:\\n\u041a\u0430\u043a\u0438\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u0438\u043b\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043e\u043c\u0430 \u043d\u0430 \u0411\u0430\u043b\u0438', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:21", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:21", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:28:21 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '476', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799911', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '6ms', 'x-request-id': 'req_0ba4aa86554404a2d0402f2af239e208', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed149f66bf9c02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:21", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_0ba4aa86554404a2d0402f2af239e208", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:21", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Indonesioan", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:21", "name": "llm_service", "levelname": "INFO", "message": "Translated prompt from The language of the text is Russian. to Indonesioan", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:22", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000171A066A660>, 'json_data': {'input': [[50, 531, 49772, 266, 39472, 42161, 28999, 61693, 10587, 824, 10036, 47299, 1538, 61638, 20166, 1871, 28273, 359, 14322, 1494, 1891, 64328, 30]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:22", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:22", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers([('date', 'Thu, 05 Dec 2024 04:28:22 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-allow-origin', '*'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-model', 'text-embedding-ada-002'), ('openai-organization', 'nuanu-wimbwa'), ('openai-processing-ms', '113'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '5000000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '4999976'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', 'req_8e28e90f021c1c3119ec9e5cd16f6aad'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=jQugJQd2Q8Cqxn8bOSPjZz21c4hN5ETugSqD.eZVNoI-1733372902-1.0.1.1-6KMWHHathEAUakHgTIZ20uh8vwoS93HO8u8RO... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:22", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_8e28e90f021c1c3119ec9e5cd16f6aad", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:23", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:23", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000171A068AD40>, 'json_data': {'input': [[50, 531, 49772, 266, 39472, 42161, 28999, 61693, 10587, 824, 10036, 47299, 1538, 61638, 20166, 1871, 28273, 359, 14322, 1494, 1891, 64328, 30]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:23", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:24", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:28:23 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '42', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999976', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_33cdf81f4b2a275a79858c749231f3b9', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14a0238709185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:24", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_33cdf81f4b2a275a79858c749231f3b9", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:24", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000171A068AD40>, 'json_data': {'input': [[17809, 328, 358, 67286, 198, 6124, 14451, 29661, 19877, 61389, 5987, 198, 12, 220, 17, 998, 21, 18722, 9, 15448, 3178, 26518, 65734, 53293, 2234, 20166, 2004, 46225, 287, 276, 10418, 68130, 11, 6179, 10426, 2024, 74, 1339, 294, 13154, 1286, 71, 73427, 14479, 316, 3689, 25177, 198, 81829, 10426, 69986, 281, 41996, 396, 22826, 198, 51, 786, 58333, 13, 868, 13, 68184, 306, 10602, 30892, 30280, 3178, 2956, 14, 4061, 1796, 393, 2649, 328, 67521, 198, 5958, 198, 35, 564, 28999, 76198, 10426, 735, 10670, 5697, 44111, 39, 91193, 391, 824, 967, 3444, 276, 198, 78, 17343, 65734, 53293, 2234, 198, 91052, 220, 24, 64, 21045, 25774, 300, 198, 8747, 88518, 220, 17, 46, 8548, 20066, 296, 17, 198, 78, 17343, 65734, 53293, 2234, 9279, 198, 33, 26228, 597, 40843, 220, 24, 65, 21045, 198, 10036, 300, 1891, 88518, 220, 16, 46, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:24", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:24", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:28:24 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '120', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999678', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '3ms', 'x-request-id': 'req_41f4e5071875828fd9e82e848261b11d', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14a08bcd69185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:24", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_41f4e5071875828fd9e82e848261b11d", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:24", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000171A068AD40>, 'json_data': {'input': [[47, 7157, 3110, 965, 198, 75736, 14451, 29661, 326, 8225, 61389, 5987, 198, 12, 6640, 7058, 7, 18, 8, 393, 336, 97259, 39472, 52150, 301, 8083, 3026, 27253, 75386, 42161, 28999, 198, 18126, 19253, 276, 32911, 743, 68821, 91193, 391, 94033, 301, 833, 70, 5169, 276, 44111, 39, 198, 441, 79, 2649, 393, 41996, 396, 1494, 14569, 97308, 75095, 75995, 14441, 6217, 20166, 198, 76, 408, 91643, 274, 531, 49772, 266, 44111, 39, 513, 21946, 2706, 3444, 5213, 10011, 664, 198, 79, 2649, 19432, 266, 320, 16, 8, 15907, 85795, 21045, 597, 5204, 824, 287, 34855, 44111, 39, 627, 7, 3174, 328, 531, 49772, 266, 44111, 39, 513, 21946, 2706, 3444, 5213, 10011, 664, 32911, 19432, 266, 320, 17, 340, 67, 26844, 10418, 46931, 274, 531, 49772, 266, 824, 967, 3444, 276, 81126, 285, 345, 48624, 10011, 3444, 276, 16947, 496, 84, 32160, 11... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:24", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:28:24 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '95', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999453', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '6ms', 'x-request-id': 'req_382ba0ebd1498207bbd04a520242f34e', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14a0dc8599185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_382ba0ebd1498207bbd04a520242f34e", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000171A068AD40>, 'json_data': {'input': [[2131, 33006, 7, 17, 8, 720, 59742, 53857, 16623, 11398, 50848, 513, 21946, 2706, 3444, 5213, 10011, 664, 32911, 19432, 266, 320, 16, 8, 720, 466, 3826, 72, 25177, 25, 720, 64, 13, 1765, 266, 1048, 5964, 72, 93164, 2704, 98759, 88518, 14531, 1494, 26, 2355, 65, 13, 1765, 266, 1048, 5964, 72, 93164, 2704, 65284, 336, 321, 23014, 26518, 65734, 53293, 2234, 26, 720, 36255, 720, 66, 13, 720, 67, 564, 28999, 2754, 91298, 2024, 74, 1339, 13, 720, 7, 18, 8, 720, 59742, 53857, 16623, 81126, 285, 513, 21946, 2706, 3444, 5213, 10011, 664, 32911, 19432, 266, 320, 16, 8, 2024, 3826, 72, 720, 67, 2850, 25, 720, 64, 13, 828, 4543, 372, 26518, 65734, 53293, 2234, 26, 9279, 2355, 65, 13, 312, 1031, 3444, 81126, 285, 26518, 65734, 53293, 2234, 13, 720, 7, 19, 8, 720, 1061, 4543, 372, 513, 21946, 2706, 3444, 5213, 10011, 664, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:26", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:28:25 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '127', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999462', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '6ms', 'x-request-id': 'req_c9c6282345390013850bd134b64e1273', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14a1039c49185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:26", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_c9c6282345390013850bd134b64e1273", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:26", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000171A068AD40>, 'json_data': {'input': [[47, 7157, 926, 965, 198, 75736, 14451, 29661, 19877, 61389, 5987, 198, 12, 20, 7058, 972, 13, 328, 531, 49772, 266, 5034, 1609, 435, 2234, 6455, 17343, 65734, 65577, 2234, 10587, 198, 9697, 53191, 332, 23741, 834, 287, 34855, 17216, 37, 38660, 274, 531, 49772, 266, 10587, 198, 67, 8799, 23014, 52416, 393, 41996, 396, 1494, 14569, 97308, 20166, 55525, 460, 8826, 198, 74, 8458, 23014, 34698, 6455, 17343, 65734, 65577, 2234, 513, 79344, 45217, 198, 13223, 276, 3716, 266, 8826, 627, 777, 13, 8242, 266, 70950, 10462, 735, 752, 336, 321, 23014, 17343, 65734, 65577, 2234, 10587, 198, 9697, 53191, 332, 23741, 834, 287, 34855, 26313, 30962, 38, 38660, 1765, 266, 259, 10018, 198, 65, 3178, 10462, 98759, 88518, 2704, 65284, 336, 321, 23014, 17343, 65734, 65577, 2234, 627, 508, 13, 432, 967, 3444, 56534, 26209, 69383, 6... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:26", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:26", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:28:26 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '65', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999638', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '4ms', 'x-request-id': 'req_90fcc70cb5b9ac63a2872acebaeb9732', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14a156ccf9185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:26", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_90fcc70cb5b9ac63a2872acebaeb9732", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:26", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If the user requests a calculation, try to execute it. If there is not enough initial data, use general values that apply in most cases. If it is not possible to use general values, request from the user the conditions needed to provide the calculation. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-05, 07:28:26. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retriev... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:26", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:30", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:28:30 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '3646', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '796597', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '255ms', 'x-request-id': 'req_0d29ec00977f19183ae0d75127b95875', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14a177ccdc02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:30", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_0d29ec00977f19183ae0d75127b95875", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:30", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to The language of the text is Russian. and respond only with the translated text. Do not include any explanations or comments.\\n\\nText:\\nUntuk membangun rumah di Bali, Anda perlu mengumpulkan beberapa sertifikat dan dokumen penting, antara lain:\\n\\n1. **Surat Bukti Hak Atas Tanah**: Dokumen ini menunjukkan bahwa Anda memiliki hak legal atas tanah tempat Anda berencana membangun rumah.\\n\\n2. **Izin Mendirikan Bangunan (IMB)**: Izin ini dikeluarkan oleh pemerintah daerah dan diperlukan untuk memulai konstruksi bangunan.\\n\\n3. **Surat Bukti Kepemilikan Bangunan Gedung (SBKBG)**: Ini adalah dokumen yang membuktikan kepemilikan Anda atas bangunan yang akan didirikan.\\n\\n4. **Rencana Teknis Bangunan**: Dokumen ini meliputi rencana arsitektur, struktur, dan MEP (mekanikal, elektrikal, dan pemipaan) untuk memastikan bangunan dirancang sesuai stand... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:30", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:35", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:28:35 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '5199', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799645', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '26ms', 'x-request-id': 'req_b75a0a2883b4d39e0a80210d5222042f', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14a30691ac02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:35", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_b75a0a2883b4d39e0a80210d5222042f", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:35", "name": "llm_service", "levelname": "INFO", "message": "Translated text to The language of the text is Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:35", "name": "llm_service", "levelname": "INFO", "message": "Translated answer from Indonesioan to The language of the text is Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:35", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:35", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"Given the following user prompt and LLM response, determine if additional information is needed to help the user fulfill their request and continue the conversation effectively. If yes, provide up to 3 additional prompts based on key concepts in the response, such as 'learn more about ...', 'how to determine ...', 'how to calculate ...', etc., that the user can use to gather more information. If no additional prompts are needed, respond with 'No suggestions needed'.\\n\\nUser Prompt: Sertifikat atau dokumen apa yang perlu dikumpulkan untuk membangun rumah di Bali?\\n\\nLLM Response: Untuk membangun rumah di Bali, Anda perlu mengumpulkan beberapa sertifikat dan dokumen penting, antara lain:\\n\\n1. **Surat Bukti Hak Atas Tanah**: Dokumen ini menunjukkan bahwa Anda memiliki hak legal atas tanah tempat Anda berencana membangun rumah.\\n\\n2. **Izin Mendirikan Bangunan (IMB)**: Iz... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:35", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:28:36 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '235', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799536', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '34ms', 'x-request-id': 'req_389d4a212c028db614b3a945e5329cf2', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14a52d916c02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_389d4a212c028db614b3a945e5329cf2", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:36", "name": "llm_service", "levelname": "DEBUG", "message": "LLM determined that no suggestions are needed.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:36", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u0427\u0442\u043e\u0431\u044b \u043f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0434\u043e\u043c \u043d\u0430 \u0411\u0430\u043b\u0438, \u0432\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0432\u0430\u0436\u043d\u044b\u0445 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0432 \u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u044f:\\n\\n1. <b>\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043e \u043f\u0440\u0430\u0432\u0435 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u0437\u0435\u043c\u043b\u044e</b>: \u042d\u0442\u043e\u0442 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u0435\u0442, \u0447\u0442\u043e \u0443 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u0437\u0430\u043a\u043e\u043d\u043d\u043e\u0435 \u043f\u0440\u0430\u0432\u043e \u043d\u0430 \u0437\u0435\u043c\u043b\u044e, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0432\u044b \u043f\u043b\u0430\u043d\u0438\u0440\u0443\u0435\u0442\u0435 \u043f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0434\u043e\u043c.\\n\\n2. <b>\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u043d\u0430 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e (IMB)</b>: \u042d\u0442\u043e \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u0432\u044b\u0434\u0430\u0435\u0442\u0441\u044f \u043c\u0435\u0441\u0442\u043d\u044b\u043c\u0438 \u0432\u043b\u0430\u0441\u0442\u044f\u043c\u0438 \u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0434\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0437\u0434\u0430\u043d\u0438\u044f.\\n\\n3. <b>\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043e \u043f\u0440\u0430\u0432\u0435 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u0437\u0434\u0430\u043d\u0438\u0435 (SBKBG)</b>: \u042d\u0442\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442, \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u044e\u0449\u0438\u0439 \u0432\u0430\u0448\u0435 \u043f\u0440\u0430\u0432\u043e \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u043e\u044f\u0449\u0435\u0435\u0441\u044f \u0437\u0434\u0430\u043d\u0438\u0435.\\n\\n4. <b>\u0422\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u043b\u0430\u043d \u0437\u0434\u0430\u043d\u0438\u044f</b>: \u042d\u0442\u043e\u0442 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0439 \u043f\u043b\u0430\u043d, \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438 \u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u044b\u0435 \u043a\u043e\u043c\u043c\u0443\u043d\u0438\u043a\u0430\u0446\u0438\u0438 (\u043c\u0435\u0445\u0430\u043d\u0438\u043a\u0430, \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u0438\u043a\u0430 \u0438 \u0441\u0430\u043d\u0442\u0435\u0445\u043d\u0438\u043a\u0430), \u0447\u0442\u043e\u0431\u044b \u0443\u0431\u0435\u0434\u0438\u0442\u044c\u0441\u044f, \u0447\u0442\u043e \u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u0434\u0435\u0439\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u043c\u0438 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u043c\u0438 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u0430\u043c\u0438.\\n\\n5. <b>\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 \u043f\u0440\u0438\u0433\u043e\u0434\u043d\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438 (SLF)</b>: \u042d\u0442\u043e\u0442 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430, \u0447\u0442\u043e\u0431\u044b \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0438\u0442\u044c\u0441\u044f, \u0447... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:36", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:36", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='79090775-c9c1-4d88-9a56-511dc76e81bc'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:37", "name": "handlers", "levelname": "INFO", "message": "Sent response to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:28:37", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:19", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 07:30:19", "last_active": "2024-12-05, 07:30:19", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 07:30:19", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:19", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:19", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:19", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=244732168, message='\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:19", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x00000171A1D5E0C0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 4, 30, 18, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3214, supergroup_chat_created=False, text='\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f'), update_id=881194062), <telegram.ext._callbackcontext.CallbackContext object at 0x00000172237D7E70>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:19", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x00000171A1E504F0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:19", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='baa5d207-4f21-4bfc-b227-4aa6cd2f6770' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:19", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='baa5d207-4f21-4bfc-b227-4aa6cd2f6770'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:19", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:19", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x00000171A1E49700>, '\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f'), kwargs: {'chat_history': [HumanMessage(content='\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u041a\u0430\u043a\u0438\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u0438\u043b\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043e\u043c\u0430 \u043d\u0430 \u0411\u0430\u043b\u0438', additional_kwargs={}, response_metadata={}), AIMessage(content='\u0427\u0442\u043e\u0431\u044b \u043f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0434\u043e\u043c \u043d\u0430 \u0411\u0430\u043b\u0438, \u0432\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0432\u0430\u0436\u043d\u044b\u0445 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0432 \u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u044f:\\n\\n1. <b>\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043e \u043f\u0440\u0430\u0432\u0435 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u0437\u0435\u043c\u043b\u044e</b>: \u042d\u0442\u043e\u0442 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u0435\u0442, \u0447\u0442\u043e \u0443 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u0437\u0430\u043a\u043e\u043d\u043d\u043e\u0435 \u043f\u0440\u0430\u0432\u043e \u043d\u0430 \u0437\u0435\u043c\u043b\u044e, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0432\u044b \u043f\u043b\u0430\u043d\u0438\u0440\u0443\u0435\u0442\u0435 \u043f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0434\u043e\u043c.\\n\\n2. <b>\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u043d\u0430 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e (IMB)</b>: \u042d\u0442\u043e \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u0432\u044b\u0434\u0430\u0435\u0442\u0441\u044f \u043c\u0435\u0441\u0442\u043d\u044b\u043c\u0438 \u0432\u043b\u0430\u0441\u0442\u044f\u043c\u0438 \u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0434\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0437\u0434\u0430\u043d\u0438\u044f.\\n\\n3. <b>\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043e \u043f\u0440\u0430\u0432\u0435 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u0437\u0434\u0430\u043d\u0438\u0435 (SBKBG)</b>: \u042d\u0442\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442, \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u044e\u0449\u0438\u0439 \u0432\u0430\u0448\u0435 \u043f\u0440\u0430\u0432\u043e \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:19", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'What language is the following text? Respond with the language name in English.\\n\\nText:\\n\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:19", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:20", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:30:20 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '263', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799935', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '4ms', 'x-request-id': 'req_9fd06ef966a6f9dc225a52da00147204', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14cdaaa9f2dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:20", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_9fd06ef966a6f9dc225a52da00147204", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:20", "name": "llm_service", "levelname": "INFO", "message": "Detected language: The text is in Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:20", "name": "llm_service", "levelname": "INFO", "message": "Detected user language: The text is in Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:20", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Indonesioan and respond only with the translated text. Do not include any explanations or comments.\\n\\nText:\\n\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:20", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:21", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:30:21 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '617', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799923', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_c3a27c97b0498dff1c42052349d429f3', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14ce16f022dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:21", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_c3a27c97b0498dff1c42052349d429f3", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:21", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Indonesioan", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:21", "name": "llm_service", "levelname": "INFO", "message": "Translated prompt from The text is in Russian. to Indonesioan", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:21", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000171A1F8E7A0>, 'json_data': {'input': [[39379, 18826, 62992, 22636, 6885, 10587, 42168, 332, 12825, 8826, 20166, 9689, 220, 19, 326, 519, 2192, 30]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:21", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:22", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:30:22 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '135', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999981', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_9c0543e559f93d63c91a1bb0a8fcde64', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14ce72c419185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:22", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_9c0543e559f93d63c91a1bb0a8fcde64", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:22", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:22", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000171A1F8E7A0>, 'json_data': {'input': [[39379, 18826, 62992, 22636, 6885, 10587, 42168, 332, 12825, 8826, 20166, 9689, 220, 19, 326, 519, 2192, 30]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:22", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:23", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:30:22 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '116', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999981', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_5fea3e257a81d65476dd8c3f093b9931', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14cec7f889185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:23", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_5fea3e257a81d65476dd8c3f093b9931", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:23", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000171A1F8E7A0>, 'json_data': {'input': [[16074, 2360, 220, 27311, 5037, 362, 720, 47, 7157, 926, 965, 720, 75736, 14451, 29661, 2006, 46, 61389, 5987, 720, 12, 220, 10961, 482, 720, 43, 519, 2192, 720, 28273, 65734, 720, 466, 325, 8248, 1871, 8248, 12825, 8826, 720, 3342, 266, 5089, 514, 2308, 46746, 84, 90762, 275, 9279, 1624, 5472, 5089, 720, 273, 2308, 22636, 6885, 90762, 275, 13, 720, 27317, 84602, 32381, 16960, 11, 3026, 306, 28824, 86240, 9279, 720, 273, 2308, 8187, 46746, 84, 90762, 275, 9279, 22636, 6885, 90762, 275, 720, 41345, 720, 67, 581, 332, 12825, 8826, 720, 3935, 3178, 720, 76, 833, 587, 316, 347, 10426, 720, 2821, 88, 301, 309, 16623, 720, 1395, 6993, 720, 71, 359, 1122, 720, 67, 2850, 720, 75, 519, 2192, 720, 28273, 65734, 56866, 13, 720, 2948, 8, 720, 41, 31427, 469, 2857, 275, 720, 35, 17243, 4915, 6181, 10109, 10426, 11, 97921,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:23", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:23", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:30:23 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '125', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999676', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '3ms', 'x-request-id': 'req_94b9b5fc1f25145ab6859e6545f24f68', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14cf1aac29185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:23", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_94b9b5fc1f25145ab6859e6545f24f68", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:23", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000171A1F8E7A0>, 'json_data': {'input': [[47, 7157, 358, 507, 965, 720, 793, 2169, 41, 9574, 35170, 622, 8225, 61389, 5987, 720, 12, 220, 20325, 482, 720, 7749, 720, 98251, 720, 8900, 282, 29222, 4001, 320, 76, 12, 60, 720, 37, 10114, 269, 387, 6993, 11794, 1122, 720, 1209, 1079, 7270, 290, 285, 320, 972, 296, 17, 25239, 18, 296, 17, 5255, 526, 595, 489, 1819, 74, 80970, 220, 16, 320, 1041, 720, 76, 17, 25239, 20, 296, 17, 5255, 526, 595, 489, 1819, 74, 80970, 220, 17, 320, 1041, 296, 17, 25239, 20, 296, 17, 5255, 526, 595, 720, 10, 1819, 74, 80970, 220, 18, 320, 1135, 296, 17, 25239, 20, 296, 17, 5255, 526, 595, 489, 1819, 74, 80970, 220, 19, 320, 5154, 720, 76, 17, 25239, 20, 296, 17, 5255, 526, 595, 720, 7, 21, 489, 220, 508, 489, 220, 966, 489, 220, 605, 489, 220, 1135, 8, 50707, 720, 16, 220, 16, 220, 21, 2355, 526, 720, 27317, 84602, 80142, 43... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:23", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:24", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:30:24 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '307', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999631', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '4ms', 'x-request-id': 'req_cc5bba6ec94132f2ce55921ffc95fab2', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14cf3ec479185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:24", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_cc5bba6ec94132f2ce55921ffc95fab2", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:24", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000171A1F8E7A0>, 'json_data': {'input': [[86755, 328, 13, 22410, 86, 3444, 2355, 9378, 720, 2822, 720, 37, 2234, 6455, 17343, 65734, 65577, 2234, 720, 21, 1389, 220, 508, 445, 519, 2192, 720, 42, 89127, 21920, 65863, 720, 6874, 70, 60, 720, 58, 85268, 60, 720, 16, 13, 5154, 720, 972, 720, 17, 720, 46674, 720, 16, 13, 931, 720, 868, 720, 16, 13, 3965, 720, 1114, 720, 16, 13, 5154, 720, 972, 720, 18, 720, 49, 372, 1494, 39867, 275, 720, 5067, 720, 24, 720, 11711, 720, 806, 720, 16, 13, 931, 720, 868, 720, 19, 720, 10835, 531, 16737, 720, 5067, 720, 24, 720, 11711, 720, 806, 720, 16, 13, 931, 720, 868, 720, 20, 720, 51, 28342, 8409, 4749, 52249, 720, 16, 13, 931, 720, 868, 720, 16, 13, 3965, 720, 1114, 720, 16, 13, 5154, 720, 972, 33006, 37, 2234, 6455, 17343, 65734, 65577, 2234, 720, 508, 1389, 220, 966, 445, 519, 2192, 33006, 720, 16, 720, 42, 89267,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:24", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:30:25 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '78', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999522', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_c13c3a8359a1845c6bd39173bd9c224d', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14cf9ef9a9185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_c13c3a8359a1845c6bd39173bd9c224d", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000171A1F8E7A0>, 'json_data': {'input': [[16074, 2360, 220, 22679, 7743, 362, 720, 47, 7157, 3895, 965, 720, 793, 75, 30, 24778, 84437, 19877, 61389, 5987, 720, 12, 220, 19, 220, 16, 220, 16, 220, 482, 2355, 6806, 2355, 51, 526, 6885, 21045, 514, 2308, 51035, 25177, 220, 8610, 10166, 59597, 720, 67, 321, 833, 74, 2113, 21045, 31787, 19148, 436, 3042, 266, 17834, 22826, 1891, 720, 21946, 1122, 42249, 1494, 22636, 6885, 13, 720, 6806, 720, 51, 526, 6885, 10587, 10418, 79706, 6455, 59722, 33054, 29856, 1891, 3276, 5169, 720, 3975, 266, 720, 67, 664, 3178, 720, 34965, 278, 23741, 720, 79, 2649, 720, 3640, 2234, 720, 77468, 70014, 28824, 720, 25453, 587, 720, 655, 75, 24468, 720, 441, 13279, 41312, 720, 5794, 88, 19586, 19818, 31787, 19148, 436, 3042, 266, 602, 10888, 969, 581, 11, 720, 6806, 720, 51, 526, 6885, 720, 79, 2649, 720, 63919, 65734, 720, 38,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:26", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:30:26 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '127', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999534', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_c82c439b25638e5bd8ed4683c1429a40', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14d006ae19185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:26", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_c82c439b25638e5bd8ed4683c1429a40", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:26", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'You are a project assistant from the consultant side on design and construction projects. If the user requests a calculation, try to execute it. If there is not enough initial data, use general values that apply in most cases. If it is not possible to use general values, request from the user the conditions needed to provide the calculation. If you don\\'t know the answer, say that you don\\'t know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-05, 07:30:26. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retri... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:26", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:28", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:30:28 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1408', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '796732', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '245ms', 'x-request-id': 'req_180dd03ace264a808aaa85849eab3110', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14d063e4d2dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:28", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_180dd03ace264a808aaa85849eab3110", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:28", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to The text is in Russian. and respond only with the translated text. Do not include any explanations or comments.\\n\\nText:\\nUntuk hotel 4 lantai, umumnya diperlukan minimal dua tangga darurat atau tangga evakuasi. Hal ini penting untuk memastikan adanya jalur evakuasi yang aman dan cepat bagi tamu dan staf hotel dalam situasi darurat. \\n\\nJumlah tangga yang tepat dapat dipengaruhi oleh beberapa faktor, termasuk luas lantai, kapasitas hunian, dan peraturan keselamatan bangunan setempat. Sebaiknya konsultasikan dengan arsitek atau insinyur keselamatan untuk memastikan bahwa desain bangunan Anda memenuhi persyaratan keselamatan lokal yang berlaku.', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:28", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:30", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:30:30 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1719', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799813', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '14ms', 'x-request-id': 'req_6cbe3f16bff5c587fe9444ce1fe89aa5', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14d115cd02dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:30", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_6cbe3f16bff5c587fe9444ce1fe89aa5", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:30", "name": "llm_service", "levelname": "INFO", "message": "Translated text to The text is in Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:30", "name": "llm_service", "levelname": "INFO", "message": "Translated answer from Indonesioan to The text is in Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:30", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:30", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"Given the following user prompt and LLM response, determine if additional information is needed to help the user fulfill their request and continue the conversation effectively. If yes, provide up to 3 additional prompts based on key concepts in the response, such as 'learn more about ...', 'how to determine ...', 'how to calculate ...', etc., that the user can use to gather more information. If no additional prompts are needed, respond with 'No suggestions needed'.\\n\\nUser Prompt: Berapa banyak tangga yang dibutuhkan untuk hotel 4 lantai?\\n\\nLLM Response: Untuk hotel 4 lantai, umumnya diperlukan minimal dua tangga darurat atau tangga evakuasi. Hal ini penting untuk memastikan adanya jalur evakuasi yang aman dan cepat bagi tamu dan staf hotel dalam situasi darurat. \\n\\nJumlah tangga yang tepat dapat dipengaruhi oleh beberapa faktor, termasuk luas lantai, kapasitas huni... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:30", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:31", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:30:31 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '884', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799708', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '21ms', 'x-request-id': 'req_d08e7e678a39ef3346bfeceb252a8b22', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14d1ddcfe2dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:31", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_d08e7e678a39ef3346bfeceb252a8b22", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:31", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['\"Learn more about local building safety regulations for hotels.\"', '\"How to determine the appropriate number of staircases based on building size and occupancy?\"', '\"How to consult with an architect or safety engineer about building design requirements?\"']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:31", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to The text is in Russian. and respond only with the translated text. Do not include any explanations or comments.\\n\\nText:\\n\"Learn more about local building safety regulations for hotels.\"', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:31", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:32", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:30:31 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '386', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799929', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_2b93b84e9a50e6d2d660b88a5e6aba54', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14d2539ee2dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:32", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_2b93b84e9a50e6d2d660b88a5e6aba54", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:32", "name": "llm_service", "levelname": "INFO", "message": "Translated text to The text is in Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:32", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to The text is in Russian. and respond only with the translated text. Do not include any explanations or comments.\\n\\nText:\\n\"How to determine the appropriate number of staircases based on building size and occupancy?\"', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:32", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:32", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:30:32 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '357', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799922', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_430f628bc558413effeefdd3c8f01c48', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14d29acdf2dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:32", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_430f628bc558413effeefdd3c8f01c48", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:32", "name": "llm_service", "levelname": "INFO", "message": "Translated text to The text is in Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:32", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to The text is in Russian. and respond only with the translated text. Do not include any explanations or comments.\\n\\nText:\\n\"How to consult with an architect or safety engineer about building design requirements?\"', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:32", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:33", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:30:33 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '492', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799922', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_9fc87cfa0d0a515aec54ebaeba3bfcae', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14d2defc82dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:33", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_9fc87cfa0d0a515aec54ebaeba3bfcae", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:33", "name": "llm_service", "levelname": "INFO", "message": "Translated text to The text is in Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:33", "name": "llm_service", "levelname": "INFO", "message": "Translated suggestions from Indonesioan to The text is in Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:33", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u0414\u043b\u044f \u043e\u0442\u0435\u043b\u044f \u0441 \u0447\u0435\u0442\u044b\u0440\u044c\u043c\u044f \u044d\u0442\u0430\u0436\u0430\u043c\u0438 \u043e\u0431\u044b\u0447\u043d\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0434\u0432\u0435 \u0430\u0432\u0430\u0440\u0438\u0439\u043d\u044b\u0435 \u043b\u0435\u0441\u0442\u043d\u0438\u0446\u044b \u0438\u043b\u0438 \u043b\u0435\u0441\u0442\u043d\u0438\u0446\u044b \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438. \u042d\u0442\u043e \u0432\u0430\u0436\u043d\u043e \u0434\u043b\u044f \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0433\u043e \u0438 \u0431\u044b\u0441\u0442\u0440\u043e\u0433\u043e \u043f\u0443\u0442\u0438 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u0433\u043e\u0441\u0442\u0435\u0439 \u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u0430 \u043e\u0442\u0435\u043b\u044f \u0432 \u0447\u0440\u0435\u0437\u0432\u044b\u0447\u0430\u0439\u043d\u044b\u0445 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u044f\u0445.\\n\\n\u0422\u043e\u0447\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0446 \u043c\u043e\u0436\u0435\u0442 \u0437\u0430\u0432\u0438\u0441\u0435\u0442\u044c \u043e\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u044d\u0442\u0430\u0436\u0430, \u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u0438 \u043c\u0435\u0441\u0442\u043d\u044b\u0435 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043d\u043e\u0440\u043c\u044b \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438. \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u043a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u043e\u0440\u043e\u043c \u0438\u043b\u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043e\u043c \u043f\u043e \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438, \u0447\u0442\u043e\u0431\u044b \u0443\u0431\u0435\u0434\u0438\u0442\u044c\u0441\u044f, \u0447\u0442\u043e \u0434\u0438\u0437\u0430\u0439\u043d \u0432\u0430\u0448\u0435\u0433\u043e \u0437\u0434\u0430\u043d\u0438\u044f \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0434\u0435\u0439\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u043c \u043c\u0435\u0441\u0442\u043d\u044b\u043c \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f\u043c \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438.', None, ['\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u043c\u0435\u0441\u0442\u043d\u044b\u0445 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u0445 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043b\u044f \u043e\u0442\u0435\u043b\u0435\u0439.', '\u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0435\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0446 \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0440\u0430\u0437\u043c\u0435\u0440\u0430 \u0437\u0434\u0430\u043d\u0438\u044f \u0438 \u0447\u0438\u0441\u043b\u0430 \u0435\u0433\u043e \u043e\u0431\u0438\u0442\u0430\u0442\u0435\u043b\u0435\u0439?', '\"\u041a\u0430\u043a \u043f\u0440\u043e\u043a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u043e\u0440\u043e\u043c \u0438\u043b\u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043e\u043c \u043f\u043e \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u043f\u043e \u043f\u043e\u0432\u043e\u0434\u0443 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0439 \u043a \u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044e \u0437\u0434\u0430\u043d\u0438\u044f?\"'])", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:33", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:33", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='baa5d207-4f21-4bfc-b227-4aa6cd2f6770'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:33", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:34", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:34", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:50", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 07:30:50", "last_active": "2024-12-05, 07:30:50", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 07:30:50", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:50", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:50", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:50", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='suggestion:suggestion_0'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:50", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_inline_buttons with args: (<handlers.BotHandlers object at 0x00000171A1D5E0C0>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='suggestion:suggestion_0', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116659469082619', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 4, 30, 33, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3215, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='suggestion:suggestion_0', text='\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u043c\u0435\u0441\u0442\u043d\u044b\u0445 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u0445 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043b\u044f \u043e\u0442\u0435\u043b\u0435\u0439.'),), (InlineKeyboardButton(callback_data='suggestion:suggestion_1', text='\u041a\u0430\u043a \u043e\u043f... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:50", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_inline_buttons with result: <coroutine object BotHandlers.handle_inline_buttons at 0x00000171A1DF7350>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:51", "name": "handlers", "levelname": "INFO", "message": "User_id=244732168 clicked on suggestion '\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u043c\u0435\u0441\u0442\u043d\u044b\u0445 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u0445 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043b\u044f \u043e\u0442\u0435\u043b\u0435\u0439.'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:51", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='4ef466bc-2ecd-4a2a-b615-b99d728063d8' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:51", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='4ef466bc-2ecd-4a2a-b615-b99d728063d8'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:51", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:51", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x00000171A1E49700>, '\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u043c\u0435\u0441\u0442\u043d\u044b\u0445 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u0445 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043b\u044f \u043e\u0442\u0435\u043b\u0435\u0439.'), kwargs: {'chat_history': [HumanMessage(content='\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u043c\u0435\u0441\u0442\u043d\u044b\u0445 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u0445 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043b\u044f \u043e\u0442\u0435\u043b\u0435\u0439.', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f', additional_kwargs={}, response_metadata={}), AIMessage(content='\u0414\u043b\u044f \u043e\u0442\u0435\u043b\u044f \u0441 \u0447\u0435\u0442\u044b\u0440\u044c\u043c\u044f \u044d\u0442\u0430\u0436\u0430\u043c\u0438 \u043e\u0431\u044b\u0447\u043d\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0434\u0432\u0435 \u0430\u0432\u0430\u0440\u0438\u0439\u043d\u044b\u0435 \u043b\u0435\u0441\u0442\u043d\u0438\u0446\u044b \u0438\u043b\u0438 \u043b\u0435\u0441\u0442\u043d\u0438\u0446\u044b \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438. \u042d\u0442\u043e \u0432\u0430\u0436\u043d\u043e \u0434\u043b\u044f \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0433\u043e \u0438 \u0431\u044b\u0441\u0442\u0440\u043e\u0433\u043e \u043f\u0443\u0442\u0438 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u0433\u043e\u0441\u0442\u0435\u0439 \u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u0430 \u043e\u0442\u0435\u043b\u044f \u0432 \u0447\u0440\u0435\u0437\u0432\u044b\u0447\u0430\u0439\u043d\u044b\u0445 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u044f\u0445.\\n\\n\u0422\u043e\u0447\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0446 \u043c\u043e\u0436\u0435\u0442 \u0437\u0430\u0432\u0438\u0441\u0435\u0442\u044c \u043e\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u044d\u0442\u0430\u0436\u0430, \u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u0438 \u043c\u0435\u0441\u0442\u043d\u044b\u0435 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043d\u043e\u0440\u043c\u044b \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438. \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u043a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u043e\u0440\u043e\u043c \u0438\u043b\u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043e\u043c \u043f\u043e \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438, \u0447\u0442\u043e\u0431\u044b \u0443\u0431\u0435\u0434\u0438\u0442\u044c\u0441\u044f, \u0447\u0442\u043e \u0434\u0438\u0437\u0430\u0439\u043d \u0432\u0430\u0448\u0435\u0433\u043e \u0437\u0434\u0430\u043d\u0438\u044f \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0434\u0435\u0439\u0441\u0442\u0432... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:51", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'What language is the following text? Respond with the language name in English.\\n\\nText:\\n\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u043c\u0435\u0441\u0442\u043d\u044b\u0445 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u0445 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043b\u044f \u043e\u0442\u0435\u043b\u0435\u0439.', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:51", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:52", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:30:52 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '335', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799926', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_2a0d83c90f7cab6726d2526b5408f6fa', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14da3ccdce78d-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:52", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_2a0d83c90f7cab6726d2526b5408f6fa", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:52", "name": "llm_service", "levelname": "INFO", "message": "Detected language: The text is in Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:52", "name": "llm_service", "levelname": "INFO", "message": "Detected user language: The text is in Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:52", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Indonesioan and respond only with the translated text. Do not include any explanations or comments.\\n\\nText:\\n\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u043c\u0435\u0441\u0442\u043d\u044b\u0445 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u0445 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043b\u044f \u043e\u0442\u0435\u043b\u0435\u0439.', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:52", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:30:52 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '347', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799914', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '6ms', 'x-request-id': 'req_10c879c5904a2e03659e9714d6844f5e', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14da7de15e78d-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_10c879c5904a2e03659e9714d6844f5e", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:53", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Indonesioan", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:53", "name": "llm_service", "levelname": "INFO", "message": "Translated prompt from The text is in Russian. to Indonesioan", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000172237EB380>, 'json_data': {'input': [[41682, 9136, 2156, 19039, 51627, 84699, 60009, 8379, 11562, 37277, 44786, 73226, 1840, 31443, 10693, 92457, 29256, 18437, 68742, 30392, 1482, 56008, 94071, 20440, 20879, 12394, 21708, 13]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:30:53 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '108', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999972', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_c45d0fbdc331964bc077d7d8b9346a0a', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14dac2fd9ee24-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_c45d0fbdc331964bc077d7d8b9346a0a", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:53", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000172237EB380>, 'json_data': {'input': [[41682, 9136, 2156, 19039, 51627, 84699, 60009, 8379, 11562, 37277, 44786, 73226, 1840, 31443, 10693, 92457, 29256, 18437, 68742, 30392, 1482, 56008, 94071, 20440, 20879, 12394, 21708, 13]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:30:53 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '96', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999972', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_ffb65043ad31de06f8d4528a8417d293', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14dae5c3cee24-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_ffb65043ad31de06f8d4528a8417d293", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000172237EB380>, 'json_data': {'input': [[47, 432, 469, 328, 220, 358, 423, 469, 452, 2355, 49, 469, 393, 549, 328, 445, 358, 735, 220, 358, 452, 423, 507, 452, 469, 328, 358, 362, 2355, 12, 220, 5245, 23, 482, 720, 79984, 2308, 720, 2822, 720, 47, 41996, 1609, 9258, 276, 720, 49833, 277, 720, 466, 28273, 359, 320, 439, 12, 720, 42, 2159, 13532, 37832, 460, 720, 42, 54411, 720, 56815, 26209, 720, 47339, 38940, 8, 720, 20, 8, 68184, 306, 10602, 51476, 20309, 268, 2192, 8305, 1609, 97683, 1538, 360, 20309, 1609, 32973, 32381, 306, 10602, 720, 716, 2693, 276, 824, 1263, 526, 12, 1263, 19148, 93164, 69986, 5541, 32160, 720, 441, 70922, 22026, 32911, 17343, 65734, 65577, 2234, 9279, 38172, 74, 52288, 13, 720, 71, 8, 53535, 720, 16074, 20619, 220, 24970, 26513, 356]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:30:53 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '119', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999868', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_4d88cbf07b79b70088a667b45302eeaf', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14db0d9b3ee24-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_4d88cbf07b79b70088a667b45302eeaf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000172237EB380>, 'json_data': {'input': [[16074, 2360, 220, 22679, 7529, 362, 720, 47, 7157, 358, 507, 965, 720, 75736, 14451, 29661, 622, 8225, 61389, 5987, 720, 12, 220, 21098, 482, 720, 13, 720, 6806, 720, 63919, 65734, 65577, 2234, 21045, 97921, 39472, 51035, 326, 519, 2192, 720, 18275, 16737, 10587, 25774, 300, 23741, 51035, 25177, 220, 7467, 296, 23328, 59597, 720, 67, 321, 833, 74, 2113, 21045, 5653, 20166, 22636, 6885, 90762, 275, 9279, 720, 25453, 587, 824, 10036, 19371, 833, 74, 2113, 21045, 10345, 441, 70922, 22026, 13, 720, 6806, 720, 63919, 65734, 65577, 2234, 21045, 597, 11880, 70, 1122, 62581, 2192, 720, 67, 18763, 259, 16960, 326, 519, 2192, 11, 90762, 275, 59597, 2024, 75, 485, 82590, 21045, 720, 1303, 34855, 32381, 22826, 276, 6464, 320, 16155, 32, 8, 281, 6260, 11163, 61503, 59666, 720, 44811, 13, 720, 6806, 720, 63919, 65734, 655... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:30:54 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '60', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999553', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_98a196b0ff15b79cd209377962719e2c', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14db33f3fee24-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_98a196b0ff15b79cd209377962719e2c", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000172237EB380>, 'json_data': {'input': [[16074, 2360, 220, 22679, 14374, 362, 720, 47, 7157, 358, 507, 965, 720, 793, 68, 4594, 0, 12, 75, 42, 326, 8225, 61389, 5987, 720, 12, 220, 19799, 482, 720, 3832, 8, 720, 12427, 266, 9084, 75, 485, 2234, 320, 1116, 4838, 3158, 8, 720, 6806, 720, 49833, 277, 81126, 285, 720, 27588, 355, 72236, 16947, 496, 84, 32160, 294, 4049, 10587, 720, 76, 3342, 359, 88, 2192, 99632, 34855, 68184, 22826, 276, 13749, 320, 16155, 32, 8, 720, 79, 6260, 11163, 61503, 220, 17, 20673, 26, 720, 47, 6260, 11163, 61503, 220, 1135, 4, 25177, 3158, 597, 10088, 320, 94902, 720, 4903, 8, 326, 519, 2192, 94033, 301, 309, 16623, 59597, 5534, 1149, 526, 720, 325, 46597, 3158, 97683, 1538, 360, 320, 43591, 3158, 8, 9279, 720, 79, 2649, 52465, 28380, 4170, 95204, 45217, 10418, 79706, 6455, 720, 325, 46597, 11369, 19148, 51476, 26, 720, 33, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:30:54 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '138', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999611', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '4ms', 'x-request-id': 'req_ad16f89c339b688c174731e62ac59410', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14db56c64ee24-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_ad16f89c339b688c174731e62ac59410", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000172237EB380>, 'json_data': {'input': [[16074, 2360, 220, 24996, 19774, 362, 720, 47, 7157, 358, 67286, 720, 75736, 14451, 29661, 19877, 61389, 5987, 720, 12, 220, 777, 482, 720, 64, 13, 720, 76, 9034, 92406, 281, 7141, 587, 2024, 74, 1339, 30892, 4562, 23014, 720, 77468, 21495, 19148, 720, 36255, 720, 10759, 332, 355, 8826, 720, 83, 485, 19818, 720, 466, 32345, 391, 66193, 9034, 19148, 9279, 14, 39472, 824, 392, 22826, 720, 441, 8248, 70986, 2024, 74, 1339, 37786, 62375, 276, 9279, 2004, 17086, 276, 720, 28273, 65734, 26, 720, 65, 13, 720, 76, 833, 324, 79428, 10025, 24551, 2004, 70, 351, 33383, 26518, 65734, 10587, 720, 466, 93146, 17774, 581, 266, 52077, 278, 22826, 259, 460, 48034, 55284, 301, 7141, 5169, 276, 720, 36255, 37786, 62375, 276, 26518, 65734, 26, 720, 66, 13, 720, 76, 3342, 531, 1494, 76182, 93719, 67979, 34855, 8826, 2004, 17086, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:30:55 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '82', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999511', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_626db607f0e9d78f8b086a14dbde4bad', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14db7e90fee24-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_626db607f0e9d78f8b086a14dbde4bad", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If the user requests a calculation, try to execute it. If there is not enough initial data, use general values that apply in most cases. If it is not possible to use general values, request from the user the conditions needed to provide the calculation. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-05, 07:30:55. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retriev... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:30:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:31:00 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '4701', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '796944', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '229ms', 'x-request-id': 'req_781c9f1ce2d1411df4ecd1ee202b8fa7', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14dba1e63e78d-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_781c9f1ce2d1411df4ecd1ee202b8fa7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to The text is in Russian. and respond only with the translated text. Do not include any explanations or comments.\\n\\nText:\\n\u0414\u043b\u044f \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u043e\u0442\u0435\u043b\u0435\u0439 \u0432 \u0418\u043d\u0434\u043e\u043d\u0435\u0437\u0438\u0438, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0411\u0430\u043b\u0438, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u043c\u0435\u0441\u0442\u043d\u044b\u0435 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043d\u043e\u0440\u043c\u044b \u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0430\u0441\u043f\u0435\u043a\u0442\u044b:\\n\\n1. **\u041f\u043e\u0436\u0430\u0440\u043d\u0430\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c**: \u0417\u0434\u0430\u043d\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u044b \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u043c\u0438 \u043f\u0440\u043e\u0442\u0438\u0432\u043e\u043f\u043e\u0436\u0430\u0440\u043d\u043e\u0439 \u0437\u0430\u0449\u0438\u0442\u044b, \u0442\u0430\u043a\u0438\u043c\u0438 \u043a\u0430\u043a \u0441\u043f\u0440\u0438\u043d\u043a\u043b\u0435\u0440\u043d\u044b\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b, \u043e\u0433\u043d\u0435\u0442\u0443\u0448\u0438\u0442\u0435\u043b\u0438, \u0430\u0432\u0430\u0440\u0438\u0439\u043d\u043e\u0435 \u043e\u0441\u0432\u0435\u0449\u0435\u043d\u0438\u0435 \u0438 \u0441\u0438\u0433\u043d\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f. \u0422\u0430\u043a\u0436\u0435 \u0432\u0430\u0436\u043d\u0430 \u0437\u0430\u0449\u0438\u0442\u0430 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u043f\u0443\u0442\u0435\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u0438\u043c\u0435\u0442\u044c \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u043e\u0433\u043d\u0435\u0441\u0442\u043e\u0439\u043a\u043e\u0441\u0442\u0438.\\n\\n2. **\u042d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u043f\u0443\u0442\u0438**: \u0414\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u043f\u0440\u0435\u0434\u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u044b \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u044b\u0435 \u0438 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u043f\u0443\u0442\u0438 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0430\u0432\u0430\u0440\u0438\u0439\u043d\u044b\u0445 \u0432\u044b\u0445\u043e\u0434\u043e\u0432 \u0438 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a, \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0445 \u043d\u0430 \u0440\u0430\u0437\u0443\u043c\u043d\u044b\u0445 \u0440\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u044f\u0445 \u0434\u0440\u0443\u0433 \u043e\u0442 \u0434\u0440\u0443\u0433\u0430.\\n\\n3. **\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u043d\u0430\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c**: \u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f \u0437\u0434\u0430... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:05", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:31:05 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '5170', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799200', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '60ms', 'x-request-id': 'req_c777db1a90c742033be9ca97343e6c77', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14dd99ac8e78d-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:05", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_c777db1a90c742033be9ca97343e6c77", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:05", "name": "llm_service", "levelname": "INFO", "message": "Translated text to The text is in Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:05", "name": "llm_service", "levelname": "INFO", "message": "Translated answer from Indonesioan to The text is in Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:05", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:05", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"Given the following user prompt and LLM response, determine if additional information is needed to help the user fulfill their request and continue the conversation effectively. If yes, provide up to 3 additional prompts based on key concepts in the response, such as 'learn more about ...', 'how to determine ...', 'how to calculate ...', etc., that the user can use to gather more information. If no additional prompts are needed, respond with 'No suggestions needed'.\\n\\nUser Prompt: \u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u043c\u0435\u0441\u0442\u043d\u044b\u0445 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u0445 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043b\u044f \u043e\u0442\u0435\u043b\u0435\u0439.\\n\\nLLM Response: \u0414\u043b\u044f \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u043e\u0442\u0435\u043b\u0435\u0439 \u0432 \u0418\u043d\u0434\u043e\u043d\u0435\u0437\u0438\u0438, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0411\u0430\u043b\u0438, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u043c\u0435\u0441\u0442\u043d\u044b\u0435 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043d\u043e\u0440\u043c\u044b \u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0430\u0441\u043f\u0435\u043a\u0442\u044b:\\n\\n1. **\u041f\u043e\u0436\u0430\u0440\u043d\u0430\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c**: \u0417\u0434\u0430\u043d\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u044b \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u043c\u0438 \u043f\u0440\u043e\u0442\u0438\u0432\u043e\u043f\u043e\u0436\u0430\u0440\u043d\u043e\u0439 \u0437\u0430\u0449\u0438\u0442\u044b, \u0442\u0430\u043a\u0438\u043c\u0438 \u043a\u0430\u043a \u0441\u043f\u0440\u0438\u043d\u043a\u043b\u0435\u0440\u043d\u044b\u0435 \u0441\u0438\u0441\u0442... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:05", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:07", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:31:07 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1309', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799075', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '69ms', 'x-request-id': 'req_c81fec6b3c382bd8e51b524513509013', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14dfbdafbe78d-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:07", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_c81fec6b3c382bd8e51b524513509013", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:07", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0442\u043e\u043c, \u043a\u0430\u043a \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u0438 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u043e\u0442\u0435\u043b\u0435\u0439 \u0432 \u0418\u043d\u0434\u043e\u043d\u0435\u0437\u0438\u0438.', '\u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438 \u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0435\u0439\u0441\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u043c \u043d\u043e\u0440\u043c\u0430\u043c \u0432 \u0441\u0435\u0439\u0441\u043c\u043e\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0437\u043e\u043d\u0430\u0445?', '\u041a\u0430\u043a \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u044c \u043e\u0442\u0435\u043b\u0435\u0439 \u0434\u043b\u044f \u043b\u044e\u0434\u0435\u0439 \u0441 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u044b\u043c\u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044f\u043c\u0438 \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u043c\u0435\u0441\u0442\u043d\u044b\u043c\u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438?']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:07", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to The text is in Russian. and respond only with the translated text. Do not include any explanations or comments.\\n\\nText:\\n\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0442\u043e\u043c, \u043a\u0430\u043a \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u0438 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u043e\u0442\u0435\u043b\u0435\u0439 \u0432 \u0418\u043d\u0434\u043e\u043d\u0435\u0437\u0438\u0438.', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:07", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:08", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:31:08 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '744', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799894', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '7ms', 'x-request-id': 'req_abab16991dae7d1174bfd8e9265faa24', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14e0618e6e78d-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:08", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_abab16991dae7d1174bfd8e9265faa24", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:08", "name": "llm_service", "levelname": "INFO", "message": "Translated text to The text is in Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:08", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to The text is in Russian. and respond only with the translated text. Do not include any explanations or comments.\\n\\nText:\\n\u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438 \u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0435\u0439\u0441\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u043c \u043d\u043e\u0440\u043c\u0430\u043c \u0432 \u0441\u0435\u0439\u0441\u043c\u043e\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0437\u043e\u043d\u0430\u0445?', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:08", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:31:09 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '536', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799902', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '7ms', 'x-request-id': 'req_538a6e3eedf224090a551488900441f1', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14e0c9d7ee78d-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_538a6e3eedf224090a551488900441f1", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:09", "name": "llm_service", "levelname": "INFO", "message": "Translated text to The text is in Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to The text is in Russian. and respond only with the translated text. Do not include any explanations or comments.\\n\\nText:\\n\u041a\u0430\u043a \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u044c \u043e\u0442\u0435\u043b\u0435\u0439 \u0434\u043b\u044f \u043b\u044e\u0434\u0435\u0439 \u0441 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u044b\u043c\u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044f\u043c\u0438 \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u043c\u0435\u0441\u0442\u043d\u044b\u043c\u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438?', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:10", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:31:10 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1048', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799893', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '8ms', 'x-request-id': 'req_6536b833cad86796a9306fb5e6426283', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed14e11d82fe78d-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:10", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_6536b833cad86796a9306fb5e6426283", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:10", "name": "llm_service", "levelname": "INFO", "message": "Translated text to The text is in Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:10", "name": "llm_service", "levelname": "INFO", "message": "Translated suggestions from Indonesioan to The text is in Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:10", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: (\"To ensure the safety of hotel construction in Indonesia, including Bali, it is necessary to consider local building codes and regulations, which may include the following aspects:\\n\\n1. <b>Fire Safety</b>: Buildings must be equipped with fire protection systems such as sprinkler systems, fire extinguishers, emergency lighting, and alarms. Protection of evacuation routes, which must have a certain level of fire resistance, is also important.\\n\\n2. <b>Evacuation Routes</b>: Safe and efficient evacuation routes must be provided, including a sufficient number of emergency exits and stairwells located at reasonable distances from each other.\\n\\n3. <b>Structural Safety</b>: The building's structure must comply with seismic standards, as Indonesia is located in a seismically active zone. This includes the use of materials and methods that ensure earthquake resistance.\\n\\n4. <b>Environmental Requirements</b>: Construction must take into accoun... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:10", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:10", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='4ef466bc-2ecd-4a2a-b615-b99d728063d8'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:10", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:11", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:31:11", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:31", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 07:34:31", "last_active": "2024-12-05, 07:34:31", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 07:34:31", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:31", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:31", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:31", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:31", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x00000171A1D5E0C0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 4, 34, 30, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3217, supergroup_chat_created=False, text='/knowledge_base'), update_id=881194064), <telegram.ext._callbackcontext.CallbackContext object at 0x0000017223DF4A60>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:31", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x00000171A1F46680>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:32", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:32", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:33", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 07:34:33", "last_active": "2024-12-05, 07:34:33", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 07:34:33", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:34", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:34", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:34", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:34", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_knowledge_base with args: (<handlers.BotHandlers object at 0x00000171A1D5E0C0>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116659634408878', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 4, 34, 31, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3218, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', text='\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'),), (InlineKeyboardButton(callback_data='set_knowledge:Indonesian Regulations', text='Indonesian Regulations'),)... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:34", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_knowledge_base with result: <coroutine object BotHandlers.set_knowledge_base at 0x00000171A23A4320>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:34", "name": "handlers", "levelname": "DEBUG", "message": "Set folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:34", "name": "handlers", "levelname": "DEBUG", "message": "Found 29 valid files in folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:34", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_and_index_documents with args: (<llm_service.LLMService object at 0x00000171A1E49700>, 'E:\\\\knowledge_base\\\\russian_regulations', 'Russian'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:34", "name": "llm_service", "levelname": "DEBUG", "message": "Starting load_and_index_documents for folder_path='E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:34", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_vector_store with args: (<llm_service.LLMService object at 0x00000171A1E49700>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:34", "name": "llm_service", "levelname": "INFO", "message": "Loaded vector store from E:\\knowledge_base\\russian_regulations\\vector_store", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:34", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_vector_store with result: True", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:34", "name": "llm_service", "levelname": "INFO", "message": "Vector store loaded from existing files in 'E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:34", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_and_index_documents with result: (True, 'Vector store loaded from existing files.')", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:34", "name": "handlers", "levelname": "INFO", "message": "Knowledge base '\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b' set successfully for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:34", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:58", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 07:34:58", "last_active": "2024-12-05, 07:34:58", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 07:34:58", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:58", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:58", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:58", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=244732168, message='\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:58", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x00000171A1D5E0C0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 4, 34, 57, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3220, supergroup_chat_created=False, text='\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f'), update_id=881194066), <telegram.ext._callbackcontext.CallbackContext object at 0x00000171A1FFD390>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:58", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x00000171A1E90400>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:58", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='d4ee088b-8612-41c8-a828-f28ba9cece7c' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:58", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='d4ee088b-8612-41c8-a828-f28ba9cece7c'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:58", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:58", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x00000171A1E49700>, '\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f'), kwargs: {'chat_history': [HumanMessage(content='\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u043c\u0435\u0441\u0442\u043d\u044b\u0445 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u0445 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043b\u044f \u043e\u0442\u0435\u043b\u0435\u0439.', additional_kwargs={}, response_metadata={}), AIMessage(content=\"\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u043c\u0435\u0441\u0442\u043d\u044b\u0445 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u0445 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043b\u044f \u043e\u0442\u0435\u043b\u0435\u0439.\\n-----------\\nTo ensure the safety of hotel construction in Indonesia, including Bali, it is necessary to consider local building codes and regulations, which may include the following aspects:\\n\\n1. <b>Fire Safety</b>: Buildings must be equipped with fire protection systems such as sprinkler systems, fire extinguishers, emergency lighting, and alarms. Protection of evacuation routes, which must have a certain level of fire resistance, is also importa... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'What language is the following text? Respond with the language name in English.\\n\\nText:\\n\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:34:59 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '347', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799935', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '4ms', 'x-request-id': 'req_60a4d40fef2e70c20446022c890dad66', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed153aa0a952df8-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_60a4d40fef2e70c20446022c890dad66", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:59", "name": "llm_service", "levelname": "INFO", "message": "Detected language: The text is in Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:59", "name": "llm_service", "levelname": "INFO", "message": "Detected user language: The text is in Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Russian and respond only with the translated text. Do not include any explanations or comments.\\n\\nText:\\n\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:34:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:35:00 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '406', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799924', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_397cc8dd9c1373044bae1bc1c894cd4c', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed153b218962df8-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_397cc8dd9c1373044bae1bc1c894cd4c", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:00", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:00", "name": "llm_service", "levelname": "INFO", "message": "Translated prompt from The text is in Russian. to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000171A068AD40>, 'json_data': {'input': [[19871, 4898, 54570, 26539, 37277, 23446, 6148, 44786, 48446, 8341, 15088, 77083, 13999, 20440, 220, 19, 12, 68506, 1830, 38657, 39900, 20879, 44100]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:35:01 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '120', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999977', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_3c4d6f9cf4dd84f308323c4441791bcf', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed153b69a07c02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_3c4d6f9cf4dd84f308323c4441791bcf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:01", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000171A1F8E480>, 'json_data': {'input': [[19871, 4898, 54570, 26539, 37277, 23446, 6148, 44786, 48446, 8341, 15088, 77083, 13999, 20440, 220, 19, 12, 68506, 1830, 38657, 39900, 20879, 44100]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:02", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:35:02 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '110', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999976', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_37e00dfa098b75ff7763513426f8c9ec', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed153bdce86c02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:02", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_37e00dfa098b75ff7763513426f8c9ec", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:02", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000171A1F8E480>, 'json_data': {'input': [[18, 13, 16, 13, 605, 48446, 8341, 13433, 26539, 37277, 23446, 6148, 44858, 25, 35448, 15752, 2233, 14332, 6148, 5372, 48150, 18868, 5372, 50807, 11, 28114, 15298, 39103, 23311, 4329, 64880, 11, 5173, 15088, 39103, 23311, 10298, 12561, 25262, 35682, 20812, 1482, 198, 5591, 2156, 38521, 31203, 11122, 7094, 39280, 11, 34943, 9239, 56999, 18999, 320, 1840, 11320, 12561, 35111, 2233, 1482, 5372, 48150, 705, 57925, 2156, 19188, 31281, 5372, 48150, 20440, 39479, 6578, 86610, 18999, 26539, 37277, 23446, 6148, 44786, 198, 8164, 39865, 14476, 23680, 15088, 7740, 26539, 37277, 23446, 6148, 44786, 11562, 17721, 12426, 21708, 627, 17279, 18600, 7740, 11562, 22918, 17756, 21022, 6850, 7740, 22918, 1389, 51418, 48445, 4655, 26539, 37277, 23446, 6148, 44786, 48446, 8341, 15088, 5524, 6578, 13, 5927, 510, 18, 27218, 18, 13, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:02", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:02", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:35:02 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '73', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998677', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '15ms', 'x-request-id': 'req_eae9f1c8ce416a7cd78f23f52ee94688', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed153c36a45c02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:02", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_eae9f1c8ce416a7cd78f23f52ee94688", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:02", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000171A1F8E480>, 'json_data': {'input': [[19871, 17279, 220, 20571, 13, 9413, 18216, 15, 13, 2366, 17, 33006, 1272, 33006, 415, 21022, 19829, 14391, 52575, 5927, 11187, 720, 1835, 21022, 220, 220, 136, 114, 220, 18154, 7952, 23630, 4898, 24697, 13373, 18600, 50693, 2233, 1482, 4700, 14391, 220, 220, 136, 114, 220, 18154, 14391, 16331, 4898, 24697, 320, 6578, 47760, 12648, 6578, 46177, 48446, 1532, 79686, 6578, 8, 11317, 5927, 220, 220, 136, 114, 220, 18154, 74254, 38521, 18226, 24803, 4655, 6578, 14391, 16331, 4898, 24697, 33006, 34604, 13810, 35297, 15088, 57855, 13, 19, 1389, 36479, 17766, 79370, 98695, 44065, 18600, 47067, 18999, 11562, 50436, 7094, 3865, 68506, 1830, 38657, 44786, 28114, 15298, 39103, 23311, 12415]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:02", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:03", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:35:03 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '62', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999889', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_4fbe31d50e345958aaa2668567774f5b', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed153c5abb8c02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:03", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_4fbe31d50e345958aaa2668567774f5b", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:03", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000171A1F8E480>, 'json_data': {'input': [[19871, 17279, 220, 16, 13, 9263, 966, 13, 2366, 15, 198, 21, 13, 16, 13, 975, 23227, 12507, 86610, 18999, 21923, 14476, 35034, 5372, 39900, 6850, 19188, 31281, 18999, 56449, 12648, 48835, 8341, 4929, 5927, 31101, 4655, 11, 21599, 5591, 16248, 3865, 30436, 17766, 44065, 21477, 31101, 4655, 7740, 720, 8164, 3865, 23311, 21599, 5591, 16248, 3865, 54686, 11, 23934, 7975, 59921, 28241, 1532, 20879, 58317, 64292, 16742, 17756, 1506, 55523, 11122, 7094, 39280, 627, 16604, 11122, 7094, 39280, 10693, 21477, 2297, 13337, 16742, 19175, 14391, 7975, 50506, 220, 1591, 11562, 7952, 29256, 44155, 13433, 50819, 39479, 6578, 86610, 17618, 13373, 64362, 10693, 2156, 10298, 49103, 38657, 1532, 11562, 84350, 7753, 80112, 10693, 45658, 37013, 21956, 23446, 5879, 198, 90877, 7740, 21022, 2233, 10693, 9542, 30656, 9239, 6856, 11, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:03", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:04", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:35:04 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '110', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998364', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '19ms', 'x-request-id': 'req_6d275a58b9b627b4efd52dcac1479e9d', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed153cb1ec0c02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:04", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_6d275a58b9b627b4efd52dcac1479e9d", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:04", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000171A1F8E480>, 'json_data': {'input': [[7094, 33742, 4329, 23311, 49103, 38657, 21708, 482, 720, 11, 21477, 60009, 7952, 33742, 4329, 23311, 49103, 38657, 21708, 482, 720, 11, 25756, 100046, 720, 12, 20879, 19619, 11320, 5591, 32062, 35723, 720, 14082, 34694, 10298, 21923, 14476, 35034, 5372, 39988, 17756, 1506, 55523, 11122, 7094, 39280, 26, 49526, 12, 65619, 17756, 18437, 6856, 14257, 64322, 1506, 42078, 19916, 1840, 53628, 22911, 57186, 5927, 11047, 56857, 17618, 6850, 13404, 61642, 11, 17756, 11, 25190, 110, 48150, 220, 8953, 20440, 11122, 7094, 14332, 12415, 5524, 720, 2297, 10124, 16331, 7486, 2297, 59921, 7486, 39988, 12561, 9542, 38438, 13999, 12, 5591, 4655, 1830, 4329, 17394, 39988, 5927, 19190, 1840, 14009, 15458, 21708, 7740, 320, 8953, 7058, 8, 20440, 11122, 7094, 14332, 12415, 11, 5927, 720, 8164, 12507, 86610, 18999, 10693, 38153, 6... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:04", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:05", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:35:05 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '105', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998972', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '12ms', 'x-request-id': 'req_666e9ce1666f9c7bd46b9fd944b4f389', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed153d04998c02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:05", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_666e9ce1666f9c7bd46b9fd944b4f389", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:05", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If the user requests a calculation, try to execute it. If there is not enough initial data, use general values that apply in most cases. If it is not possible to use general values, request from the user the conditions needed to provide the calculation. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-05, 07:35:05. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retriev... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:05", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:35:08 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '2869', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '794299', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '427ms', 'x-request-id': 'req_2e497791576f6ae5d7ab6e468e23ec8c', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed153d62a6a9185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_2e497791576f6ae5d7ab6e468e23ec8c", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to The text is in Russian. and respond only with the translated text. Do not include any explanations or comments.\\n\\nText:\\n\u0414\u043b\u044f 4-\u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f \u043e\u0431\u044b\u0447\u043d\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0434\u0432\u0435 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0435 \u043a\u043b\u0435\u0442\u043a\u0438. \u042d\u0442\u043e \u0441\u0432\u044f\u0437\u0430\u043d\u043e \u0441 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u044c\u044e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0439 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438 \u043b\u044e\u0434\u0435\u0439 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0447\u0440\u0435\u0437\u0432\u044b\u0447\u0430\u0439\u043d\u043e\u0439 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438. \u041d\u0430\u043b\u0438\u0447\u0438\u0435 \u0434\u0432\u0443\u0445 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442\u044c \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u043f\u0443\u0442\u0438 \u0432\u044b\u0445\u043e\u0434\u0430 \u0438 \u0441\u043f\u043e\u0441\u043e\u0431\u0441\u0442\u0432\u0443\u0435\u0442 \u0431\u043e\u043b\u0435\u0435 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0439 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438.\\n\\n\u0422\u043e\u0447\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043c\u043e\u0436\u0435\u0442 \u0437\u0430\u0432\u0438\u0441\u0435\u0442\u044c \u043e\u0442 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0437\u0434\u0430\u043d\u0438\u044f, \u0435\u0433\u043e \u043f\u043b\u043e\u0449\u0430\u0434\u0438 \u0438 \u043c\u0435\u0441\u0442\u043d\u044b\u0445 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043d\u043e\u0440\u043c \u0438 \u043f\u0440\u0430\u0432\u0438\u043b. \u041f\u043e\u044d\u0442\u043e\u043c\u0443 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u043a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u043e\u0440\u043e\u043c \u0438\u043b\u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043e\u043c, \u0447\u0442\u043e\u0431\u044b \u0443\u0431\u0435\u0434\u0438\u0442\u044c\u0441\u044f, \u0447\u0442\u043e \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0432\u0441\u0435\u043c \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043c\u044b\u043c \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f\u043c \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438.', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:35:09 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '517', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799676', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '24ms', 'x-request-id': 'req_d88e053a8c7cd38fcb3eb2c687e0d843', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed153ebd8c59185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_d88e053a8c7cd38fcb3eb2c687e0d843", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:09", "name": "llm_service", "levelname": "INFO", "message": "Translated text to The text is in Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:09", "name": "llm_service", "levelname": "INFO", "message": "Translated answer from Russian to The text is in Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:09", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"Given the following user prompt and LLM response, determine if additional information is needed to help the user fulfill their request and continue the conversation effectively. If yes, provide up to 3 additional prompts based on key concepts in the response, such as 'learn more about ...', 'how to determine ...', 'how to calculate ...', etc., that the user can use to gather more information. If no additional prompts are needed, respond with 'No suggestions needed'.\\n\\nUser Prompt: \u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4-\u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f\\n\\nLLM Response: \u0414\u043b\u044f 4-\u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f \u043e\u0431\u044b\u0447\u043d\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0434\u0432\u0435 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0435 \u043a\u043b\u0435\u0442\u043a\u0438. \u042d\u0442\u043e \u0441\u0432\u044f\u0437\u0430\u043d\u043e \u0441 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u044c\u044e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0439 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438 \u043b\u044e\u0434\u0435\u0439 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0447\u0440\u0435\u0437\u0432\u044b\u0447\u0430\u0439\u043d\u043e\u0439 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438. \u041d\u0430\u043b\u0438\u0447\u0438\u0435 \u0434\u0432\u0443\u0445 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442\u044c \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u043f\u0443\u0442\u0438 \u0432\u044b\u0445\u043e\u0434\u0430 \u0438 \u0441\u043f\u043e\u0441\u043e\u0431\u0441\u0442\u0432\u0443\u0435\u0442 \u0431\u043e\u043b\u0435\u0435 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0439 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438.\\n\\n\u0422\u043e\u0447\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:35:10 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1027', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799561', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '32ms', 'x-request-id': 'req_d2544ea9db1c15744f272c8ac5fb394a', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed153f10be79185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_d2544ea9db1c15744f272c8ac5fb394a", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:11", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u043c\u0435\u0441\u0442\u043d\u044b\u0445 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043d\u043e\u0440\u043c\u0430\u0445 \u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u0445 \u0434\u043b\u044f \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u0432 \u043e\u0442\u0435\u043b\u044f\u0445.', '\u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u043e\u043f\u0442\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u0434\u043b\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u0437\u0434\u0430\u043d\u0438\u044f?', '\u041a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0430\u0446\u0438\u044f \u0441 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u043e\u0440\u043e\u043c \u0438\u043b\u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043e\u043c: \u043a\u0430\u043a\u0438\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u0437\u0430\u0434\u0430\u0442\u044c \u0434\u043b\u044f \u043e\u0446\u0435\u043d\u043a\u0438 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438 \u0432 \u043e\u0442\u0435\u043b\u0435?']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to The text is in Russian. and respond only with the translated text. Do not include any explanations or comments.\\n\\nText:\\n\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u043c\u0435\u0441\u0442\u043d\u044b\u0445 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043d\u043e\u0440\u043c\u0430\u0445 \u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u0445 \u0434\u043b\u044f \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u0432 \u043e\u0442\u0435\u043b\u044f\u0445.', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:35:11 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '448', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799905', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '7ms', 'x-request-id': 'req_f2028c94045d8b48f221d5171071c670', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed153f948b19185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_f2028c94045d8b48f221d5171071c670", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:11", "name": "llm_service", "levelname": "INFO", "message": "Translated text to The text is in Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to The text is in Russian. and respond only with the translated text. Do not include any explanations or comments.\\n\\nText:\\n\u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u043e\u043f\u0442\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u0434\u043b\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u0437\u0434\u0430\u043d\u0438\u044f?', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:35:13 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1217', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799907', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '6ms', 'x-request-id': 'req_af4908ebbdf9ac0de0635794102e1202', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed153fdeae29185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_af4908ebbdf9ac0de0635794102e1202", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:13", "name": "llm_service", "levelname": "INFO", "message": "Translated text to The text is in Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to The text is in Russian. and respond only with the translated text. Do not include any explanations or comments.\\n\\nText:\\n\u041a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0430\u0446\u0438\u044f \u0441 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u043e\u0440\u043e\u043c \u0438\u043b\u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043e\u043c: \u043a\u0430\u043a\u0438\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u0437\u0430\u0434\u0430\u0442\u044c \u0434\u043b\u044f \u043e\u0446\u0435\u043d\u043a\u0438 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438 \u0432 \u043e\u0442\u0435\u043b\u0435?', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 04:35:14 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '551', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799895', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '7ms', 'x-request-id': 'req_22ffb836267792eed3db6ca4f3606764', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed154075fba9185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_22ffb836267792eed3db6ca4f3606764", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:14", "name": "llm_service", "levelname": "INFO", "message": "Translated text to The text is in Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:14", "name": "llm_service", "levelname": "INFO", "message": "Translated suggestions from Russian to The text is in Russian.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:14", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('The text is in Russian.', None, ['Learn more about local building codes and regulations for stairwells in hotels.', 'How to determine the optimal number of stairwells for a specific building?', 'Consultation with an architect or engineer: what questions to ask to assess evacuation safety in a hotel?'])", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:14", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:14", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='d4ee088b-8612-41c8-a828-f28ba9cece7c'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:14", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:15", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 07:35:15", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:22", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": null}
{"asctime": "2024-12-05 08:32:22", "name": "__main__", "levelname": "INFO", "message": "Logging is set up.", "taskName": null}
{"asctime": "2024-12-05 08:32:23", "name": "__main__", "levelname": "INFO", "message": "Application built with provided token.", "taskName": null}
{"asctime": "2024-12-05 08:32:23", "name": "__main__", "levelname": "INFO", "message": "DatabaseService initialized and stored in bot_data.", "taskName": null}
{"asctime": "2024-12-05 08:32:24", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": null}
{"asctime": "2024-12-05 08:32:24", "name": "__main__", "levelname": "INFO", "message": "LLMService initialized and stored in bot_data.", "taskName": null}
{"asctime": "2024-12-05 08:32:24", "name": "__main__", "levelname": "INFO", "message": "Handlers added to the application.", "taskName": null}
{"asctime": "2024-12-05 08:32:24", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": null}
{"asctime": "2024-12-05 08:32:25", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-5"}
{"asctime": "2024-12-05 08:32:25", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-5"}
{"asctime": "2024-12-05 08:32:25", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-5"}
{"asctime": "2024-12-05 08:32:32", "name": "decorators", "levelname": "DEBUG", "message": "Initialized DatabaseService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:33", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:33", "name": "decorators", "levelname": "DEBUG", "message": "Initialized LLMService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:33", "name": "decorators", "levelname": "DEBUG", "message": "Set user_id: 244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:33", "name": "decorators", "levelname": "DEBUG", "message": "Set user_name: Andrey", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:33", "name": "decorators", "levelname": "DEBUG", "message": "Set language_code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:33", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:33", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:33", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x0000025E35CDBA70>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 5, 32, 31, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3222, supergroup_chat_created=False, text='/start'), update_id=881194067), <telegram.ext._callbackcontext.CallbackContext object at 0x0000025E5B479630>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:33", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x0000025E5B401080>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:33", "name": "handlers", "levelname": "DEBUG", "message": "User ID: 244732168, User Name: Andrey, Language Code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:33", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 08:32:33", "last_active": "2024-12-05, 08:32:33", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 08:32:33", "name": "handlers", "levelname": "INFO", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:34", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:34", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:36", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 08:32:36", "last_active": "2024-12-05, 08:32:36", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 08:32:36", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:36", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:36", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:36", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:36", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x0000025E35CDBA70>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 5, 32, 36, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3224, supergroup_chat_created=False, text='/knowledge_base'), update_id=881194068), <telegram.ext._callbackcontext.CallbackContext object at 0x0000025E5B37BBD0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:36", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x0000025E5B3FC700>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:37", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:37", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:40", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 08:32:40", "last_active": "2024-12-05, 08:32:40", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 08:32:40", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:40", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:40", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:40", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:40", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_knowledge_base with args: (<handlers.BotHandlers object at 0x0000025E35CDBA70>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116660155707767', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 5, 32, 36, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3225, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', text='\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'),), (InlineKeyboardButton(callback_data='set_knowledge:Indonesian Regulations', text='Indonesian Regulations'),)... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:40", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_knowledge_base with result: <coroutine object BotHandlers.set_knowledge_base at 0x0000025E5B2F9FE0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:40", "name": "handlers", "levelname": "DEBUG", "message": "Set folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:40", "name": "handlers", "levelname": "DEBUG", "message": "Found 29 valid files in folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:40", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_and_index_documents with args: (<llm_service.LLMService object at 0x0000025E5B4E7CE0>, 'E:\\\\knowledge_base\\\\russian_regulations', 'Russian'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:40", "name": "llm_service", "levelname": "DEBUG", "message": "Starting load_and_index_documents for folder_path='E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:40", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_vector_store with args: (<llm_service.LLMService object at 0x0000025E5B4E7CE0>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:40", "name": "faiss.loader", "levelname": "DEBUG", "message": "Environment variable FAISS_OPT_LEVEL is not set, so let's pick the instruction set according to the current CPU", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:40", "name": "faiss.loader", "levelname": "INFO", "message": "Loading faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:40", "name": "faiss.loader", "levelname": "INFO", "message": "Successfully loaded faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:40", "name": "llm_service", "levelname": "INFO", "message": "Loaded vector store from E:\\knowledge_base\\russian_regulations\\vector_store", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:40", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_vector_store with result: True", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:40", "name": "llm_service", "levelname": "INFO", "message": "Vector store loaded from existing files in 'E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:40", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_and_index_documents with result: (True, 'Vector store loaded from existing files.')", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:40", "name": "handlers", "levelname": "INFO", "message": "Knowledge base '\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b' set successfully for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:40", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:48", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 08:32:48", "last_active": "2024-12-05, 08:32:48", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 08:32:48", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:48", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:48", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:48", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=244732168, message='\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:48", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x0000025E35CDBA70>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 5, 32, 47, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3227, supergroup_chat_created=False, text='\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f'), update_id=881194070), <telegram.ext._callbackcontext.CallbackContext object at 0x0000025E5B37BBD0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:48", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x0000025E5B5C54E0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:48", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='a1213912-2498-47f2-bdb7-48fb27216a15' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:48", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='a1213912-2498-47f2-bdb7-48fb27216a15'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:48", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:48", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x0000025E5B4E7CE0>, '\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f'), kwargs: {'chat_history': [HumanMessage(content='\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f', additional_kwargs={}, response_metadata={}), AIMessage(content='The text is in Russian.', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u043c\u0435\u0441\u0442\u043d\u044b\u0445 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u0445 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043b\u044f \u043e\u0442\u0435\u043b\u0435\u0439.', additional_kwargs={}, response_metadata={}), AIMessage(content=\"\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u043c\u0435\u0441\u0442\u043d\u044b\u0445 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u0445 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0434\u043b\u044f \u043e\u0442\u0435\u043b\u0435\u0439.\\n-----------\\nTo ensure the safety of hotel construction in Indonesia, including Bali, it is necessary to consider local building codes and regulations, which may include the following aspects:\\n\\n1. <b>Fire Safety</b>: Buildings must be equi... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:48", "name": "llm_service", "levelname": "INFO", "message": "Detected language: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:48", "name": "llm_service", "levelname": "INFO", "message": "Detected user language: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000025E5B9FA840>, 'json_data': {'input': [[19871, 4898, 54570, 26539, 37277, 23446, 6148, 44786, 48446, 8341, 15088, 77083, 13999, 20440, 220, 19, 10693, 49103, 38657, 39900, 20879, 44100]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:52", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers([('date', 'Thu, 05 Dec 2024 05:32:52 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-allow-origin', '*'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-model', 'text-embedding-ada-002'), ('openai-organization', 'nuanu-wimbwa'), ('openai-processing-ms', '224'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '5000000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '4999978'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', 'req_492192a1513cf845320b1f410f6d74a2'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=9x_HvzB_nO2qCZ7xm9bEbNPoF.wrf.seOvOT3dvWpUQ-1733376772-1.0.1.1-.8BYomBcQUYpZbfG7whhsvPZfLwosnNg86BPE... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:52", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_492192a1513cf845320b1f410f6d74a2", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:52", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:52", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000025E59CDF380>, 'json_data': {'input': [[19871, 4898, 54570, 26539, 37277, 23446, 6148, 44786, 48446, 8341, 15088, 77083, 13999, 20440, 220, 19, 10693, 49103, 38657, 39900, 20879, 44100]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:52", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:52", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:32:52 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '69', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999977', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_7792ff6f4be333a494f5341ffc9839b1', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1a879dc882df8-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:52", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_7792ff6f4be333a494f5341ffc9839b1", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:52", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000025E59CDF380>, 'json_data': {'input': [[19871, 17279, 220, 20571, 13, 9413, 18216, 15, 13, 2366, 17, 33006, 1272, 33006, 415, 21022, 19829, 14391, 52575, 5927, 11187, 720, 1835, 21022, 220, 220, 136, 114, 220, 18154, 7952, 23630, 4898, 24697, 13373, 18600, 50693, 2233, 1482, 4700, 14391, 220, 220, 136, 114, 220, 18154, 14391, 16331, 4898, 24697, 320, 6578, 47760, 12648, 6578, 46177, 48446, 1532, 79686, 6578, 8, 11317, 5927, 220, 220, 136, 114, 220, 18154, 74254, 38521, 18226, 24803, 4655, 6578, 14391, 16331, 4898, 24697, 33006, 34604, 13810, 35297, 15088, 57855, 13, 19, 1389, 36479, 17766, 79370, 98695, 44065, 18600, 47067, 18999, 11562, 50436, 7094, 3865, 68506, 1830, 38657, 44786, 28114, 15298, 39103, 23311, 12415]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:52", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:32:53 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '76', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999889', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_d7d74207c28084e86c2ef09b2c891b95', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1a87bfda92df8-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_d7d74207c28084e86c2ef09b2c891b95", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000025E585F8220>, 'json_data': {'input': [[7094, 33742, 4329, 23311, 49103, 38657, 21708, 482, 720, 11, 21477, 60009, 7952, 33742, 4329, 23311, 49103, 38657, 21708, 482, 720, 11, 25756, 100046, 720, 12, 20879, 19619, 11320, 5591, 32062, 35723, 720, 14082, 34694, 10298, 21923, 14476, 35034, 5372, 39988, 17756, 1506, 55523, 11122, 7094, 39280, 26, 49526, 12, 65619, 17756, 18437, 6856, 14257, 64322, 1506, 42078, 19916, 1840, 53628, 22911, 57186, 5927, 11047, 56857, 17618, 6850, 13404, 61642, 11, 17756, 11, 25190, 110, 48150, 220, 8953, 20440, 11122, 7094, 14332, 12415, 5524, 720, 2297, 10124, 16331, 7486, 2297, 59921, 7486, 39988, 12561, 9542, 38438, 13999, 12, 5591, 4655, 1830, 4329, 17394, 39988, 5927, 19190, 1840, 14009, 15458, 21708, 7740, 320, 8953, 7058, 8, 20440, 11122, 7094, 14332, 12415, 11, 5927, 720, 8164, 12507, 86610, 18999, 10693, 38153, 6... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:32:53 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '77', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998972', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '12ms', 'x-request-id': 'req_1a20346cab0ee3f2d98e532b1c9a38f3', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1a88088782df8-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_1a20346cab0ee3f2d98e532b1c9a38f3", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000025E585F8220>, 'json_data': {'input': [[25657, 58317, 1532, 11, 11047, 98285, 23446, 6148, 23297, 17165, 10693, 76401, 86610, 62491, 7740, 720, 25, 220, 4278, 19, 11562, 2652, 49526, 8164, 39865, 14476, 23680, 4929, 81757, 33793, 3114, 3865, 8131, 1840, 20346, 10298, 16742, 7820, 24803, 11320, 25, 220, 9748, 21, 11562, 2652, 49526, 25657, 58317, 1532, 11, 5524, 6856, 6578, 86610, 5372, 39900, 7820, 24803, 26503, 39900, 5173, 15088, 39103, 23311, 4329, 25, 220, 17887, 11562, 2652, 49526, 25657, 58317, 1532, 11, 28114, 15298, 39103, 23311, 12415, 6850, 23680, 40842, 5591, 16331, 12507, 25, 220, 9992, 15, 11562, 2652, 49526, 25657, 58317, 1532, 11, 28114, 15298, 39103, 23311, 12415, 6850, 23680, 41291, 32985, 7094, 12507, 25, 220, 5313, 11562, 662, 49526, 61432, 7975, 50506, 40842, 2233, 14082, 13999, 39479, 10124, 28089, 13433, 8379, 15752, 11001, 1... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:32:54 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '59', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999755', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_6dce317694b3dafa5689daf2ef3ebc52', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1a882ea0d2df8-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_6dce317694b3dafa5689daf2ef3ebc52", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000025E585F8220>, 'json_data': {'input': [[18, 13, 16, 13, 605, 48446, 8341, 13433, 26539, 37277, 23446, 6148, 44858, 25, 35448, 15752, 2233, 14332, 6148, 5372, 48150, 18868, 5372, 50807, 11, 28114, 15298, 39103, 23311, 4329, 64880, 11, 5173, 15088, 39103, 23311, 10298, 12561, 25262, 35682, 20812, 1482, 198, 5591, 2156, 38521, 31203, 11122, 7094, 39280, 11, 34943, 9239, 56999, 18999, 320, 1840, 11320, 12561, 35111, 2233, 1482, 5372, 48150, 705, 57925, 2156, 19188, 31281, 5372, 48150, 20440, 39479, 6578, 86610, 18999, 26539, 37277, 23446, 6148, 44786, 198, 8164, 39865, 14476, 23680, 15088, 7740, 26539, 37277, 23446, 6148, 44786, 11562, 17721, 12426, 21708, 627, 17279, 18600, 7740, 11562, 22918, 17756, 21022, 6850, 7740, 22918, 1389, 51418, 48445, 4655, 26539, 37277, 23446, 6148, 44786, 48446, 8341, 15088, 5524, 6578, 13, 5927, 510, 18, 27218, 18, 13, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:32:55 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '213', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998677', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '15ms', 'x-request-id': 'req_28591c8f95d874b34abceac8dc88033e', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1a8897f0e2df8-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_28591c8f95d874b34abceac8dc88033e", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If the user requests a calculation, try to execute it. If there is not enough initial data, use general values that apply in most cases. If it is not possible to use general values, request from the user the conditions needed to provide the calculation. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-05, 08:32:55. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retriev... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers([('date', 'Thu, 05 Dec 2024 05:32:58 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'nuanu-wimbwa'), ('openai-processing-ms', '2095'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '800000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '795731'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '320ms'), ('x-request-id', 'req_86e81d17c4e86880e90f31b4b4ae489a'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=iR6XU5PJO28G6188uwEkJF0ZzTWD00bmQeuqrIAmHg4-1733376778-1.0.1.1-F8Uq0cadX5YPnM0V8wV_Cmkwwcc0CEYqX4ihUm_qHwGigTGBi6FNAWF3dUtRAE3OB6eckr2tlUy6QnFPmjqreQ; path=/; expires=Thu, 05... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_86e81d17c4e86880e90f31b4b4ae489a", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:59", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Based on the following user prompt and your response, generate up to 3 follow-up questions that the user might ask next. Respond only with the list of questions, without any additional text.\\n\\nUser Prompt: \u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f\\n\\nYour Response: \u0414\u043b\u044f \u0447\u0435\u0442\u044b\u0440\u0451\u0445\u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f \u043e\u0431\u044b\u0447\u043d\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0434\u0432\u0435 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0435 \u043a\u043b\u0435\u0442\u043a\u0438. \u042d\u0442\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0434\u043b\u044f \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0439 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0447\u0440\u0435\u0437\u0432\u044b\u0447\u0430\u0439\u043d\u043e\u0439 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0434\u043b\u044f \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u043d\u043e\u0440\u043c\u0430\u043c \u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0442\u0440\u0435\u0431\u0443\u044e\u0442 \u043d\u0430\u043b\u0438\u0447\u0438\u044f \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0445 \u043f\u0443\u0442\u0435\u0439 \u0432\u044b\u0445\u043e\u0434\u0430. \u041e\u0434\u043d\u0430\u043a\u043e \u0442\u043e\u0447\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043c\u043e\u0436\u0435\u0442 \u0437\u0430\u0432\u0438\u0441\u0435\u0442\u044c \u043e\u0442 \u0442\u0430\u043a\u0438\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u043a\u0430\u043a \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u044d\u0442\u0430\u0436\u0430, \u043e\u0431\u0449\u0430\u044f \u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u0437\u0434\u0430\u043d\u0438\u044f \u0438 \u043c\u0435\u0441\u0442\u043d\u044b\u0435 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043d\u043e\u0440\u043c\u044b. \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c\u0441\u044f \u043a \u043c\u0435\u0441\u0442\u043d\u044b\u043c \u043d\u043e\u0440\u043c\u0430\u0442\u0438\u0432\u043d\u044b\u043c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043c \u0438\u043b\u0438 \u043f\u0440\u043e\u043a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u043e\u0440\u043e\u043c \u0438\u043b\u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043e\u043c \u043f\u043e \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u0442\u043e\u0447\u043d\u043e\u0433\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0439.\\n\\... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:32:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:33:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:33:01 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '2195', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799620', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '28ms', 'x-request-id': 'req_f36a656380b1de30869b62f4baf4c2ca', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1a8a49d0fc02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:33:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_f36a656380b1de30869b62f4baf4c2ca", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:33:01", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['\u041a\u0430\u043a\u0438\u0435 \u043c\u0435\u0441\u0442\u043d\u044b\u0435 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043d\u043e\u0440\u043c\u044b \u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043c\u044b \u043a \u0447\u0435\u0442\u044b\u0440\u0451\u0445\u044d\u0442\u0430\u0436\u043d\u044b\u043c \u043e\u0442\u0435\u043b\u044f\u043c \u0432 \u043d\u0430\u0448\u0435\u043c \u0440\u0435\u0433\u0438\u043e\u043d\u0435?', '\u041a\u0430\u043a\u0438\u0435 \u0435\u0449\u0451 \u0444\u0430\u043a\u0442\u043e\u0440\u044b \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u0432\u043b\u0438\u044f\u0442\u044c \u043d\u0430 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u043c\u044b\u0445 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u0432 \u043e\u0442\u0435\u043b\u0435?', '\u041a\u0430\u043a\u043e\u0432\u044b \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u043a \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438 \u0438 \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u044e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u0434\u043b\u044f \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438?']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:33:01", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u0414\u043b\u044f \u0447\u0435\u0442\u044b\u0440\u0451\u0445\u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f \u043e\u0431\u044b\u0447\u043d\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0434\u0432\u0435 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0435 \u043a\u043b\u0435\u0442\u043a\u0438. \u042d\u0442\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0434\u043b\u044f \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0439 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0447\u0440\u0435\u0437\u0432\u044b\u0447\u0430\u0439\u043d\u043e\u0439 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0434\u043b\u044f \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u043d\u043e\u0440\u043c\u0430\u043c \u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0442\u0440\u0435\u0431\u0443\u044e\u0442 \u043d\u0430\u043b\u0438\u0447\u0438\u044f \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0445 \u043f\u0443\u0442\u0435\u0439 \u0432\u044b\u0445\u043e\u0434\u0430. \u041e\u0434\u043d\u0430\u043a\u043e \u0442\u043e\u0447\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043c\u043e\u0436\u0435\u0442 \u0437\u0430\u0432\u0438\u0441\u0435\u0442\u044c \u043e\u0442 \u0442\u0430\u043a\u0438\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u043a\u0430\u043a \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u044d\u0442\u0430\u0436\u0430, \u043e\u0431\u0449\u0430\u044f \u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u0437\u0434\u0430\u043d\u0438\u044f \u0438 \u043c\u0435\u0441\u0442\u043d\u044b\u0435 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043d\u043e\u0440\u043c\u044b. \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c\u0441\u044f \u043a \u043c\u0435\u0441\u0442\u043d\u044b\u043c \u043d\u043e\u0440\u043c\u0430\u0442\u0438\u0432\u043d\u044b\u043c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043c \u0438\u043b\u0438 \u043f\u0440\u043e\u043a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u043e\u0440\u043e\u043c \u0438\u043b\u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043e\u043c \u043f\u043e \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u0442\u043e\u0447\u043d\u043e\u0433\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0439.', None, ['\u041a\u0430\u043a\u0438\u0435 \u043c\u0435\u0441\u0442\u043d\u044b\u0435 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043d\u043e\u0440\u043c\u044b \u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043c\u044b \u043a \u0447\u0435\u0442\u044b\u0440\u0451\u0445\u044d\u0442\u0430\u0436\u043d\u044b\u043c \u043e\u0442\u0435\u043b\u044f\u043c \u0432 \u043d\u0430\u0448\u0435\u043c \u0440\u0435\u0433\u0438\u043e\u043d\u0435?', '\u041a\u0430\u043a\u0438\u0435 \u0435\u0449\u0451 \u0444\u0430\u043a\u0442\u043e\u0440\u044b \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u0432\u043b\u0438\u044f\u0442\u044c \u043d\u0430 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u043c\u044b\u0445 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u0432 \u043e\u0442\u0435\u043b\u0435?', '\u041a\u0430\u043a\u043e\u0432\u044b \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u043a \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438 \u0438 \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u044e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u0434\u043b\u044f \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438?'])", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:33:01", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:33:01", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='a1213912-2498-47f2-bdb7-48fb27216a15'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:33:01", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:33:02", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:33:02", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:13", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 08:34:13", "last_active": "2024-12-05, 08:34:13", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 08:34:13", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:13", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:13", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:13", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=244732168, message='\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0433 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 b = 200mm, h = 50mm, \u0434\u043b\u0438\u043d\u043e\u0439 3 \u043c, \u0445\u0432\u043e\u0439\u043d\u043e\u0439 \u043f\u043e\u0440\u043e\u0434\u044b'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:13", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x0000025E35CDBA70>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 5, 34, 12, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3229, supergroup_chat_created=False, text='\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0433 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 b = 200mm, h = 50mm, \u0434\u043b\u0438\u043d\u043e\u0439 3 \u043c, \u0445\u0432\u043e\u0439\u043d\u043e\u0439 \u043f\u043e\u0440\u043e\u0434\u044b'), update_id=881194071), <telegram.ext._callbackcontext.CallbackContext object at 0x0000025EABCA19B0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:13", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x0000025E5B501A80>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:13", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='1e5b9ac4-b447-4dce-9045-b227c32b7b46' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:13", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='1e5b9ac4-b447-4dce-9045-b227c32b7b46'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:13", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:13", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x0000025E5B4E7CE0>, '\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0433 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 b = 200mm, h = 50mm, \u0434\u043b\u0438\u043d\u043e\u0439 3 \u043c, \u0445\u0432\u043e\u0439\u043d\u043e\u0439 \u043f\u043e\u0440\u043e\u0434\u044b'), kwargs: {'chat_history': [HumanMessage(content='\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0433 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 b = 200mm, h = 50mm, \u0434\u043b\u0438\u043d\u043e\u0439 3 \u043c, \u0445\u0432\u043e\u0439\u043d\u043e\u0439 \u043f\u043e\u0440\u043e\u0434\u044b', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f', additional_kwargs={}, response_metadata={}), AIMessage(content='\u0414\u043b\u044f \u0447\u0435\u0442\u044b\u0440\u0451\u0445\u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f \u043e\u0431\u044b\u0447\u043d\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0434\u0432\u0435 \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0435 \u043a\u043b\u0435\u0442\u043a\u0438. \u042d\u0442\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0434\u043b\u044f \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0439 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0447\u0440\u0435\u0437\u0432\u044b\u0447\u0430\u0439\u043d\u043e\u0439 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0434\u043b\u044f \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u043d\u043e\u0440\u043c\u0430\u043c \u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0442\u0440\u0435\u0431\u0443\u044e\u0442 \u043d\u0430\u043b\u0438\u0447\u0438\u044f \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0445 \u043f\u0443\u0442\u0435\u0439 \u0432\u044b\u0445\u043e\u0434\u0430. \u041e\u0434\u043d\u0430\u043a\u043e \u0442\u043e\u0447\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043c\u043e\u0436\u0435\u0442 \u0437\u0430\u0432\u0438\u0441\u0435\u0442\u044c \u043e\u0442 \u0442\u0430\u043a\u0438\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u043a\u0430\u043a \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u044d\u0442\u0430\u0436\u0430, \u043e\u0431\u0449\u0430\u044f \u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u0437\u0434\u0430\u043d\u0438\u044f \u0438 \u043c\u0435\u0441\u0442\u043d\u044b\u0435 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043d\u043e\u0440\u043c\u044b. \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c\u0441\u044f \u043a \u043c\u0435\u0441\u0442\u043d\u044b\u043c \u043d\u043e\u0440\u043c\u0430\u0442\u0438\u0432\u043d\u044b\u043c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043c \u0438\u043b\u0438 \u043f\u0440\u043e\u043a\u043e\u043d\u0441\u0443\u043b... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:13", "name": "llm_service", "levelname": "INFO", "message": "Detected language: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:13", "name": "llm_service", "levelname": "INFO", "message": "Detected user language: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000025EA4CC6480>, 'json_data': {'input': [[66144, 54570, 7820, 15752, 21477, 7094, 58669, 9542, 7952, 23630, 13433, 293, 284, 220, 1049, 3906, 11, 305, 284, 220, 1135, 3906, 11, 7952, 11320, 39988, 220, 18, 11562, 11, 45658, 5591, 16742, 39988, 91146, 9706, 4655]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:34:14 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '120', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999962', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_8ae068d2ee471c526afbfff4b40c268b', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1aa76bf092dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_8ae068d2ee471c526afbfff4b40c268b", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:14", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000025E59CDF240>, 'json_data': {'input': [[66144, 54570, 7820, 15752, 21477, 7094, 58669, 9542, 7952, 23630, 13433, 293, 284, 220, 1049, 3906, 11, 305, 284, 220, 1135, 3906, 11, 7952, 11320, 39988, 220, 18, 11562, 11, 45658, 5591, 16742, 39988, 91146, 9706, 4655]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:34:15 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '46', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999962', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_11135e0f0b57609d3ec62de28be23b74', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1aa7cfaec2dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_11135e0f0b57609d3ec62de28be23b74", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000025E59CDF240>, 'json_data': {'input': [[20976, 8164, 9239, 4655, 23934, 18868, 5591, 9239, 1506, 26539, 19479, 47273, 37405, 7952, 11320, 79862, 12561, 7975, 8341, 1506, 11, 11562, 25, 2355, 33006, 7094, 1482, 220, 1049, 720, 1041, 11562, 6578, 720, 1041, 11562, 6578, 720, 2297, 5591, 13, 220, 1049, 720, 1049, 11562, 6578, 720, 1049, 11562, 6578, 720, 35095, 28086, 7753, 57319, 20879, 25756, 9239, 41873, 97341, 39127, 39988, 81376, 1840, 720, 16, 14, 1135, 7952, 11320, 12648, 720, 1830, 28086, 7753, 57319, 720, 16, 14, 1041, 7952, 11320, 12648, 11047, 28086, 7753, 57319, 720, 35095, 28086, 7753, 57319, 20879, 13999, 2297, 56008, 13999, 26539, 19479, 47273, 11, 28114, 8164, 5372, 7094, 1840, 36352, 14009, 2233, 39988, 81376, 1840, 23784, 65014, 320, 7094, 14009, 720, 95570, 3114, 6856, 16742, 46339, 9239, 4655, 20879, 13999, 2297, 56008, 13999, 143... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:16", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:34:16 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '59', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999275', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '8ms', 'x-request-id': 'req_163a312055b1841040f464ab4991f0ed', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1aa837e7b2dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:16", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_163a312055b1841040f464ab4991f0ed", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:17", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000025E59CDF240>, 'json_data': {'input': [[3076, 33006, 16604, 48262, 13373, 20346, 17394, 39988, 21923, 67222, 6856, 17165, 46177, 720, 13337, 59030, 17165, 720, 39091, 19479, 92091, 44858, 720, 7094, 11320, 14525, 25756, 5591, 35387, 4329, 46177, 720, 66144, 51973, 11, 11562, 6578, 720, 39091, 19479, 92091, 48150, 720, 4898, 99714, 720, 15752, 5591, 35387, 21708, 46177, 69471, 14082, 11, 720, 12426, 1830, 13, 720, 39091, 94178, 92091, 48150, 720, 2233, 18437, 6735, 61390, 23446, 1532, 11562, 50436, 7094, 3865, 720, 15752, 5591, 35387, 4329, 64880, 46177, 720, 66144, 14082, 4898, 50807, 11, 11562, 6578, 720, 74339, 67222, 6856, 13433, 5173, 64292, 12507, 8131, 7753, 1840, 16331, 50807, 720, 1840, 11320, 5173, 3114, 9542, 12648, 64880, 96573, 7753, 1840, 16331, 50807, 720, 14525, 81376, 47805, 1532, 7952, 2233, 33742, 23297, 1840, 12648, 720, 1135, 7... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:17", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:17", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:34:17 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '105', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998763', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '14ms', 'x-request-id': 'req_b209edf83f21b6acf4a437b802350143', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1aa8a4a692dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:17", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_b209edf83f21b6acf4a437b802350143", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:17", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000025E59CDF240>, 'json_data': {'input': [[4218, 33006, 16604, 48262, 720, 63873, 33742, 23297, 1840, 12648, 28599, 9239, 1830, 720, 34604, 19188, 64134, 720, 8164, 29256, 7753, 56857, 39900, 720, 2297, 56857, 18999, 720, 10124, 16331, 17165, 11, 11562, 6578, 720, 39091, 94178, 92091, 34613, 12561, 7975, 8341, 11, 11562, 720, 8164, 31203, 13373, 91216, 47273, 720, 15752, 9239, 41873, 97341, 39127, 44786, 720, 2297, 5591, 64084, 21708, 14257, 46339, 9239, 720, 8164, 31203, 13373, 91216, 47273, 720, 8164, 7753, 15298, 2233, 37277, 44786, 720, 49284, 23311, 13433, 29118, 44786, 720, 2297, 5591, 64084, 21708, 720, 8164, 31203, 13373, 91216, 47273, 720, 15752, 9239, 41873, 97341, 39127, 44786, 720, 2297, 5591, 64084, 21708, 14257, 46339, 9239, 7740, 720, 8164, 7753, 15298, 2233, 37277, 44786, 720, 49284, 23311, 13433, 29118, 44786, 720, 2297, 5591, 64084,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:17", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:18", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:34:17 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '97', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998892', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '13ms', 'x-request-id': 'req_8175e198a330d1ed8084553bf90d1f37', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1aa8f0d8d2dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:18", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_8175e198a330d1ed8084553bf90d1f37", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:18", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000025E59CDF240>, 'json_data': {'input': [[10124, 8, 59346, 58317, 1532, 11, 39479, 39988, 11047, 7975, 14476, 1840, 12648, 7740, 720, 30480, 31203, 12648, 720, 18, 2355, 720, 19871, 5591, 17721, 44065, 18868, 4655, 90877, 51736, 34943, 13404, 19479, 18999, 25, 33006, 720, 11320, 6735, 6856, 22885, 720, 68506, 39244, 1506, 720, 14525, 720, 8164, 9706, 4898, 80230, 94962, 720, 11320, 6735, 1532, 720, 7, 2156, 34493, 67024, 13433, 720, 8164, 7753, 8164, 5372, 7094, 1840, 36352, 14009, 2233, 14525, 720, 4898, 720, 2297, 5591, 17721, 2156, 72952, 720, 12426, 5591, 3865, 8, 720, 19, 2355, 720, 1830, 20346, 10124, 13373, 40842, 4898, 80230, 94962, 7820, 17461, 10589, 1532, 720, 19, 2355, 720, 8164, 2233, 15088, 8131, 44786, 41291, 19916, 64292, 21708, 5927, 18868, 4655, 4898, 720, 19, 2355, 33006, 19871, 5591, 17721, 44065, 5524, 56857, 18999, 74254, 38521... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:18", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:18", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:34:18 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '143', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999690', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '3ms', 'x-request-id': 'req_8e736d7ef503a701fb3b024b39d9eaa5', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1aa91af492dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:18", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_8e736d7ef503a701fb3b024b39d9eaa5", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:18", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If the user requests a calculation, try to execute it. If there is not enough initial data, use general values that apply in most cases. If it is not possible to use general values, request from the user the conditions needed to provide the calculation. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-05, 08:34:18. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retriev... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:18", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:29", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:34:29 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '9925', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '795815', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '313ms', 'x-request-id': 'req_35704e63eb1a90a6683b183fac744d1e', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1aa9498fd2dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:29", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_35704e63eb1a90a6683b183fac744d1e", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:29", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:29", "name": "llm_service", "levelname": "ERROR", "message": "Error generating suggestions: 'M'", "exc_info": "Traceback (most recent call last):\n  File \"E:\\Python_Projects\\pdflyx\\llm_service.py\", line 329, in generate_suggestions\n    ).format(n=n)\n      ^^^^^^^^^^^\nKeyError: 'M'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:29", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u0427\u0442\u043e\u0431\u044b \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c, \u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0435\u0451 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u044c \u043d\u0430 \u0438\u0437\u0433\u0438\u0431. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043d\u0430\u043c \u043f\u043e\u043d\u0430\u0434\u043e\u0431\u044f\u0442\u0441\u044f \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u043c\u043e\u0434\u0443\u043b\u044c \u0443\u043f\u0440\u0443\u0433\u043e\u0441\u0442\u0438 \u0438 \u043f\u0440\u0435\u0434\u0435\u043b \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u043d\u0430 \u0438\u0437\u0433\u0438\u0431.\\n\\n\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c, \u0434\u043b\u044f \u0445\u0432\u043e\u0439\u043d\u043e\u0439 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u043c\u043e\u0434\u0443\u043b\u044c \u0443\u043f\u0440\u0443\u0433\u043e\u0441\u0442\u0438 \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u043f\u0440\u0438\u043c\u0435\u0440\u043d\u043e 10,000 \u041c\u041f\u0430, \u0430 \u043f\u0440\u0435\u0434\u0435\u043b \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u0438\u0437\u0433\u0438\u0431 \u043e\u043a\u043e\u043b\u043e 40 \u041c\u041f\u0430. \u0414\u0430\u043b\u0435\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0444\u043e\u0440\u043c\u0443\u043b\u0443 \u0434\u043b\u044f \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0439 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043d\u0430 \u0431\u0430\u043b\u043a\u0443:\\n\\n\\\\[ \\\\sigma = \\\\frac{M}{W} \\\\]\\n\\n\u0433\u0434\u0435:\\n\u2022 \\\\(\\\\sigma\\\\) \u2014 \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e\u0435 \u043d\u0430\u043f\u0440\u044f\u0436\u0435\u043d\u0438\u0435 (40 \u041c\u041f\u0430),\\n\u2022 \\\\(M\\\\) \u2014 \u043c\u043e\u043c\u0435\u043d\u0442 \u0438\u0437\u0433\u0438\u0431\u0430,\\n\u2022 \\\\(W\\\\) \u2014 \u043c\u043e\u043c\u0435\u043d\u0442 \u0441\u043e\u043f\u0440\u043e\u0442\u0438\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0435\u0447\u0435\u043d\u0438\u044f.\\n\\n\u041c\u043e\u043c\u0435\u043d\u0442 \u0441\u043e\u043f\u0440\u043e\u0442\u0438\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u043e\u0433\u043e \u0441\u0435\u0447\u0435\u043d\u0438\u044f:\\n\\n\\\\[ W = \\\\frac{b \\\\cdot h^2}{6} \\\\]\\n\\n\u0433\u0434\u0435:\\n\u2022 \\\\(b = 200 \\\\, \\\\text{\u043c\u043c} = 0.2 \\\\, \\\\text{\u043c}\\\\),\\n\u2022 \\\\(h = 50 \\\\, \\\\text{\u043c\u043c} = 0.05 \\\\, \\\\text{\u043c}\\\\).\\n\\n\\\\[ W = \\\\frac{0.2 \\\\cdot 0.05^2}{6} = 8.33 \\\\times 10^{-5} \\\\, \\\\text{\u043c}^3 \\\\]\\n\\n\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0438\u0437\u0433\u0438\u0431\u0430 \u0434\u043b\u044f \u0446\u0435\u043d\u0442\u0440\u0430\u043b\u044c\u043d\u043e \u043d\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u043e\u0439 \u0431\u0430\u043b\u043a\u0438 (\u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \\\\(P\\\\) \u0432 \u0446... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:29", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:29", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='1e5b9ac4-b447-4dce-9045-b227c32b7b46'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:30", "name": "handlers", "levelname": "INFO", "message": "Sent response to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:34:30", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:36", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 08:35:35", "last_active": "2024-12-05, 08:35:35", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 08:35:36", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:36", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:36", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:36", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:36", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x0000025E35CDBA70>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 5, 35, 35, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3231, supergroup_chat_created=False, text='/knowledge_base'), update_id=881194072), <telegram.ext._callbackcontext.CallbackContext object at 0x0000025EABCA17F0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:36", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x0000025E5B3FD480>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:36", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:37", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:38", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 08:35:38", "last_active": "2024-12-05, 08:35:38", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 08:35:38", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:38", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:38", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:38", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_knowledge:Indonesian Regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:38", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_knowledge_base with args: (<handlers.BotHandlers object at 0x0000025E35CDBA70>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_knowledge:Indonesian Regulations', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116658652882266', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 5, 35, 36, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3232, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', text='\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'),), (InlineKeyboardButton(callback_data='set_knowledge:Indonesian Regulations', text='Indonesian Regulations')... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:38", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_knowledge_base with result: <coroutine object BotHandlers.set_knowledge_base at 0x0000025E5BA28D30>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:38", "name": "handlers", "levelname": "DEBUG", "message": "Set folder_path='E:\\knowledge_base\\indonesian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:38", "name": "handlers", "levelname": "DEBUG", "message": "Found 23 valid files in folder_path='E:\\knowledge_base\\indonesian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:38", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_and_index_documents with args: (<llm_service.LLMService object at 0x0000025E5B4E7CE0>, 'E:\\\\knowledge_base\\\\indonesian_regulations', 'Indonesioan'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:38", "name": "llm_service", "levelname": "DEBUG", "message": "Starting load_and_index_documents for folder_path='E:\\knowledge_base\\indonesian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:38", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_vector_store with args: (<llm_service.LLMService object at 0x0000025E5B4E7CE0>, 'E:\\\\knowledge_base\\\\indonesian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:38", "name": "llm_service", "levelname": "INFO", "message": "Loaded vector store from E:\\knowledge_base\\indonesian_regulations\\vector_store", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:38", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_vector_store with result: True", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:38", "name": "llm_service", "levelname": "INFO", "message": "Vector store loaded from existing files in 'E:\\knowledge_base\\indonesian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:38", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_and_index_documents with result: (True, 'Vector store loaded from existing files.')", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:39", "name": "handlers", "levelname": "INFO", "message": "Knowledge base 'Indonesian Regulations' set successfully for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:39", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:47", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 08:35:47", "last_active": "2024-12-05, 08:35:47", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 08:35:47", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:47", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:47", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:47", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=244732168, message='\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:47", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x0000025E35CDBA70>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 5, 35, 47, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3234, supergroup_chat_created=False, text='\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f'), update_id=881194074), <telegram.ext._callbackcontext.CallbackContext object at 0x0000025E5B9D3C40>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:47", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x0000025E5B5C45E0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:47", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='f6cd881d-3506-4122-aae1-f9ec74b2eef1' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:47", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='f6cd881d-3506-4122-aae1-f9ec74b2eef1'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:47", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:47", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x0000025E5B4E7CE0>, '\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f'), kwargs: {'chat_history': [HumanMessage(content='\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0433 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 b = 200mm, h = 50mm, \u0434\u043b\u0438\u043d\u043e\u0439 3 \u043c, \u0445\u0432\u043e\u0439\u043d\u043e\u0439 \u043f\u043e\u0440\u043e\u0434\u044b', additional_kwargs={}, response_metadata={}), AIMessage(content='\u0427\u0442\u043e\u0431\u044b \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c, \u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0435\u0451 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u044c \u043d\u0430 \u0438\u0437\u0433\u0438\u0431. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043d\u0430\u043c \u043f\u043e\u043d\u0430\u0434\u043e\u0431\u044f\u0442\u0441\u044f \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u043c\u043e\u0434\u0443\u043b\u044c \u0443\u043f\u0440\u0443\u0433\u043e\u0441\u0442\u0438 \u0438 \u043f\u0440\u0435\u0434\u0435\u043b \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u043d\u0430 \u0438\u0437\u0433\u0438\u0431.\\n\\n\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c, \u0434\u043b\u044f \u0445\u0432\u043e\u0439\u043d\u043e\u0439 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u043c\u043e\u0434\u0443\u043b\u044c \u0443\u043f\u0440\u0443\u0433\u043e\u0441\u0442\u0438 \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u043f\u0440\u0438\u043c\u0435\u0440\u043d\u043e 10,000 \u041c\u041f\u0430, \u0430 \u043f\u0440\u0435\u0434\u0435\u043b \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u0438\u0437\u0433\u0438\u0431 \u043e\u043a\u043e\u043b\u043e 40 \u041c\u041f\u0430. \u0414\u0430\u043b\u0435\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0444\u043e\u0440\u043c\u0443\u043b\u0443 \u0434\u043b\u044f \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0439 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043d\u0430 \u0431\u0430\u043b\u043a\u0443:\\n\\n\\\\[ \\\\sigma = \\\\frac{M}{W} \\\\]\\n\\n\u0433\u0434\u0435:\\n\u2022 \\\\(\\\\sigma\\\\) \u2014 \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e\u0435 \u043d\u0430\u043f\u0440\u044f\u0436\u0435\u043d\u0438\u0435 (40 \u041c\u041f\u0430),\\n\u2022 \\\\(M\\\\) \u2014 \u043c\u043e\u043c\u0435... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:47", "name": "llm_service", "levelname": "INFO", "message": "Detected language: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:47", "name": "llm_service", "levelname": "INFO", "message": "Detected user language: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:47", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Indonesioan. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\n\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:47", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:48", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:35:48 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '422', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799923', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_26463c7fc07bb3e11967e66a076ce0b2', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1acc29b0defbd-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:48", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_26463c7fc07bb3e11967e66a076ce0b2", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:48", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Indonesioan", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:48", "name": "llm_service", "levelname": "INFO", "message": "Translated prompt from Russian to Indonesioan", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:48", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000025EA4CC6480>, 'json_data': {'input': [[39379, 18826, 62992, 22636, 6885, 10587, 42168, 332, 12825, 8826, 20166, 9689, 220, 19, 326, 519, 2192, 30]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:48", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:35:48 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '52', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999981', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_28ed2696bb3dbdae4db8e9ceffedf884', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1acc77967ea76-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_28ed2696bb3dbdae4db8e9ceffedf884", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:49", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000025EA4CC5D00>, 'json_data': {'input': [[39379, 18826, 62992, 22636, 6885, 10587, 42168, 332, 12825, 8826, 20166, 9689, 220, 19, 326, 519, 2192, 30]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:35:49 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '79', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999981', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_2ed300b0abe6386ac9bf5315bf967cfc', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1acc9bdd2ea76-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_2ed300b0abe6386ac9bf5315bf967cfc", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000025EA4CC5D00>, 'json_data': {'input': [[16074, 2360, 220, 27311, 5037, 362, 720, 47, 7157, 926, 965, 720, 75736, 14451, 29661, 2006, 46, 61389, 5987, 720, 12, 220, 10961, 482, 720, 43, 519, 2192, 720, 28273, 65734, 720, 466, 325, 8248, 1871, 8248, 12825, 8826, 720, 3342, 266, 5089, 514, 2308, 46746, 84, 90762, 275, 9279, 1624, 5472, 5089, 720, 273, 2308, 22636, 6885, 90762, 275, 13, 720, 27317, 84602, 32381, 16960, 11, 3026, 306, 28824, 86240, 9279, 720, 273, 2308, 8187, 46746, 84, 90762, 275, 9279, 22636, 6885, 90762, 275, 720, 41345, 720, 67, 581, 332, 12825, 8826, 720, 3935, 3178, 720, 76, 833, 587, 316, 347, 10426, 720, 2821, 88, 301, 309, 16623, 720, 1395, 6993, 720, 71, 359, 1122, 720, 67, 2850, 720, 75, 519, 2192, 720, 28273, 65734, 56866, 13, 720, 2948, 8, 720, 41, 31427, 469, 2857, 275, 720, 35, 17243, 4915, 6181, 10109, 10426, 11, 97921,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:35:49 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '97', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999676', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '3ms', 'x-request-id': 'req_5a8cc3a1db705fc53e6dad18788262bf', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1accbe9c8ea76-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_5a8cc3a1db705fc53e6dad18788262bf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000025EA4CC5D00>, 'json_data': {'input': [[47, 7157, 358, 507, 965, 720, 793, 2169, 41, 9574, 35170, 622, 8225, 61389, 5987, 720, 12, 220, 20325, 482, 720, 7749, 720, 98251, 720, 8900, 282, 29222, 4001, 320, 76, 12, 60, 720, 37, 10114, 269, 387, 6993, 11794, 1122, 720, 1209, 1079, 7270, 290, 285, 320, 972, 296, 17, 25239, 18, 296, 17, 5255, 526, 595, 489, 1819, 74, 80970, 220, 16, 320, 1041, 720, 76, 17, 25239, 20, 296, 17, 5255, 526, 595, 489, 1819, 74, 80970, 220, 17, 320, 1041, 296, 17, 25239, 20, 296, 17, 5255, 526, 595, 720, 10, 1819, 74, 80970, 220, 18, 320, 1135, 296, 17, 25239, 20, 296, 17, 5255, 526, 595, 489, 1819, 74, 80970, 220, 19, 320, 5154, 720, 76, 17, 25239, 20, 296, 17, 5255, 526, 595, 720, 7, 21, 489, 220, 508, 489, 220, 966, 489, 220, 605, 489, 220, 1135, 8, 50707, 720, 16, 220, 16, 220, 21, 2355, 526, 720, 27317, 84602, 80142, 43... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:35:49 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '51', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999631', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '4ms', 'x-request-id': 'req_bf736c33f04097723f434432a42864f0', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1acce3e3fea76-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_bf736c33f04097723f434432a42864f0", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000025EA4CC5D00>, 'json_data': {'input': [[86755, 328, 13, 22410, 86, 3444, 2355, 9378, 720, 2822, 720, 37, 2234, 6455, 17343, 65734, 65577, 2234, 720, 21, 1389, 220, 508, 445, 519, 2192, 720, 42, 89127, 21920, 65863, 720, 6874, 70, 60, 720, 58, 85268, 60, 720, 16, 13, 5154, 720, 972, 720, 17, 720, 46674, 720, 16, 13, 931, 720, 868, 720, 16, 13, 3965, 720, 1114, 720, 16, 13, 5154, 720, 972, 720, 18, 720, 49, 372, 1494, 39867, 275, 720, 5067, 720, 24, 720, 11711, 720, 806, 720, 16, 13, 931, 720, 868, 720, 19, 720, 10835, 531, 16737, 720, 5067, 720, 24, 720, 11711, 720, 806, 720, 16, 13, 931, 720, 868, 720, 20, 720, 51, 28342, 8409, 4749, 52249, 720, 16, 13, 931, 720, 868, 720, 16, 13, 3965, 720, 1114, 720, 16, 13, 5154, 720, 972, 33006, 37, 2234, 6455, 17343, 65734, 65577, 2234, 720, 508, 1389, 220, 966, 445, 519, 2192, 33006, 720, 16, 720, 42, 89267,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:35:50 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '60', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999522', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_f36fba14c24ea7347940465581ef094a', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1acd07a50ea76-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_f36fba14c24ea7347940465581ef094a", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000025EA4CC5D00>, 'json_data': {'input': [[16074, 2360, 220, 22679, 7743, 362, 720, 47, 7157, 3895, 965, 720, 793, 75, 30, 24778, 84437, 19877, 61389, 5987, 720, 12, 220, 19, 220, 16, 220, 16, 220, 482, 2355, 6806, 2355, 51, 526, 6885, 21045, 514, 2308, 51035, 25177, 220, 8610, 10166, 59597, 720, 67, 321, 833, 74, 2113, 21045, 31787, 19148, 436, 3042, 266, 17834, 22826, 1891, 720, 21946, 1122, 42249, 1494, 22636, 6885, 13, 720, 6806, 720, 51, 526, 6885, 10587, 10418, 79706, 6455, 59722, 33054, 29856, 1891, 3276, 5169, 720, 3975, 266, 720, 67, 664, 3178, 720, 34965, 278, 23741, 720, 79, 2649, 720, 3640, 2234, 720, 77468, 70014, 28824, 720, 25453, 587, 720, 655, 75, 24468, 720, 441, 13279, 41312, 720, 5794, 88, 19586, 19818, 31787, 19148, 436, 3042, 266, 602, 10888, 969, 581, 11, 720, 6806, 720, 51, 526, 6885, 720, 79, 2649, 720, 63919, 65734, 720, 38,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:35:50 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '62', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999534', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_abfcc25d44fbd61547169eb2abfbef52', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1acd2bf34ea76-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_abfcc25d44fbd61547169eb2abfbef52", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'You are a project assistant from the consultant side on design and construction projects. If the user requests a calculation, try to execute it. If there is not enough initial data, use general values that apply in most cases. If it is not possible to use general values, request from the user the conditions needed to provide the calculation. If you don\\'t know the answer, say that you don\\'t know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-05, 08:35:50. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retri... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:35:54 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '3353', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '797230', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '207ms', 'x-request-id': 'req_aa8a9a5f8b691640e4ef383918ae074f', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1acd508c1efbd-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_aa8a9a5f8b691640e4ef383918ae074f", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Russian. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\nUntuk hotel dengan 4 lantai, umumnya diperlukan minimal dua tangga darurat. Hal ini sesuai dengan prinsip keselamatan yang mengharuskan adanya lebih dari satu jalur evakuasi untuk memastikan penghuni dapat keluar dengan aman dalam situasi darurat. Namun, jumlah pasti tangga yang dibutuhkan juga bisa bergantung pada faktor lain seperti luas lantai, kapasitas hunian, dan peraturan bangunan setempat. Disarankan untuk merujuk pada peraturan bangunan lokal atau berkonsultasi dengan profesional di bidang arsitektur atau keselamatan bangunan untuk mendapatkan kepastian.', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:35:56 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '2137', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799806', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '14ms', 'x-request-id': 'req_d339d9f2392ffff95c506c0d28fb2342', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1acec4ab6efbd-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_d339d9f2392ffff95c506c0d28fb2342", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:57", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:57", "name": "llm_service", "levelname": "INFO", "message": "Translated answer from Indonesioan to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:57", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Based on the following user prompt and your response, generate up to 3 follow-up questions that the user might ask next. Respond only with the list of questions, without any additional text.\\n\\nUser Prompt: Berapa banyak tangga yang dibutuhkan untuk hotel 4 lantai?\\n\\nYour Response: Untuk hotel dengan 4 lantai, umumnya diperlukan minimal dua tangga darurat. Hal ini sesuai dengan prinsip keselamatan yang mengharuskan adanya lebih dari satu jalur evakuasi untuk memastikan penghuni dapat keluar dengan aman dalam situasi darurat. Namun, jumlah pasti tangga yang dibutuhkan juga bisa bergantung pada faktor lain seperti luas lantai, kapasitas hunian, dan peraturan bangunan setempat. Disarankan untuk merujuk pada peraturan bangunan lokal atau berkonsultasi dengan profesional di bidang arsitektur atau keselamatan bangunan untuk mendapatkan kepastian.\\n\\nQuestions:', 'role': 'us... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:35:58 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1029', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799766', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '17ms', 'x-request-id': 'req_dd82a3b9ddd0fcbfbb82ad0ab322f7d5', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1acfb9f95efbd-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_dd82a3b9ddd0fcbfbb82ad0ab322f7d5", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:58", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['Apa saja faktor lain yang mempengaruhi jumlah tangga yang dibutuhkan di sebuah hotel?', 'Bagaimana cara memastikan tangga darurat memenuhi standar keselamatan?', 'Apakah ada perbedaan jumlah tangga yang dibutuhkan untuk hotel dengan desain atau kapasitas tertentu?']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Russian. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\nApa saja faktor lain yang mempengaruhi jumlah tangga yang dibutuhkan di sebuah hotel?', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:35:58 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '525', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799928', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_bbc6422662fe55ad3f2196556f4ed65c', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1ad041ea3efbd-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_bbc6422662fe55ad3f2196556f4ed65c", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:59", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Russian. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\nBagaimana cara memastikan tangga darurat memenuhi standar keselamatan?', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:35:59 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '380', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799930', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_60d1ee2237760d742f4ea911cbfc6d1b', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1ad095b63efbd-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_60d1ee2237760d742f4ea911cbfc6d1b", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:59", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Russian. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\nApakah ada perbedaan jumlah tangga yang dibutuhkan untuk hotel dengan desain atau kapasitas tertentu?', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:35:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:36:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:36:00 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '549', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799924', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_8749240cf8ddf431a85903c8becabd6b', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1ad0daf44efbd-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:36:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_8749240cf8ddf431a85903c8becabd6b", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:36:00", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:36:00", "name": "llm_service", "levelname": "INFO", "message": "Translated suggestions from Indonesioan to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:36:00", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u0414\u043b\u044f \u043e\u0442\u0435\u043b\u044f \u0441 4 \u044d\u0442\u0430\u0436\u0430\u043c\u0438 \u043e\u0431\u044b\u0447\u043d\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0434\u0432\u0435 \u0430\u0432\u0430\u0440\u0438\u0439\u043d\u044b\u0435 \u043b\u0435\u0441\u0442\u043d\u0438\u0446\u044b. \u042d\u0442\u043e \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u0443 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u043d\u0430\u043b\u0438\u0447\u0438\u044f \u0431\u043e\u043b\u0435\u0435 \u043e\u0434\u043d\u043e\u0433\u043e \u043f\u0443\u0442\u0438 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438, \u0447\u0442\u043e\u0431\u044b \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442\u044c \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u044b\u0439 \u0432\u044b\u0445\u043e\u0434 \u0436\u0438\u043b\u044c\u0446\u043e\u0432 \u0432 \u044d\u043a\u0441\u0442\u0440\u0435\u043d\u043d\u043e\u0439 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438. \u041e\u0434\u043d\u0430\u043a\u043e \u0442\u043e\u0447\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0445 \u043b\u0435\u0441\u0442\u043d\u0438\u0446 \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u0435\u0442 \u0437\u0430\u0432\u0438\u0441\u0435\u0442\u044c \u043e\u0442 \u0434\u0440\u0443\u0433\u0438\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u044d\u0442\u0430\u0436\u0430, \u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u0436\u0438\u043b\u044c\u0446\u043e\u0432 \u0438 \u043c\u0435\u0441\u0442\u043d\u044b\u0435 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043d\u043e\u0440\u043c\u044b. \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c\u0441\u044f \u043a \u043c\u0435\u0441\u0442\u043d\u044b\u043c \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u043d\u043e\u0440\u043c\u0430\u043c \u0438\u043b\u0438 \u043f\u0440\u043e\u043a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u043e\u043c \u0432 \u043e\u0431\u043b\u0430\u0441\u0442\u0438 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u044b \u0438\u043b\u0438 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0437\u0434\u0430\u043d\u0438\u0439 \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0443\u0432\u0435\u0440\u0435\u043d\u043d\u043e\u0441\u0442\u0438.', None, ['\u041a\u0430\u043a\u0438\u0435 \u0434\u0440\u0443\u0433\u0438\u0435 \u0444\u0430\u043a\u0442\u043e\u0440\u044b \u0432\u043b\u0438\u044f\u044e\u0442 \u043d\u0430 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0446, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0445 \u0432 \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u0435?', '\u041a\u0430\u043a \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442\u044c \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435 \u0430\u0432\u0430\u0440\u0438\u0439\u043d\u043e\u0439 \u043b\u0435\u0441\u0442\u043d\u0438\u0446\u044b \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u0430\u043c \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438?', '\u0415\u0441\u0442\u044c \u043b\u0438 \u0440\u0430\u0437\u043d\u0438\u0446\u0430 \u0432 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0435 \u043b\u0435\u0441\u0442\u043d\u0438\u0446, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0445 \u0434\u043b\u044f \u043e\u0442\u0435\u043b\u044f \u0441 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u044b\u043c \u0434\u0438\u0437\u0430\u0439\u043d\u043e\u043c \u0438\u043b\u0438 \u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c\u044e?'])", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:36:00", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:36:00", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='f6cd881d-3506-4122-aae1-f9ec74b2eef1'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:36:00", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:36:01", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:36:01", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:37:31", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 08:37:31", "last_active": "2024-12-05, 08:37:31", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 08:37:31", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:37:31", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:37:31", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:37:31", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:37:31", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x0000025E35CDBA70>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 5, 37, 30, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3236, supergroup_chat_created=False, text='/knowledge_base'), update_id=881194075), <telegram.ext._callbackcontext.CallbackContext object at 0x0000025EABCA1F60>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:37:31", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x0000025E5B3FD360>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:37:32", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:37:32", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:37:33", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 08:37:33", "last_active": "2024-12-05, 08:37:33", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 08:37:33", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:37:33", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:37:34", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:37:34", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:37:34", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_knowledge_base with args: (<handlers.BotHandlers object at 0x0000025E35CDBA70>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116661099369813', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 5, 37, 31, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3237, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', text='\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'),), (InlineKeyboardButton(callback_data='set_knowledge:Indonesian Regulations', text='Indonesian Regulations'),)... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:37:34", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_knowledge_base with result: <coroutine object BotHandlers.set_knowledge_base at 0x0000025E5BA28D30>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:37:34", "name": "handlers", "levelname": "DEBUG", "message": "Set folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:37:34", "name": "handlers", "levelname": "DEBUG", "message": "Found 29 valid files in folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:37:34", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_and_index_documents with args: (<llm_service.LLMService object at 0x0000025E5B4E7CE0>, 'E:\\\\knowledge_base\\\\russian_regulations', 'Russian'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:37:34", "name": "llm_service", "levelname": "DEBUG", "message": "Starting load_and_index_documents for folder_path='E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:37:34", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_vector_store with args: (<llm_service.LLMService object at 0x0000025E5B4E7CE0>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:37:34", "name": "llm_service", "levelname": "INFO", "message": "Loaded vector store from E:\\knowledge_base\\russian_regulations\\vector_store", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:37:34", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_vector_store with result: True", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:37:34", "name": "llm_service", "levelname": "INFO", "message": "Vector store loaded from existing files in 'E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:37:34", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_and_index_documents with result: (True, 'Vector store loaded from existing files.')", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:37:34", "name": "handlers", "levelname": "INFO", "message": "Knowledge base '\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b' set successfully for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:37:34", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:11", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 08:38:11", "last_active": "2024-12-05, 08:38:11", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 08:38:11", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:11", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:12", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:12", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=244732168, message='\u043a\u0430\u043a \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0434\u043b\u044f \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:12", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x0000025E35CDBA70>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 5, 38, 11, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3239, supergroup_chat_created=False, text='\u043a\u0430\u043a \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0434\u043b\u044f \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430'), update_id=881194077), <telegram.ext._callbackcontext.CallbackContext object at 0x0000025E5B9D11D0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:12", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x0000025E5BA9BD30>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:12", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='51641bed-2378-49bf-a237-0e6b074afb7c' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:12", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='51641bed-2378-49bf-a237-0e6b074afb7c'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:12", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:12", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x0000025E5B4E7CE0>, '\u043a\u0430\u043a \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0434\u043b\u044f \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430'), kwargs: {'chat_history': [HumanMessage(content='\u043a\u0430\u043a \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0434\u043b\u044f \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0441\u0442\u043d\u0438\u0447\u043d\u044b\u0445 \u043a\u043b\u0435\u0442\u043e\u043a \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f 4\u0445 \u044d\u0442\u0430\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u0435\u043b\u044f', additional_kwargs={}, response_metadata={}), AIMessage(content='\u0414\u043b\u044f \u043e\u0442\u0435\u043b\u044f \u0441 4 \u044d\u0442\u0430\u0436\u0430\u043c\u0438 \u043e\u0431\u044b\u0447\u043d\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0434\u0432\u0435 \u0430\u0432\u0430\u0440\u0438\u0439\u043d\u044b\u0435 \u043b\u0435\u0441\u0442\u043d\u0438\u0446\u044b. \u042d\u0442\u043e \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u0443 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u043d\u0430\u043b\u0438\u0447\u0438\u044f \u0431\u043e\u043b\u0435\u0435 \u043e\u0434\u043d\u043e\u0433\u043e \u043f\u0443\u0442\u0438 \u044d\u0432\u0430\u043a\u0443\u0430\u0446\u0438\u0438, \u0447\u0442\u043e\u0431\u044b \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442\u044c \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u044b\u0439 \u0432\u044b\u0445\u043e\u0434 \u0436\u0438\u043b\u044c\u0446\u043e\u0432 \u0432 \u044d\u043a\u0441\u0442\u0440\u0435\u043d\u043d\u043e\u0439 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438. \u041e\u0434\u043d\u0430\u043a\u043e \u0442\u043e\u0447\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0445 \u043b\u0435\u0441\u0442\u043d\u0438\u0446 \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u0435\u0442 \u0437\u0430\u0432\u0438\u0441\u0435\u0442\u044c \u043e\u0442 \u0434\u0440\u0443\u0433\u0438\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u044d\u0442\u0430\u0436\u0430, \u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u0436\u0438\u043b\u044c\u0446\u043e\u0432 \u0438 \u043c\u0435\u0441\u0442\u043d\u044b\u0435 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043d\u043e\u0440\u043c\u044b. \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c\u0441\u044f \u043a \u043c\u0435\u0441\u0442\u043d\u044b\u043c \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u043d\u043e\u0440\u043c\u0430\u043c \u0438\u043b\u0438 \u043f\u0440\u043e\u043a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u043e\u043c \u0432 \u043e\u0431\u043b\u0430\u0441\u0442\u0438 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u044b \u0438\u043b\u0438 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0437\u0434\u0430\u043d\u0438\u0439 \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0443\u0432\u0435\u0440\u0435\u043d\u043d... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:12", "name": "llm_service", "levelname": "INFO", "message": "Detected language: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:12", "name": "llm_service", "levelname": "INFO", "message": "Detected user language: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000025E5B442660>, 'json_data': {'input': [[4898, 16248, 63229, 2233, 18482, 96573, 7753, 1840, 16331, 20440, 7820, 24803, 11320, 20440, 17756, 84350, 39900, 7952, 12507, 1506]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:38:13 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '92', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999980', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_7dea855a74097588430bb1e577fe324f', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1b0498aeb2dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_7dea855a74097588430bb1e577fe324f", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:13", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000025E5B9F94E0>, 'json_data': {'input': [[4898, 16248, 63229, 2233, 18482, 96573, 7753, 1840, 16331, 20440, 7820, 24803, 11320, 20440, 17756, 84350, 39900, 7952, 12507, 1506]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:38:13 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '92', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999980', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_3d339028a2df86d50baed57faabb7d4d', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1b04f7ea42dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_3d339028a2df86d50baed57faabb7d4d", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000025E5B9F94E0>, 'json_data': {'input': [[20, 33006, 19, 13, 18, 80798, 14476, 50306, 86995, 50693, 6856, 39280, 7820, 90795, 3865, 10298, 4655, 6578, 96573, 7753, 1840, 16331, 24697, 720, 19, 13, 18, 13, 16, 35889, 23297, 43293, 50306, 38098, 79370, 57186, 320, 68506, 39244, 4655, 7820, 17721, 13433, 2297, 1506, 8, 7952, 12507, 6856, 98599, 39988, 93099, 4655, 720, 41873, 15752, 13337, 6856, 14009, 70129, 21204, 23934, 5173, 64292, 12507, 8131, 7753, 1840, 16331, 6856, 45658, 5591, 16742, 44786, 91146, 9706, 11, 21477, 2297, 3865, 12426, 5372, 44786, 7740, 44946, 14476, 1840, 14476, 5372, 44786, 20879, 720, 3865, 5591, 3114, 38657, 2156, 18999, 5927, 41291, 10589, 94520, 1532, 45658, 35682, 18999, 13, 720, 19, 13, 18, 13, 17, 39903, 7753, 33742, 4329, 2156, 44065, 46088, 4655, 38098, 79370, 15458, 12415, 11, 20879, 6578, 8341, 13433, 6850, 41873, 1... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:38:14 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '111', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998468', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '18ms', 'x-request-id': 'req_868a4b9f059b45b4cf562a5f29aa8c7a', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1b0541a532dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_868a4b9f059b45b4cf562a5f29aa8c7a", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000025E5B9F94E0>, 'json_data': {'input': [[4370, 33006, 23, 13, 20, 13, 22, 13, 17, 51418, 7975, 14476, 69775, 13373, 55523, 31443, 20440, 81757, 33793, 3114, 3865, 8131, 1840, 20346, 10298, 16742, 5173, 3114, 23630, 4898, 16742, 7820, 39103, 30480, 56449, 14525, 34943, 13337, 48074, 20812, 6856, 18482, 720, 9136, 31281, 18999, 6578, 11, 12561, 28089, 13404, 5372, 12648, 6578, 5927, 79327, 1532, 220, 21, 13, 17, 20440, 90211, 44786, 29619, 6856, 13, 720, 23, 13, 21, 36479, 24803, 14009, 720, 23, 13, 21, 13, 16, 36479, 24803, 14009, 56449, 14525, 21923, 23297, 8164, 56857, 28089, 18482, 44946, 14476, 9542, 3865, 38098, 79370, 15458, 12415, 7820, 39103, 30480, 7740, 7952, 12507, 1506, 20879, 720, 8164, 2233, 17766, 38822, 39280, 7952, 21956, 7094, 33742, 16742, 11, 11047, 16331, 16742, 5927, 9706, 4655, 7740, 5524, 2156, 25698, 1506, 13, 23784, 22918, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:16", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:38:15 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '121', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998329', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '20ms', 'x-request-id': 'req_48b2d06ed8f87d9639b3dc5cccd3e97a', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1b05aaf3f2dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:16", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_48b2d06ed8f87d9639b3dc5cccd3e97a", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:16", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000025E5B9F94E0>, 'json_data': {'input': [[19871, 17279, 220, 1114, 13, 9423, 966, 13, 679, 22, 36479, 24803, 11320, 13, 57855, 4898, 89348, 72331, 59921, 7486, 44858, 18600, 83586, 71829, 28599, 20807, 1840, 17279, 8105, 12, 1627, 12, 4767, 320, 2297, 43896, 9136, 38972, 18999, 64880, 452, 220, 16, 11, 220, 17, 11, 220, 18, 8, 720, 19871, 49899, 73226, 64292, 20879, 220, 2148, 13, 2304, 13, 679, 22, 452, 220, 1114, 13, 9423, 966, 13, 679, 22, 720, 54745, 16494, 5372, 4329, 50819, 5524, 220, 1721, 13, 717, 13, 679, 22, 5927, 9136, 24697, 5372, 28599, 17279, 220, 1114, 13, 9423, 966, 13, 679, 16, 720, 74598, 96256, 1506, 220, 1114, 720, 16604, 2156, 16494, 27717, 0, 39903, 92533, 5927, 52520, 5372, 5927, 7952, 87483, 60990, 77495, 79373, 3865, 11047, 98285, 23446, 6148, 23297, 4898, 22885, 18600, 25698, 3114, 24697, 88831, 13, 39903, 29256, 47680, 560... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:16", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:17", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:38:16 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '158', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998277', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '20ms', 'x-request-id': 'req_36e52c72575758fec7f9be0b0344c1e0', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1b0612b892dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:17", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_36e52c72575758fec7f9be0b0344c1e0", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:17", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000025E5B9F94E0>, 'json_data': {'input': [[19871, 17279, 220, 1114, 13, 9423, 966, 13, 679, 22, 36479, 24803, 11320, 13, 57855, 4898, 89348, 72331, 59921, 7486, 44858, 18600, 83586, 71829, 28599, 20807, 1840, 17279, 8105, 12, 1627, 12, 4767, 320, 2297, 43896, 9136, 38972, 18999, 64880, 452, 220, 16, 11, 220, 17, 11, 220, 18, 8, 720, 19871, 49899, 73226, 64292, 20879, 220, 2148, 13, 2304, 13, 679, 22, 452, 220, 1114, 13, 9423, 966, 13, 679, 22, 720, 54745, 16494, 5372, 4329, 50819, 5524, 220, 1721, 13, 717, 13, 679, 22, 5927, 9136, 24697, 5372, 28599, 17279, 220, 1114, 13, 9423, 966, 13, 679, 16, 720, 74598, 96256, 1506, 220, 2983, 720, 16604, 2156, 16494, 27717, 0, 39903, 92533, 5927, 52520, 5372, 5927, 7952, 87483, 60990, 77495, 79373, 3865, 11047, 98285, 23446, 6148, 23297, 4898, 22885, 18600, 25698, 3114, 24697, 88831, 13, 39903, 29256, 47680, 560... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:17", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:17", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:38:17 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '91', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998789', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '14ms', 'x-request-id': 'req_8f677c2149eb429015fbf1a9e5fbfb83', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1b0671f342dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:17", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_8f677c2149eb429015fbf1a9e5fbfb83", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:17", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'You are a project assistant from the consultant side on design and construction projects. If the user requests a calculation, try to execute it. If there is not enough initial data, use general values that apply in most cases. If it is not possible to use general values, request from the user the conditions needed to provide the calculation. If you don\\'t know the answer, say that you don\\'t know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-05, 08:38:17. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retri... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:17", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:28", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:38:28 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '10170', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '792773', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '542ms', 'x-request-id': 'req_850c85474379cee98c73a46315e7388a', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1b069cdf92df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:28", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_850c85474379cee98c73a46315e7388a", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:28", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:28", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Based on the following user prompt and your response, generate up to 3 follow-up questions that the user might ask next. Respond only with the list of questions, without any additional text.\\n\\nUser Prompt: \u043a\u0430\u043a \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0434\u043b\u044f \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430\\n\\nYour Response: \u0412\u044b\u0431\u043e\u0440 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430 \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u043a\u043b\u0438\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f, \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0439 \u0441\u0442\u0438\u043b\u044c \u0434\u043e\u043c\u0430, \u0431\u044e\u0434\u0436\u0435\u0442 \u0438 \u043b\u0438\u0447\u043d\u044b\u0435 \u043f\u0440\u0435\u0434\u043f\u043e\u0447\u0442\u0435\u043d\u0438\u044f. \u0412\u043e\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0445 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432 \u043a\u0440\u043e\u0432\u0435\u043b\u044c\u043d\u044b\u0445 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u043e\u0432:\\n\\n1. **\u041c\u0435\u0442\u0430\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043a\u0440\u043e\u0432\u043b\u044f**:\\n   - \u0414\u043e\u043b\u0433\u043e\u0432\u0435\u0447\u043d\u0430 \u0438 \u0443\u0441\u0442\u043e\u0439\u0447\u0438\u0432\u0430 \u043a \u044d\u043a\u0441\u0442\u0440\u0435\u043c\u0430\u043b\u044c\u043d\u044b\u043c \u043f\u043e\u0433\u043e\u0434\u043d\u044b\u043c \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u043c.\\n   - \u041b\u0435\u0433\u043a\u0430\u044f \u0438 \u043e\u0433\u043d\u0435\u0441\u0442\u043e\u0439\u043a\u0430\u044f.\\n   - \u041c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0434\u043e\u0440\u043e\u0436\u0435 \u0434\u0440\u0443\u0433\u0438\u0445 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u043e\u0432, \u043d\u043e \u043e\u043a\u0443\u043f\u0430\u0435\u0442\u0441\u044f \u0434\u043e\u043b\u0433\u0438\u043c \u0441\u0440\u043e\u043a\u043e\u043c \u0441\u043b\u0443\u0436\u0431\u044b.\\n\\n2. **\u0427\u0435\u0440\u0435\u043f\u0438\u0446\u0430 (\u043a\u0435\u0440\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0438\u043b\u0438 \u0446\u0435\u043c\u0435\u043d\u0442\u043d\u043e-\u043f\u0435\u0441\u0447\u0430\u043d\u0430\u044f)**:\\n   - \u0425\u043e\u0440\u043e\u0448\u043e \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u0434\u043b\u044f \u0442\u0435\u043f\u043b\u043e\u0433\u043e \u043a\u043b\u0438\u043c\u0430\u0442\u0430.\\n   - \u041e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u043e\u0442\u043b\u0438\u0447\u043d\u0443\u044e \u0442\u0435\u043f\u043b\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u044e \u0438 \u0437\u0432\u0443\u043a\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u044e.\\n   - \u0414\u043e\u043b\u0433\u043e\u0432\u0435\u0447\u043d\u0430, \u043d\u043e \u0442\u0440\u0435\u0431\u0443\u0435... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:28", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:30", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 05:38:30 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1313', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799216', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '58ms', 'x-request-id': 'req_ad64e60dfc61296cfb2c4b9cb3cfc785', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed1b0b08ae12df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:30", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_ad64e60dfc61296cfb2c4b9cb3cfc785", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:30", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['\u041a\u0430\u043a\u0438\u0435 \u0444\u0430\u043a\u0442\u043e\u0440\u044b \u043d\u0430\u0438\u0431\u043e\u043b\u0435\u0435 \u0432\u0430\u0436\u043d\u044b \u043f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435 \u043a\u0440\u043e\u0432\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430 \u0432 \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u0445 \u0445\u043e\u043b\u043e\u0434\u043d\u043e\u0433\u043e \u043a\u043b\u0438\u043c\u0430\u0442\u0430?', '\u041a\u0430\u043a\u043e\u0439 \u043a\u0440\u043e\u0432\u0435\u043b\u044c\u043d\u044b\u0439 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u043b\u0443\u0447\u0448\u0435 \u0432\u0441\u0435\u0433\u043e \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u0434\u043b\u044f \u0434\u043e\u043c\u043e\u0432 \u0432 \u0440\u0435\u0433\u0438\u043e\u043d\u0435 \u0441 \u0447\u0430\u0441\u0442\u044b\u043c\u0438 \u0443\u0440\u0430\u0433\u0430\u043d\u0430\u043c\u0438 \u0438\u043b\u0438 \u0441\u0438\u043b\u044c\u043d\u044b\u043c \u0432\u0435\u0442\u0440\u043e\u043c?', '\u041a\u0430\u043a\u0438\u0435 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0443\u0441\u043b\u0443\u0433\u0438 \u0438\u043b\u0438 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u044b \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u043c\u043e\u0447\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043a\u0440\u043e\u0432\u0435\u043b\u044c\u043d\u044b\u0439 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b?']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:30", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u0412\u044b\u0431\u043e\u0440 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430 \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u043a\u043b\u0438\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f, \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0439 \u0441\u0442\u0438\u043b\u044c \u0434\u043e\u043c\u0430, \u0431\u044e\u0434\u0436\u0435\u0442 \u0438 \u043b\u0438\u0447\u043d\u044b\u0435 \u043f\u0440\u0435\u0434\u043f\u043e\u0447\u0442\u0435\u043d\u0438\u044f. \u0412\u043e\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0445 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432 \u043a\u0440\u043e\u0432\u0435\u043b\u044c\u043d\u044b\u0445 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u043e\u0432:\\n\\n1. <b>\u041c\u0435\u0442\u0430\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043a\u0440\u043e\u0432\u043b\u044f</b>:\\n\u2022 \u0414\u043e\u043b\u0433\u043e\u0432\u0435\u0447\u043d\u0430 \u0438 \u0443\u0441\u0442\u043e\u0439\u0447\u0438\u0432\u0430 \u043a \u044d\u043a\u0441\u0442\u0440\u0435\u043c\u0430\u043b\u044c\u043d\u044b\u043c \u043f\u043e\u0433\u043e\u0434\u043d\u044b\u043c \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u043c.\\n\u2022 \u041b\u0435\u0433\u043a\u0430\u044f \u0438 \u043e\u0433\u043d\u0435\u0441\u0442\u043e\u0439\u043a\u0430\u044f.\\n\u2022 \u041c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0434\u043e\u0440\u043e\u0436\u0435 \u0434\u0440\u0443\u0433\u0438\u0445 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u043e\u0432, \u043d\u043e \u043e\u043a\u0443\u043f\u0430\u0435\u0442\u0441\u044f \u0434\u043e\u043b\u0433\u0438\u043c \u0441\u0440\u043e\u043a\u043e\u043c \u0441\u043b\u0443\u0436\u0431\u044b.\\n\\n2. <b>\u0427\u0435\u0440\u0435\u043f\u0438\u0446\u0430 (\u043a\u0435\u0440\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0438\u043b\u0438 \u0446\u0435\u043c\u0435\u043d\u0442\u043d\u043e-\u043f\u0435\u0441\u0447\u0430\u043d\u0430\u044f)</b>:\\n\u2022 \u0425\u043e\u0440\u043e\u0448\u043e \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u0434\u043b\u044f \u0442\u0435\u043f\u043b\u043e\u0433\u043e \u043a\u043b\u0438\u043c\u0430\u0442\u0430.\\n\u2022 \u041e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u043e\u0442\u043b\u0438\u0447\u043d\u0443\u044e \u0442\u0435\u043f\u043b\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u044e \u0438 \u0437\u0432\u0443\u043a\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u044e.\\n\u2022 \u0414\u043e\u043b\u0433\u043e\u0432\u0435\u0447\u043d\u0430, \u043d\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u043f\u0440\u043e\u0447\u043d\u043e\u0439 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438 \u043a\u0440\u044b\u0448\u0438 \u0438\u0437-\u0437\u0430 \u0431\u043e\u043b\u044c\u0448\u043e\u0433\u043e \u0432\u0435\u0441\u0430.\\n\\n3. <b>\u0411\u0438\u0442\u0443\u043c\u043d\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430</b>:\\n\u2022 \u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0439 \u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442.\\n\u2022 \u041b\u0435\u0433\u043a\u043e \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0438 \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u0434\u043b\u044f \u043a\u0440\u044b\u0448 \u0441\u043b\u043e\u0436\u043d\u043e\u0439 \u0444\u043e\u0440\u043c\u044b.\\n\u2022 \u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0441\u0440\u043e\u043a \u0441\u043b\u0443\u0436\u0431\u044b, \u043f\u043e\u0434\u0432\u0435\u0440\u0436\u0435\u043d\u0430 \u0432\u043e\u0437\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044e \u0441\u0438\u043b\u044c\u043d\u043e\u0433\u043e \u0432\u0435\u0442\u0440\u0430 \u0438 \u0433\u0440\u0430\u0434\u0430.\\n\\n4. <b>\u041a\u043e\u043c\u043f\u043e\u0437\u0438\u0442\u043d\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430</b>:\\n\u2022 \u0421\u043e\u0447\u0435\u0442\u0430\u0435\u0442 \u0432 \u0441\u0435\u0431\u0435 \u043f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430 \u043c\u0435\u0442\u0430\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0438 \u0431\u0438\u0442\u0443\u043c\u043d\u043e\u0439 \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u044b.\\n\u2022 \u041b\u0435\u0433... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:30", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:30", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='51641bed-2378-49bf-a237-0e6b074afb7c'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:30", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:31", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 08:38:31", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:01", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": null}
{"asctime": "2024-12-05 10:25:01", "name": "__main__", "levelname": "INFO", "message": "Logging is set up.", "taskName": null}
{"asctime": "2024-12-05 10:25:02", "name": "__main__", "levelname": "INFO", "message": "Application built with provided token.", "taskName": null}
{"asctime": "2024-12-05 10:25:02", "name": "__main__", "levelname": "INFO", "message": "DatabaseService initialized and stored in bot_data.", "taskName": null}
{"asctime": "2024-12-05 10:25:03", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": null}
{"asctime": "2024-12-05 10:25:03", "name": "__main__", "levelname": "INFO", "message": "LLMService initialized and stored in bot_data.", "taskName": null}
{"asctime": "2024-12-05 10:25:03", "name": "__main__", "levelname": "INFO", "message": "Handlers added to the application.", "taskName": null}
{"asctime": "2024-12-05 10:25:03", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": null}
{"asctime": "2024-12-05 10:25:03", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-5"}
{"asctime": "2024-12-05 10:25:04", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-5"}
{"asctime": "2024-12-05 10:25:04", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-5"}
{"asctime": "2024-12-05 10:25:08", "name": "decorators", "levelname": "DEBUG", "message": "Initialized DatabaseService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:09", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:09", "name": "decorators", "levelname": "DEBUG", "message": "Initialized LLMService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:09", "name": "decorators", "levelname": "DEBUG", "message": "Set user_id: 244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:09", "name": "decorators", "levelname": "DEBUG", "message": "Set user_name: Andrey", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:09", "name": "decorators", "levelname": "DEBUG", "message": "Set language_code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:09", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:09", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:09", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x000001ED96ECBA70>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 7, 25, 8, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3241, supergroup_chat_created=False, text='/start'), update_id=881194078), <telegram.ext._callbackcontext.CallbackContext object at 0x000001EDBC5D5550>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:09", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x000001EDBC560F40>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:09", "name": "handlers", "levelname": "DEBUG", "message": "User ID: 244732168, User Name: Andrey, Language Code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:09", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 10:25:09", "last_active": "2024-12-05, 10:25:09", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 10:25:09", "name": "handlers", "levelname": "INFO", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:09", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:09", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:13", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 10:25:13", "last_active": "2024-12-05, 10:25:13", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 10:25:13", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:13", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:13", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:13", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:13", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x000001ED96ECBA70>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 7, 25, 12, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3243, supergroup_chat_created=False, text='/knowledge_base'), update_id=881194079), <telegram.ext._callbackcontext.CallbackContext object at 0x000001EDBC5D5320>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:13", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x000001EDBC55C5E0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:13", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:13", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:15", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 10:25:15", "last_active": "2024-12-05, 10:25:15", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 10:25:15", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:16", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:16", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:16", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:16", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_knowledge_base with args: (<handlers.BotHandlers object at 0x000001ED96ECBA70>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116659333902992', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 7, 25, 13, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3244, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', text='\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'),), (InlineKeyboardButton(callback_data='set_knowledge:Indonesian Regulations', text='Indonesian Regulations'),)... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:16", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_knowledge_base with result: <coroutine object BotHandlers.set_knowledge_base at 0x000001EDBC459FE0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:16", "name": "handlers", "levelname": "DEBUG", "message": "Set folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:16", "name": "handlers", "levelname": "DEBUG", "message": "Found 29 valid files in folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:16", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_and_index_documents with args: (<llm_service.LLMService object at 0x000001EDBC6475C0>, 'E:\\\\knowledge_base\\\\russian_regulations', 'Russian'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:16", "name": "llm_service", "levelname": "DEBUG", "message": "Starting load_and_index_documents for folder_path='E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:16", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_vector_store with args: (<llm_service.LLMService object at 0x000001EDBC6475C0>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:16", "name": "faiss.loader", "levelname": "DEBUG", "message": "Environment variable FAISS_OPT_LEVEL is not set, so let's pick the instruction set according to the current CPU", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:16", "name": "faiss.loader", "levelname": "INFO", "message": "Loading faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:16", "name": "faiss.loader", "levelname": "INFO", "message": "Successfully loaded faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:16", "name": "llm_service", "levelname": "INFO", "message": "Loaded vector store from E:\\knowledge_base\\russian_regulations\\vector_store", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:16", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_vector_store with result: True", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:16", "name": "llm_service", "levelname": "INFO", "message": "Vector store loaded from existing files in 'E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:16", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_and_index_documents with result: (True, 'Vector store loaded from existing files.')", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:16", "name": "handlers", "levelname": "INFO", "message": "Knowledge base '\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b' set successfully for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:17", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:26", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 10:25:26", "last_active": "2024-12-05, 10:25:26", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 10:25:26", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:27", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:27", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:27", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=244732168, message='\u043a\u0430\u043a \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0434\u043b\u044f \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:27", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x000001ED96ECBA70>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 7, 25, 26, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3246, supergroup_chat_created=False, text='\u043a\u0430\u043a \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0434\u043b\u044f \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430'), update_id=881194081), <telegram.ext._callbackcontext.CallbackContext object at 0x000001EDBC5D4600>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:27", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x000001EDBC729300>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:27", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='c7e1e479-67a4-42c2-867d-d71ec5451abc' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:27", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='c7e1e479-67a4-42c2-867d-d71ec5451abc'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:27", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:27", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x000001EDBC6475C0>, '\u043a\u0430\u043a \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0434\u043b\u044f \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430'), kwargs: {'chat_history': [HumanMessage(content='\u043a\u0430\u043a \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0434\u043b\u044f \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u043a\u0430\u043a \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0434\u043b\u044f \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430', additional_kwargs={}, response_metadata={}), AIMessage(content='\u0412\u044b\u0431\u043e\u0440 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430 \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u043a\u043b\u0438\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f, \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0439 \u0441\u0442\u0438\u043b\u044c \u0434\u043e\u043c\u0430, \u0431\u044e\u0434\u0436\u0435\u0442 \u0438 \u043b\u0438\u0447\u043d\u044b\u0435 \u043f\u0440\u0435\u0434\u043f\u043e\u0447\u0442\u0435\u043d\u0438\u044f. \u0412\u043e\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0445 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432 \u043a\u0440\u043e\u0432\u0435\u043b\u044c\u043d\u044b\u0445 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u043e\u0432:\\n\\n1. <b>\u041c\u0435\u0442\u0430\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043a\u0440\u043e\u0432\u043b\u044f</b>:\\n\u2022 \u0414\u043e\u043b\u0433\u043e\u0432\u0435\u0447\u043d\u0430 \u0438 \u0443\u0441\u0442\u043e\u0439\u0447\u0438\u0432\u0430 \u043a \u044d\u043a\u0441\u0442\u0440\u0435\u043c\u0430\u043b\u044c\u043d\u044b\u043c \u043f\u043e\u0433\u043e\u0434\u043d\u044b\u043c \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u043c.\\n\u2022 \u041b\u0435\u0433\u043a\u0430\u044f \u0438 \u043e\u0433\u043d\u0435\u0441\u0442\u043e\u0439\u043a\u0430\u044f.\\n\u2022 \u041c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0434\u043e\u0440\u043e\u0436\u0435 \u0434\u0440\u0443\u0433\u0438\u0445 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u043e\u0432, \u043d\u043e \u043e\u043a\u0443\u043f\u0430\u0435\u0442\u0441\u044f \u0434\u043e\u043b\u0433\u0438\u043c \u0441\u0440\u043e\u043a\u043e\u043c \u0441\u043b\u0443\u0436\u0431\u044b.\\n\\n2. <b>\u0427\u0435\u0440\u0435\u043f\u0438\u0446\u0430 (\u043a\u0435\u0440\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0438\u043b\u0438 \u0446\u0435\u043c\u0435\u043d\u0442\u043d\u043e-\u043f\u0435\u0441\u0447\u0430\u043d\u0430\u044f)</b>:\\n\u2022 \u0425\u043e\u0440\u043e\u0448\u043e \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u0434\u043b\u044f \u0442\u0435\u043f\u043b\u043e\u0433\u043e \u043a\u043b\u0438\u043c\u0430\u0442\u0430.\\n\u2022 \u041e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u043e\u0442\u043b\u0438\u0447\u043d\u0443\u044e \u0442\u0435\u043f\u043b\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u044e \u0438 \u0437\u0432\u0443\u043a... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:27", "name": "llm_service", "levelname": "INFO", "message": "Detected language: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:27", "name": "llm_service", "levelname": "INFO", "message": "Detected user language: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:27", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001EDBCB068E0>, 'json_data': {'input': [[4898, 16248, 63229, 2233, 18482, 96573, 7753, 1840, 16331, 20440, 7820, 24803, 11320, 20440, 17756, 84350, 39900, 7952, 12507, 1506]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:27", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:28", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers([('date', 'Thu, 05 Dec 2024 07:25:27 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-allow-origin', '*'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-model', 'text-embedding-ada-002'), ('openai-organization', 'nuanu-wimbwa'), ('openai-processing-ms', '122'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '5000000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '4999980'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', 'req_7557b2e6ae531f4258b2a78628948441'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=HlPJON299p8kwpwMfvRr.bhr_0mZ8yF65D5WKuI2nzY-1733383527-1.0.1.1-fBp5kPqKFKnT_IvsV.CrnpjJJWs5b6g59KmGt... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:28", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_7557b2e6ae531f4258b2a78628948441", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:28", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:28", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001EDBA1DC860>, 'json_data': {'input': [[4898, 16248, 63229, 2233, 18482, 96573, 7753, 1840, 16331, 20440, 7820, 24803, 11320, 20440, 17756, 84350, 39900, 7952, 12507, 1506]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:28", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:28", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 07:25:28 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '51', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999980', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_4163f8288212040131f85bdb62beda40', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed24d685eb8355b-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:28", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_4163f8288212040131f85bdb62beda40", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:28", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001EDBA1DC860>, 'json_data': {'input': [[20, 33006, 19, 13, 18, 80798, 14476, 50306, 86995, 50693, 6856, 39280, 7820, 90795, 3865, 10298, 4655, 6578, 96573, 7753, 1840, 16331, 24697, 720, 19, 13, 18, 13, 16, 35889, 23297, 43293, 50306, 38098, 79370, 57186, 320, 68506, 39244, 4655, 7820, 17721, 13433, 2297, 1506, 8, 7952, 12507, 6856, 98599, 39988, 93099, 4655, 720, 41873, 15752, 13337, 6856, 14009, 70129, 21204, 23934, 5173, 64292, 12507, 8131, 7753, 1840, 16331, 6856, 45658, 5591, 16742, 44786, 91146, 9706, 11, 21477, 2297, 3865, 12426, 5372, 44786, 7740, 44946, 14476, 1840, 14476, 5372, 44786, 20879, 720, 3865, 5591, 3114, 38657, 2156, 18999, 5927, 41291, 10589, 94520, 1532, 45658, 35682, 18999, 13, 720, 19, 13, 18, 13, 17, 39903, 7753, 33742, 4329, 2156, 44065, 46088, 4655, 38098, 79370, 15458, 12415, 11, 20879, 6578, 8341, 13433, 6850, 41873, 1... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:28", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:29", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 07:25:28 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '128', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998468', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '18ms', 'x-request-id': 'req_18adf8a70ae95664dbda007d4ba68da3', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed24d6a9fde355b-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:29", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_18adf8a70ae95664dbda007d4ba68da3", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:29", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001EDBA1DC860>, 'json_data': {'input': [[4370, 33006, 23, 13, 20, 13, 22, 13, 17, 51418, 7975, 14476, 69775, 13373, 55523, 31443, 20440, 81757, 33793, 3114, 3865, 8131, 1840, 20346, 10298, 16742, 5173, 3114, 23630, 4898, 16742, 7820, 39103, 30480, 56449, 14525, 34943, 13337, 48074, 20812, 6856, 18482, 720, 9136, 31281, 18999, 6578, 11, 12561, 28089, 13404, 5372, 12648, 6578, 5927, 79327, 1532, 220, 21, 13, 17, 20440, 90211, 44786, 29619, 6856, 13, 720, 23, 13, 21, 36479, 24803, 14009, 720, 23, 13, 21, 13, 16, 36479, 24803, 14009, 56449, 14525, 21923, 23297, 8164, 56857, 28089, 18482, 44946, 14476, 9542, 3865, 38098, 79370, 15458, 12415, 7820, 39103, 30480, 7740, 7952, 12507, 1506, 20879, 720, 8164, 2233, 17766, 38822, 39280, 7952, 21956, 7094, 33742, 16742, 11, 11047, 16331, 16742, 5927, 9706, 4655, 7740, 5524, 2156, 25698, 1506, 13, 23784, 22918, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:29", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:29", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 07:25:29 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '113', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998329', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '20ms', 'x-request-id': 'req_d74b1e126591fa898756295b59c6ef33', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed24d6e69f4355b-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:29", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_d74b1e126591fa898756295b59c6ef33", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:29", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001EDBA1DC860>, 'json_data': {'input': [[19871, 17279, 220, 1114, 13, 9423, 966, 13, 679, 22, 36479, 24803, 11320, 13, 57855, 4898, 89348, 72331, 59921, 7486, 44858, 18600, 83586, 71829, 28599, 20807, 1840, 17279, 8105, 12, 1627, 12, 4767, 320, 2297, 43896, 9136, 38972, 18999, 64880, 452, 220, 16, 11, 220, 17, 11, 220, 18, 8, 720, 19871, 49899, 73226, 64292, 20879, 220, 2148, 13, 2304, 13, 679, 22, 452, 220, 1114, 13, 9423, 966, 13, 679, 22, 720, 54745, 16494, 5372, 4329, 50819, 5524, 220, 1721, 13, 717, 13, 679, 22, 5927, 9136, 24697, 5372, 28599, 17279, 220, 1114, 13, 9423, 966, 13, 679, 16, 720, 74598, 96256, 1506, 220, 1114, 720, 16604, 2156, 16494, 27717, 0, 39903, 92533, 5927, 52520, 5372, 5927, 7952, 87483, 60990, 77495, 79373, 3865, 11047, 98285, 23446, 6148, 23297, 4898, 22885, 18600, 25698, 3114, 24697, 88831, 13, 39903, 29256, 47680, 560... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:29", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:29", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 07:25:29 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '160', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998277', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '20ms', 'x-request-id': 'req_105694344f7681e239bc8b3cb73ba6af', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed24d712b3b355b-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:29", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_105694344f7681e239bc8b3cb73ba6af", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:29", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001EDBA1DC860>, 'json_data': {'input': [[19871, 17279, 220, 1114, 13, 9423, 966, 13, 679, 22, 36479, 24803, 11320, 13, 57855, 4898, 89348, 72331, 59921, 7486, 44858, 18600, 83586, 71829, 28599, 20807, 1840, 17279, 8105, 12, 1627, 12, 4767, 320, 2297, 43896, 9136, 38972, 18999, 64880, 452, 220, 16, 11, 220, 17, 11, 220, 18, 8, 720, 19871, 49899, 73226, 64292, 20879, 220, 2148, 13, 2304, 13, 679, 22, 452, 220, 1114, 13, 9423, 966, 13, 679, 22, 720, 54745, 16494, 5372, 4329, 50819, 5524, 220, 1721, 13, 717, 13, 679, 22, 5927, 9136, 24697, 5372, 28599, 17279, 220, 1114, 13, 9423, 966, 13, 679, 16, 720, 74598, 96256, 1506, 220, 2983, 720, 16604, 2156, 16494, 27717, 0, 39903, 92533, 5927, 52520, 5372, 5927, 7952, 87483, 60990, 77495, 79373, 3865, 11047, 98285, 23446, 6148, 23297, 4898, 22885, 18600, 25698, 3114, 24697, 88831, 13, 39903, 29256, 47680, 560... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:29", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:30", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 07:25:29 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '77', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998789', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '14ms', 'x-request-id': 'req_9bce76c07e65417d9212ee730a394799', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed24d73cc8a355b-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:30", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_9bce76c07e65417d9212ee730a394799", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:30", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'You are a project assistant from the consultant side on design and construction projects. If the user requests a calculation, try to execute it. If there is not enough initial data, use general values that apply in most cases. If it is not possible to use general values, request from the user the conditions needed to provide the calculation. If you don\\'t know the answer, say that you don\\'t know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-05, 10:25:30. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retri... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:30", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:47", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers([('date', 'Thu, 05 Dec 2024 07:25:47 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'nuanu-wimbwa'), ('openai-processing-ms', '16625'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '800000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '792095'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '592ms'), ('x-request-id', 'req_a9e0cdd667cfe4eae142c7376dc46d7c'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=l8fqI41Pl_hXfCPxI3S9BlaOyL6zzZouoZ3cUsfCS_U-1733383547-1.0.1.1-Zvh7BRImU3ti.bh27LbwfKDkeM8Jj5iWDJ2wpRLEht0caUV0X1E4C71chVLaR.zHTv8_0FTvinJGgqQd_oMHKA; path=/; expires=Thu, 0... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:47", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_a9e0cdd667cfe4eae142c7376dc46d7c", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:47", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:47", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Based on the following user prompt and your response, generate up to 3 follow-up questions that the user might ask next. Respond only with the list of questions, without any additional text.\\n\\nUser Prompt: \u043a\u0430\u043a \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0434\u043b\u044f \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430\\n\\nYour Response: \u0412\u044b\u0431\u043e\u0440 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430 \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432. \u0412\u043e\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043c\u043e\u043c\u0435\u043d\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u0442\u043e\u0438\u0442 \u0443\u0447\u0435\u0441\u0442\u044c \u043f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435:\\n\\n1. **\u041a\u043b\u0438\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f**:\\n   - \u0414\u043b\u044f \u0440\u0435\u0433\u0438\u043e\u043d\u043e\u0432 \u0441 \u043e\u0431\u0438\u043b\u044c\u043d\u044b\u043c\u0438 \u043e\u0441\u0430\u0434\u043a\u0430\u043c\u0438 \u0438\u043b\u0438 \u0441\u0443\u0440\u043e\u0432\u044b\u043c\u0438 \u0437\u0438\u043c\u0430\u043c\u0438 \u043f\u043e\u0434\u043e\u0439\u0434\u0443\u0442 \u0431\u043e\u043b\u0435\u0435 \u0441\u0442\u043e\u0439\u043a\u0438\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u043c\u0435\u0442\u0430\u043b\u043b \u0438\u043b\u0438 \u043a\u0435\u0440\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430.\\n   - \u0412 \u0436\u0430\u0440\u043a\u0438\u0445 \u0438 \u0441\u0443\u0445\u0438\u0445 \u043a\u043b\u0438\u043c\u0430\u0442\u0430\u0445 \u043c\u043e\u0436\u043d\u043e \u0440\u0430\u0441\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0431\u0438\u0442\u0443\u043c\u043d\u0443\u044e \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0443 \u0438\u043b\u0438 \u043a\u043e\u043c\u043f\u043e\u0437\u0438\u0442\u043d\u044b\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b.\\n\\n2. **\u0411\u044e\u0434\u0436\u0435\u0442**:\\n   - \u041c\u0435\u0442\u0430\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043a\u0440\u043e\u0432\u043b\u044f \u0438 \u043d\u0430\u0442\u0443\u0440\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u043b\u0430\u043d\u0435\u0446 \u0437\u0430\u0447\u0430\u0441\u0442\u0443\u044e \u0434\u043e\u0440\u043e\u0436\u0435, \u043d\u043e \u043e\u043d\u0438 \u0434\u043e\u043b\u0433\u043e\u0432\u0435\u0447\u043d\u044b.\\n   - \u0411\u0438\u0442\u0443\u043c\u043d\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430 \u0438 \u043e\u043d\u0434\u0443\u043b\u0438\u043d \u0431\u043e\u043b\u0435\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u043f\u043e \u0446\u0435\u043d\u0435, \u043d\u043e \u043c\u043e\u0433\u0443\u0442 \u0438\u043c\u0435\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0438\u0439 \u0441\u0440\u043e\u043a \u0441\u043b\u0443\u0436\u0431\u044b.\\n\\n3.... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:47", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 07:25:48 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1272', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799094', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '67ms', 'x-request-id': 'req_5c57919a779872acac6455ff0d786827', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed24de2de13ea7d-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_5c57919a779872acac6455ff0d786827", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:49", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['\u041a\u0430\u043a\u0438\u0435 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u0438 \u0438\u043b\u0438 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u043e\u0440\u044b \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u043c\u043e\u0447\u044c \u0441 \u0432\u044b\u0431\u043e\u0440\u043e\u043c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430 \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438?', '\u041a\u0430\u043a\u0438\u0435 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0437\u0430\u0442\u0440\u0430\u0442\u044b \u043c\u043e\u0433\u0443\u0442 \u0432\u043e\u0437\u043d\u0438\u043a\u043d\u0443\u0442\u044c \u043f\u0440\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435 \u0442\u044f\u0436\u0435\u043b\u044b\u0445 \u043a\u0440\u043e\u0432\u0435\u043b\u044c\u043d\u044b\u0445 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u043e\u0432?', '\u041a\u0430\u043a\u043e\u0439 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u043b\u0443\u0447\u0448\u0435 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0434\u043e\u043c\u0430 \u0432 \u0440\u0435\u0433\u0438\u043e\u043d\u0435 \u0441 \u0447\u0430\u0441\u0442\u044b\u043c\u0438 \u0443\u0440\u0430\u0433\u0430\u043d\u0430\u043c\u0438 \u0438\u043b\u0438 \u0441\u0438\u043b\u044c\u043d\u044b\u043c\u0438 \u0432\u0435\u0442\u0440\u0430\u043c\u0438?']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:49", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u0412\u044b\u0431\u043e\u0440 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430 \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432. \u0412\u043e\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043c\u043e\u043c\u0435\u043d\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u0442\u043e\u0438\u0442 \u0443\u0447\u0435\u0441\u0442\u044c \u043f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435:\\n\\n1. <b>\u041a\u043b\u0438\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f</b>:\\n\u2022 \u0414\u043b\u044f \u0440\u0435\u0433\u0438\u043e\u043d\u043e\u0432 \u0441 \u043e\u0431\u0438\u043b\u044c\u043d\u044b\u043c\u0438 \u043e\u0441\u0430\u0434\u043a\u0430\u043c\u0438 \u0438\u043b\u0438 \u0441\u0443\u0440\u043e\u0432\u044b\u043c\u0438 \u0437\u0438\u043c\u0430\u043c\u0438 \u043f\u043e\u0434\u043e\u0439\u0434\u0443\u0442 \u0431\u043e\u043b\u0435\u0435 \u0441\u0442\u043e\u0439\u043a\u0438\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u043c\u0435\u0442\u0430\u043b\u043b \u0438\u043b\u0438 \u043a\u0435\u0440\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430.\\n\u2022 \u0412 \u0436\u0430\u0440\u043a\u0438\u0445 \u0438 \u0441\u0443\u0445\u0438\u0445 \u043a\u043b\u0438\u043c\u0430\u0442\u0430\u0445 \u043c\u043e\u0436\u043d\u043e \u0440\u0430\u0441\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0431\u0438\u0442\u0443\u043c\u043d\u0443\u044e \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0443 \u0438\u043b\u0438 \u043a\u043e\u043c\u043f\u043e\u0437\u0438\u0442\u043d\u044b\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b.\\n\\n2. <b>\u0411\u044e\u0434\u0436\u0435\u0442</b>:\\n\u2022 \u041c\u0435\u0442\u0430\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043a\u0440\u043e\u0432\u043b\u044f \u0438 \u043d\u0430\u0442\u0443\u0440\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u043b\u0430\u043d\u0435\u0446 \u0437\u0430\u0447\u0430\u0441\u0442\u0443\u044e \u0434\u043e\u0440\u043e\u0436\u0435, \u043d\u043e \u043e\u043d\u0438 \u0434\u043e\u043b\u0433\u043e\u0432\u0435\u0447\u043d\u044b.\\n\u2022 \u0411\u0438\u0442\u0443\u043c\u043d\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430 \u0438 \u043e\u043d\u0434\u0443\u043b\u0438\u043d \u0431\u043e\u043b\u0435\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u043f\u043e \u0446\u0435\u043d\u0435, \u043d\u043e \u043c\u043e\u0433\u0443\u0442 \u0438\u043c\u0435\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0438\u0439 \u0441\u0440\u043e\u043a \u0441\u043b\u0443\u0436\u0431\u044b.\\n\\n3. <b>\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0439 \u0441\u0442\u0438\u043b\u044c</b>:\\n\u2022 \u0414\u043b\u044f \u0442\u0440\u0430\u0434\u0438\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0434\u043e\u043c\u043e\u0432 \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u0434\u043e\u0439\u0442\u0438 \u043a\u0435\u0440\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0438\u043b\u0438 \u0446\u0435\u043c\u0435\u043d\u0442\u043d\u043e-\u043f\u0435\u0441\u0447\u0430\u043d\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430.\\n\u2022 \u0421\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0434\u043e\u043c\u0430 \u0447\u0430\u0441\u0442\u043e \u0443\u043a\u0440\u0430\u0448\u0430\u044e\u0442 \u043a\u043e\u043c\u043f\u043e\u0437\u0438\u0442\u043d\u043e\u0439 \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0435\u0439 \u0438\u043b\u0438 \u043c\u0435\u0442\u0430\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u0438\u043c\u0438 \u043f\u0430\u043d\u0435\u043b\u044f\u043c\u0438.\\n\\n4. <b>\u0412\u0435\u0441 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430</b>:\\n\u2022 \u0422\u044f\u0436\u0435\u043b\u044b\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u043d\u0430\u0442\u0443\u0440\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u043b\u0430\u043d\u0435\u0446 \u0438\u043b\u0438 \u043a\u0435\u0440\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430, \u0442\u0440\u0435\u0431\u0443\u044e\u0442 \u0431\u043e\u043b\u0435\u0435 \u043f\u0440\u043e\u0447\u043d\u043e\u0439 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438 \u043a\u0440\u044b\u0448\u0438.\\n\u2022... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:49", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:49", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='c7e1e479-67a4-42c2-867d-d71ec5451abc'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:49", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:49", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 10:25:50", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:29:06", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": null}
{"asctime": "2024-12-05 19:29:06", "name": "__main__", "levelname": "INFO", "message": "Logging is set up.", "taskName": null}
{"asctime": "2024-12-05 19:29:07", "name": "__main__", "levelname": "INFO", "message": "Application built with provided token.", "taskName": null}
{"asctime": "2024-12-05 19:29:07", "name": "__main__", "levelname": "INFO", "message": "DatabaseService initialized and stored in bot_data.", "taskName": null}
{"asctime": "2024-12-05 19:29:08", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": null}
{"asctime": "2024-12-05 19:29:08", "name": "__main__", "levelname": "INFO", "message": "LLMService initialized and stored in bot_data.", "taskName": null}
{"asctime": "2024-12-05 19:29:08", "name": "__main__", "levelname": "INFO", "message": "Handlers added to the application.", "taskName": null}
{"asctime": "2024-12-05 19:29:08", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": null}
{"asctime": "2024-12-05 19:29:08", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-5"}
{"asctime": "2024-12-05 19:29:09", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-5"}
{"asctime": "2024-12-05 19:29:09", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-5"}
{"asctime": "2024-12-05 19:29:52", "name": "decorators", "levelname": "DEBUG", "message": "Initialized DatabaseService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:29:53", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:29:53", "name": "decorators", "levelname": "DEBUG", "message": "Initialized LLMService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:29:53", "name": "decorators", "levelname": "DEBUG", "message": "Set user_id: 244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:29:53", "name": "decorators", "levelname": "DEBUG", "message": "Set user_name: Andrey", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:29:53", "name": "decorators", "levelname": "DEBUG", "message": "Set language_code: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:29:53", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:29:53", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:29:53", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x00000241C376BA70>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 16, 29, 51, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='ru', username='Akumsk'), group_chat_created=False, message_id=3248, supergroup_chat_created=False, text='/start'), update_id=881194082), <telegram.ext._callbackcontext.CallbackContext object at 0x00000241E8F39A20>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:29:53", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x00000241E8EC1080>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:29:53", "name": "handlers", "levelname": "DEBUG", "message": "User ID: 244732168, User Name: Andrey, Language Code: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:29:53", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-05, 19:29:53", "last_active": "2024-12-05, 19:29:53", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 19:29:53", "name": "handlers", "levelname": "INFO", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:29:54", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:29:54", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:05", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-05, 19:30:05", "last_active": "2024-12-05, 19:30:05", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 19:30:05", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:05", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:05", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:05", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:05", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x00000241C376BA70>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 16, 30, 4, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='ru', username='Akumsk'), group_chat_created=False, message_id=3250, supergroup_chat_created=False, text='/knowledge_base'), update_id=881194083), <telegram.ext._callbackcontext.CallbackContext object at 0x00000241E8F39320>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:05", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x00000241C5CA8EE0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:06", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:06", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:08", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-05, 19:30:08", "last_active": "2024-12-05, 19:30:08", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 19:30:08", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:08", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:08", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:08", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:08", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_knowledge_base with args: (<handlers.BotHandlers object at 0x00000241C376BA70>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='ru', username='Akumsk'), id='1051116661860683798', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 16, 30, 5, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3251, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', text='\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'),), (InlineKeyboardButton(callback_data='set_knowledge:Indonesian Regulations', text='Indonesian Regulations'),)... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:08", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_knowledge_base with result: <coroutine object BotHandlers.set_knowledge_base at 0x00000241E8D86150>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:08", "name": "handlers", "levelname": "DEBUG", "message": "Set folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:08", "name": "handlers", "levelname": "DEBUG", "message": "Found 29 valid files in folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:08", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_and_index_documents with args: (<llm_service.LLMService object at 0x00000241E9086C30>, 'E:\\\\knowledge_base\\\\russian_regulations', 'Russian'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:08", "name": "llm_service", "levelname": "DEBUG", "message": "Starting load_and_index_documents for folder_path='E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:08", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_vector_store with args: (<llm_service.LLMService object at 0x00000241E9086C30>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:08", "name": "faiss.loader", "levelname": "DEBUG", "message": "Environment variable FAISS_OPT_LEVEL is not set, so let's pick the instruction set according to the current CPU", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:08", "name": "faiss.loader", "levelname": "INFO", "message": "Loading faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:09", "name": "faiss.loader", "levelname": "INFO", "message": "Successfully loaded faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:09", "name": "llm_service", "levelname": "INFO", "message": "Loaded vector store from E:\\knowledge_base\\russian_regulations\\vector_store", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:09", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_vector_store with result: True", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:09", "name": "llm_service", "levelname": "INFO", "message": "Vector store loaded from existing files in 'E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:09", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_and_index_documents with result: (True, 'Vector store loaded from existing files.')", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:09", "name": "handlers", "levelname": "INFO", "message": "Knowledge base '\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b' set successfully for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:09", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:23", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-05, 19:30:23", "last_active": "2024-12-05, 19:30:23", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 19:30:23", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:23", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:23", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:23", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=244732168, message='\u043a\u0430\u043a \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0434\u043b\u044f \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:23", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x00000241C376BA70>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 16, 30, 22, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='ru', username='Akumsk'), group_chat_created=False, message_id=3253, supergroup_chat_created=False, text='\u043a\u0430\u043a \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0434\u043b\u044f \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430'), update_id=881194085), <telegram.ext._callbackcontext.CallbackContext object at 0x00000241E8F39320>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:23", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x00000241E9118310>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:23", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='8b7b4eaf-6f04-41fb-928d-d0363b3db691' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:23", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='8b7b4eaf-6f04-41fb-928d-d0363b3db691'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:23", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:23", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x00000241E9086C30>, '\u043a\u0430\u043a \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0434\u043b\u044f \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430'), kwargs: {'chat_history': [HumanMessage(content='\u043a\u0430\u043a \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0434\u043b\u044f \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u043a\u0430\u043a \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0434\u043b\u044f \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430', additional_kwargs={}, response_metadata={}), AIMessage(content='\u0412\u044b\u0431\u043e\u0440 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430 \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432. \u0412\u043e\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043c\u043e\u043c\u0435\u043d\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u0442\u043e\u0438\u0442 \u0443\u0447\u0435\u0441\u0442\u044c \u043f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435:\\n\\n1. <b>\u041a\u043b\u0438\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f</b>:\\n\u2022 \u0414\u043b\u044f \u0440\u0435\u0433\u0438\u043e\u043d\u043e\u0432 \u0441 \u043e\u0431\u0438\u043b\u044c\u043d\u044b\u043c\u0438 \u043e\u0441\u0430\u0434\u043a\u0430\u043c\u0438 \u0438\u043b\u0438 \u0441\u0443\u0440\u043e\u0432\u044b\u043c\u0438 \u0437\u0438\u043c\u0430\u043c\u0438 \u043f\u043e\u0434\u043e\u0439\u0434\u0443\u0442 \u0431\u043e\u043b\u0435\u0435 \u0441\u0442\u043e\u0439\u043a\u0438\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u043c\u0435\u0442\u0430\u043b\u043b \u0438\u043b\u0438 \u043a\u0435\u0440\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430.\\n\u2022 \u0412 \u0436\u0430\u0440\u043a\u0438\u0445 \u0438 \u0441\u0443\u0445\u0438\u0445 \u043a\u043b\u0438\u043c\u0430\u0442\u0430\u0445 \u043c\u043e\u0436\u043d\u043e \u0440\u0430\u0441\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0431\u0438\u0442\u0443\u043c\u043d\u0443\u044e \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0443 \u0438\u043b\u0438 \u043a\u043e\u043c\u043f\u043e\u0437\u0438\u0442\u043d\u044b\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b.\\n\\n2. <b>\u0411\u044e\u0434\u0436\u0435\u0442</b>:\\n\u2022 \u041c\u0435\u0442\u0430\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043a\u0440\u043e\u0432\u043b\u044f \u0438 \u043d\u0430\u0442\u0443\u0440\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u043b\u0430\u043d\u0435\u0446 \u0437\u0430\u0447\u0430\u0441\u0442\u0443\u044e \u0434\u043e\u0440\u043e\u0436\u0435, \u043d\u043e \u043e\u043d\u0438 \u0434\u043e\u043b\u0433\u043e\u0432\u0435\u0447\u043d\u044b.\\n\u2022 \u0411\u0438\u0442\u0443\u043c\u043d\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430 \u0438 \u043e\u043d\u0434\u0443\u043b\u0438\u043d \u0431\u043e\u043b\u0435\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u043f\u043e \u0446\u0435\u043d\u0435, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:23", "name": "llm_service", "levelname": "INFO", "message": "Detected language: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:23", "name": "llm_service", "levelname": "INFO", "message": "Detected user language: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:23", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000241E94C79C0>, 'json_data': {'input': [[4898, 16248, 63229, 2233, 18482, 96573, 7753, 1840, 16331, 20440, 7820, 24803, 11320, 20440, 17756, 84350, 39900, 7952, 12507, 1506]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:23", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:24", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers([('date', 'Thu, 05 Dec 2024 16:30:23 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-allow-origin', '*'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-model', 'text-embedding-ada-002'), ('openai-organization', 'nuanu-wimbwa'), ('openai-processing-ms', '124'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '5000000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '4999980'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', 'req_e3dffd7eedf17649689654afc6480d87'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=3s_9pZLSz0_xgQz4Pq8Fwo3cuSeOFuU6WGtVEdRBRPY-1733416223-1.0.1.1-DN9_j.zgvBLZuyiQbi0.oQb7ob3P.Fw6hlYx.... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:24", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_e3dffd7eedf17649689654afc6480d87", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:24", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:24", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000241E779F380>, 'json_data': {'input': [[4898, 16248, 63229, 2233, 18482, 96573, 7753, 1840, 16331, 20440, 7820, 24803, 11320, 20440, 17756, 84350, 39900, 7952, 12507, 1506]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:24", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:24", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:30:24 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '58', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999980', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_1573258808b7a03de7366427c569495f', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed56ba6fee0ee37-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:24", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_1573258808b7a03de7366427c569495f", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:24", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000241E779F380>, 'json_data': {'input': [[20, 33006, 19, 13, 18, 80798, 14476, 50306, 86995, 50693, 6856, 39280, 7820, 90795, 3865, 10298, 4655, 6578, 96573, 7753, 1840, 16331, 24697, 720, 19, 13, 18, 13, 16, 35889, 23297, 43293, 50306, 38098, 79370, 57186, 320, 68506, 39244, 4655, 7820, 17721, 13433, 2297, 1506, 8, 7952, 12507, 6856, 98599, 39988, 93099, 4655, 720, 41873, 15752, 13337, 6856, 14009, 70129, 21204, 23934, 5173, 64292, 12507, 8131, 7753, 1840, 16331, 6856, 45658, 5591, 16742, 44786, 91146, 9706, 11, 21477, 2297, 3865, 12426, 5372, 44786, 7740, 44946, 14476, 1840, 14476, 5372, 44786, 20879, 720, 3865, 5591, 3114, 38657, 2156, 18999, 5927, 41291, 10589, 94520, 1532, 45658, 35682, 18999, 13, 720, 19, 13, 18, 13, 17, 39903, 7753, 33742, 4329, 2156, 44065, 46088, 4655, 38098, 79370, 15458, 12415, 11, 20879, 6578, 8341, 13433, 6850, 41873, 1... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:24", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:30:24 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '76', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998468', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '18ms', 'x-request-id': 'req_64d1665a7a76c3c1f1b7e25ca5a2280e', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed56ba93b89ee37-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_64d1665a7a76c3c1f1b7e25ca5a2280e", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000241E779F380>, 'json_data': {'input': [[4370, 33006, 23, 13, 20, 13, 22, 13, 17, 51418, 7975, 14476, 69775, 13373, 55523, 31443, 20440, 81757, 33793, 3114, 3865, 8131, 1840, 20346, 10298, 16742, 5173, 3114, 23630, 4898, 16742, 7820, 39103, 30480, 56449, 14525, 34943, 13337, 48074, 20812, 6856, 18482, 720, 9136, 31281, 18999, 6578, 11, 12561, 28089, 13404, 5372, 12648, 6578, 5927, 79327, 1532, 220, 21, 13, 17, 20440, 90211, 44786, 29619, 6856, 13, 720, 23, 13, 21, 36479, 24803, 14009, 720, 23, 13, 21, 13, 16, 36479, 24803, 14009, 56449, 14525, 21923, 23297, 8164, 56857, 28089, 18482, 44946, 14476, 9542, 3865, 38098, 79370, 15458, 12415, 7820, 39103, 30480, 7740, 7952, 12507, 1506, 20879, 720, 8164, 2233, 17766, 38822, 39280, 7952, 21956, 7094, 33742, 16742, 11, 11047, 16331, 16742, 5927, 9706, 4655, 7740, 5524, 2156, 25698, 1506, 13, 23784, 22918, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:30:24 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '124', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998329', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '20ms', 'x-request-id': 'req_8520cedca97a4990ee0923f93a57c0f7', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed56bab9814ee37-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_8520cedca97a4990ee0923f93a57c0f7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000241E779F380>, 'json_data': {'input': [[19871, 17279, 220, 1114, 13, 9423, 966, 13, 679, 22, 36479, 24803, 11320, 13, 57855, 4898, 89348, 72331, 59921, 7486, 44858, 18600, 83586, 71829, 28599, 20807, 1840, 17279, 8105, 12, 1627, 12, 4767, 320, 2297, 43896, 9136, 38972, 18999, 64880, 452, 220, 16, 11, 220, 17, 11, 220, 18, 8, 720, 19871, 49899, 73226, 64292, 20879, 220, 2148, 13, 2304, 13, 679, 22, 452, 220, 1114, 13, 9423, 966, 13, 679, 22, 720, 54745, 16494, 5372, 4329, 50819, 5524, 220, 1721, 13, 717, 13, 679, 22, 5927, 9136, 24697, 5372, 28599, 17279, 220, 1114, 13, 9423, 966, 13, 679, 16, 720, 74598, 96256, 1506, 220, 1114, 720, 16604, 2156, 16494, 27717, 0, 39903, 92533, 5927, 52520, 5372, 5927, 7952, 87483, 60990, 77495, 79373, 3865, 11047, 98285, 23446, 6148, 23297, 4898, 22885, 18600, 25698, 3114, 24697, 88831, 13, 39903, 29256, 47680, 560... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:30:25 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '108', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998277', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '20ms', 'x-request-id': 'req_cd0e4d2fe9e431027af0927d2824b8f3', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed56bae0c37ee37-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_cd0e4d2fe9e431027af0927d2824b8f3", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000241E779F380>, 'json_data': {'input': [[19871, 17279, 220, 1114, 13, 9423, 966, 13, 679, 22, 36479, 24803, 11320, 13, 57855, 4898, 89348, 72331, 59921, 7486, 44858, 18600, 83586, 71829, 28599, 20807, 1840, 17279, 8105, 12, 1627, 12, 4767, 320, 2297, 43896, 9136, 38972, 18999, 64880, 452, 220, 16, 11, 220, 17, 11, 220, 18, 8, 720, 19871, 49899, 73226, 64292, 20879, 220, 2148, 13, 2304, 13, 679, 22, 452, 220, 1114, 13, 9423, 966, 13, 679, 22, 720, 54745, 16494, 5372, 4329, 50819, 5524, 220, 1721, 13, 717, 13, 679, 22, 5927, 9136, 24697, 5372, 28599, 17279, 220, 1114, 13, 9423, 966, 13, 679, 16, 720, 74598, 96256, 1506, 220, 2983, 720, 16604, 2156, 16494, 27717, 0, 39903, 92533, 5927, 52520, 5372, 5927, 7952, 87483, 60990, 77495, 79373, 3865, 11047, 98285, 23446, 6148, 23297, 4898, 22885, 18600, 25698, 3114, 24697, 88831, 13, 39903, 29256, 47680, 560... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:26", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:30:25 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '72', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998789', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '14ms', 'x-request-id': 'req_8731fea0247c89037aacd3571015790d', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed56bb0b8bbee37-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:26", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_8731fea0247c89037aacd3571015790d", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:26", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'You are a project assistant from the consultant side on design and construction projects. If the user requests a calculation, try to execute it. If there is not enough initial data, use general values that apply in most cases. If it is not possible to use general values, request from the user the conditions needed to provide the calculation. If you don\\'t know the answer, say that you don\\'t know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-05, 19:30:26. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retri... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:26", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:33", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers([('date', 'Thu, 05 Dec 2024 16:30:33 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'nuanu-wimbwa'), ('openai-processing-ms', '6737'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '800000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '791584'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '631ms'), ('x-request-id', 'req_eb939bbdeb3a0ba39ac92facbba5b0f3'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=qhPiiAJFNvksedIpi7fTStSOhLYwo4KAA0BvVsOVlrI-1733416233-1.0.1.1-dKUNLhimDUzMDZvw3ipQp3UVjPmJhJM.vO4YMl0nDe1u6loRV_yfKAAScBiBoZ_ANycOtOi_TJGVbIBE0bsooA; path=/; expires=Thu, 05... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:33", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_eb939bbdeb3a0ba39ac92facbba5b0f3", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:33", "name": "llm_service", "levelname": "INFO", "message": "No need to translate the answer", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:33", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.8422211814795056, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:33", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:33", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:33", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Based on the following user prompt and your response, generate up to 3 follow-up questions that the user might ask next. Respond only with the list of questions, without any additional text.\\n\\nUser Prompt: \u043a\u0430\u043a \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0434\u043b\u044f \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430\\n\\nYour Response: \u0412\u044b\u0431\u043e\u0440 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430 \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432. \u0412\u043e\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0430\u0441\u043f\u0435\u043a\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0443\u0447\u0435\u0441\u0442\u044c:\\n\\n1. <b>\u041a\u043b\u0438\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f</b>:\\n   - \u0412 \u0440\u0435\u0433\u0438\u043e\u043d\u0430\u0445 \u0441 \u0447\u0430\u0441\u0442\u044b\u043c\u0438 \u0434\u043e\u0436\u0434\u044f\u043c\u0438 \u0438 \u0441\u043d\u0435\u0433\u043e\u043f\u0430\u0434\u0430\u043c\u0438 \u043f\u0440\u0435\u0434\u043f\u043e\u0447\u0442\u0438\u0442\u0435\u043b\u044c\u043d\u044b \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u0441 \u0445\u043e\u0440\u043e\u0448\u0435\u0439 \u0432\u043e\u0434\u043e\u043e\u0442\u0442\u0430\u043b\u043a\u0438\u0432\u0430\u044e\u0449\u0435\u0439 \u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u044c\u044e, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u043c\u0435\u0442\u0430\u043b\u043b \u0438\u043b\u0438 \u043a\u0435\u0440\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430.\\n   - \u0412 \u0436\u0430\u0440\u043a\u0438\u0445 \u043a\u043b\u0438\u043c\u0430\u0442\u0430\u0445 \u0445\u043e\u0440\u043e\u0448\u043e \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0442 \u0441\u0432\u0435\u0442\u043b\u044b\u0435 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043e\u0442\u0440\u0430\u0436\u0430\u044e\u0442 \u0441\u043e\u043b\u043d\u0435\u0447\u043d\u044b\u0435 \u043b\u0443\u0447\u0438.\\n\\n2. <b>\u0411\u044e\u0434\u0436\u0435\u0442</b>:\\n   - \u041c\u0435\u0442\u0430\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043a\u0440\u043e\u0432\u043b\u044f \u0438 \u043d\u0430\u0442\u0443\u0440\u0430\u043b\u044c\u043d\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430 \u043e\u0431\u044b\u0447\u043d\u043e \u0434\u043e\u0440\u043e\u0436\u0435, \u043d\u043e \u043e\u043d\u0438 \u0434\u043e\u043b\u0433\u043e\u0432\u0435\u0447\u043d\u044b.\\n   - \u0411\u0438\u0442\u0443\u043c\u043d\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430 \u0438 \u043e\u043d\u0434\u0443\u043b\u0438\u043d \u0431\u043e\u043b\u0435\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u043f\u043e \u0446\u0435\u043d\u0435, \u043d\u043e \u043c\u043e\u0433\u0443\u0442 \u0438\u043c\u0435\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0438\u0439 \u0441\u0440\u043e\u043a \u0441\u043b\u0443\u0436\u0431\u044b.\\... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:33", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:35", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:30:35 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1504', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799185', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '61ms', 'x-request-id': 'req_48f695abd73b7a571ca10792f9def292', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed56be2288ee78b-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:35", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_48f695abd73b7a571ca10792f9def292", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:35", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['\u041a\u0430\u043a\u0438\u0435 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044b \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u043c\u043e\u0447\u044c \u0432 \u0432\u044b\u0431\u043e\u0440\u0435 \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435 \u043a\u0440\u043e\u0432\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430?', '\u041a\u0430\u043a\u043e\u0439 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u043b\u0443\u0447\u0448\u0435 \u0432\u0441\u0435\u0433\u043e \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0432 \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u0445 \u0441\u0443\u0440\u043e\u0432\u043e\u0433\u043e \u0437\u0438\u043c\u043d\u0435\u0433\u043e \u043a\u043b\u0438\u043c\u0430\u0442\u0430?', '\u041a\u0430\u043a\u0438\u0435 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043d\u043e\u0440\u043c\u044b \u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u043f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435 \u043a\u0440\u043e\u0432\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430 \u0432 \u043c\u043e\u0435\u043c \u0440\u0435\u0433\u0438\u043e\u043d\u0435?']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:35", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u0412\u044b\u0431\u043e\u0440 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430 \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432. \u0412\u043e\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0430\u0441\u043f\u0435\u043a\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0443\u0447\u0435\u0441\u0442\u044c:\\n\\n1. <b>\u041a\u043b\u0438\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f</b>:\\n\u2022 \u0412 \u0440\u0435\u0433\u0438\u043e\u043d\u0430\u0445 \u0441 \u0447\u0430\u0441\u0442\u044b\u043c\u0438 \u0434\u043e\u0436\u0434\u044f\u043c\u0438 \u0438 \u0441\u043d\u0435\u0433\u043e\u043f\u0430\u0434\u0430\u043c\u0438 \u043f\u0440\u0435\u0434\u043f\u043e\u0447\u0442\u0438\u0442\u0435\u043b\u044c\u043d\u044b \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u0441 \u0445\u043e\u0440\u043e\u0448\u0435\u0439 \u0432\u043e\u0434\u043e\u043e\u0442\u0442\u0430\u043b\u043a\u0438\u0432\u0430\u044e\u0449\u0435\u0439 \u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u044c\u044e, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u043c\u0435\u0442\u0430\u043b\u043b \u0438\u043b\u0438 \u043a\u0435\u0440\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430.\\n\u2022 \u0412 \u0436\u0430\u0440\u043a\u0438\u0445 \u043a\u043b\u0438\u043c\u0430\u0442\u0430\u0445 \u0445\u043e\u0440\u043e\u0448\u043e \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0442 \u0441\u0432\u0435\u0442\u043b\u044b\u0435 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043e\u0442\u0440\u0430\u0436\u0430\u044e\u0442 \u0441\u043e\u043b\u043d\u0435\u0447\u043d\u044b\u0435 \u043b\u0443\u0447\u0438.\\n\\n2. <b>\u0411\u044e\u0434\u0436\u0435\u0442</b>:\\n\u2022 \u041c\u0435\u0442\u0430\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043a\u0440\u043e\u0432\u043b\u044f \u0438 \u043d\u0430\u0442\u0443\u0440\u0430\u043b\u044c\u043d\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430 \u043e\u0431\u044b\u0447\u043d\u043e \u0434\u043e\u0440\u043e\u0436\u0435, \u043d\u043e \u043e\u043d\u0438 \u0434\u043e\u043b\u0433\u043e\u0432\u0435\u0447\u043d\u044b.\\n\u2022 \u0411\u0438\u0442\u0443\u043c\u043d\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430 \u0438 \u043e\u043d\u0434\u0443\u043b\u0438\u043d \u0431\u043e\u043b\u0435\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u043f\u043e \u0446\u0435\u043d\u0435, \u043d\u043e \u043c\u043e\u0433\u0443\u0442 \u0438\u043c\u0435\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0438\u0439 \u0441\u0440\u043e\u043a \u0441\u043b\u0443\u0436\u0431\u044b.\\n\\n3. <b>\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0439 \u0441\u0442\u0438\u043b\u044c</b>:\\n\u2022 \u0414\u043b\u044f \u0442\u0440\u0430\u0434\u0438\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0434\u043e\u043c\u043e\u0432 \u0447\u0430\u0441\u0442\u043e \u0432\u044b\u0431\u0438\u0440\u0430\u044e\u0442 \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0443 \u0438\u043b\u0438 \u0448\u0438\u0444\u0435\u0440.\\n\u2022 \u0421\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0434\u043e\u043c\u0430 \u043c\u043e\u0433\u0443\u0442 \u0445\u043e\u0440\u043e\u0448\u043e \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c\u0441\u044f \u0441 \u043c\u0435\u0442\u0430\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u043a\u0440\u044b\u0448\u0435\u0439 \u0438\u043b\u0438 \u043a\u043e\u043c\u043f\u043e\u0437\u0438\u0442\u043d\u043e\u0439 \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0435\u0439.\\n\\n4. <b>\u041f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u044c \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438</b>:\\n\u2022 \u0422\u044f\u0436\u0435\u043b\u044b\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u043a\u0435\u0440\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430, \u0442\u0440\u0435\u0431\u0443\u044e\u0442 \u0431\u043e\u043b\u0435\u0435 \u043f\u0440\u043e\u0447\u043d\u043e\u0433\u043e \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u044f.\\n\u2022 \u041b\u0435\u0433\u043a\u0438\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u043c\u0435\u0442\u0430\u043b\u043b \u0438\u043b\u0438... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:35", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:35", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='8b7b4eaf-6f04-41fb-928d-d0363b3db691'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:35", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:36", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:30:36", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:10", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-05, 19:31:10", "last_active": "2024-12-05, 19:31:10", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 19:31:10", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:10", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:10", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:10", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:10", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x00000241C376BA70>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 16, 31, 9, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='ru', username='Akumsk'), group_chat_created=False, message_id=3255, supergroup_chat_created=False, text='/knowledge_base'), update_id=881194086), <telegram.ext._callbackcontext.CallbackContext object at 0x0000024229864FA0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:10", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x00000241E9132F80>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:11", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:11", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:13", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-05, 19:31:13", "last_active": "2024-12-05, 19:31:13", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 19:31:13", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:13", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:13", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:13", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_knowledge:Indonesian Regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:13", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_knowledge_base with args: (<handlers.BotHandlers object at 0x00000241C376BA70>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_knowledge:Indonesian Regulations', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='ru', username='Akumsk'), id='1051116660982124314', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 16, 31, 10, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3256, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', text='\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'),), (InlineKeyboardButton(callback_data='set_knowledge:Indonesian Regulations', text='Indonesian Regulations'... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:13", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_knowledge_base with result: <coroutine object BotHandlers.set_knowledge_base at 0x00000241E9535010>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:13", "name": "handlers", "levelname": "DEBUG", "message": "Set folder_path='E:\\knowledge_base\\indonesian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:13", "name": "handlers", "levelname": "DEBUG", "message": "Found 23 valid files in folder_path='E:\\knowledge_base\\indonesian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:13", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_and_index_documents with args: (<llm_service.LLMService object at 0x00000241E9086C30>, 'E:\\\\knowledge_base\\\\indonesian_regulations', 'Indonesioan'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:13", "name": "llm_service", "levelname": "DEBUG", "message": "Starting load_and_index_documents for folder_path='E:\\knowledge_base\\indonesian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:13", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_vector_store with args: (<llm_service.LLMService object at 0x00000241E9086C30>, 'E:\\\\knowledge_base\\\\indonesian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:13", "name": "llm_service", "levelname": "INFO", "message": "Loaded vector store from E:\\knowledge_base\\indonesian_regulations\\vector_store", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:13", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_vector_store with result: True", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:13", "name": "llm_service", "levelname": "INFO", "message": "Vector store loaded from existing files in 'E:\\knowledge_base\\indonesian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:13", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_and_index_documents with result: (True, 'Vector store loaded from existing files.')", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:13", "name": "handlers", "levelname": "INFO", "message": "Knowledge base 'Indonesian Regulations' set successfully for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:13", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:35", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-05, 19:31:35", "last_active": "2024-12-05, 19:31:35", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 19:31:35", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:35", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:35", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:35", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=244732168, message='\u043a\u0430\u043a \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0434\u043b\u044f \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:35", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x00000241C376BA70>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 16, 31, 34, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='ru', username='Akumsk'), group_chat_created=False, message_id=3258, supergroup_chat_created=False, text='\u043a\u0430\u043a \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0434\u043b\u044f \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430'), update_id=881194088), <telegram.ext._callbackcontext.CallbackContext object at 0x00000241E94D9710>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:35", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x00000241E90A1B70>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:35", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='c7d2b93f-fc28-43e8-96f3-6a4907f1fa3c' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:35", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='c7d2b93f-fc28-43e8-96f3-6a4907f1fa3c'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:35", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:35", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x00000241E9086C30>, '\u043a\u0430\u043a \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0434\u043b\u044f \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430'), kwargs: {'chat_history': [HumanMessage(content='\u043a\u0430\u043a \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0434\u043b\u044f \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u043a\u0430\u043a \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0434\u043b\u044f \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430', additional_kwargs={}, response_metadata={}), AIMessage(content='\u0412\u044b\u0431\u043e\u0440 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430 \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432. \u0412\u043e\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0430\u0441\u043f\u0435\u043a\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0443\u0447\u0435\u0441\u0442\u044c:\\n\\n1. <b>\u041a\u043b\u0438\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f</b>:\\n\u2022 \u0412 \u0440\u0435\u0433\u0438\u043e\u043d\u0430\u0445 \u0441 \u0447\u0430\u0441\u0442\u044b\u043c\u0438 \u0434\u043e\u0436\u0434\u044f\u043c\u0438 \u0438 \u0441\u043d\u0435\u0433\u043e\u043f\u0430\u0434\u0430\u043c\u0438 \u043f\u0440\u0435\u0434\u043f\u043e\u0447\u0442\u0438\u0442\u0435\u043b\u044c\u043d\u044b \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u0441 \u0445\u043e\u0440\u043e\u0448\u0435\u0439 \u0432\u043e\u0434\u043e\u043e\u0442\u0442\u0430\u043b\u043a\u0438\u0432\u0430\u044e\u0449\u0435\u0439 \u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u044c\u044e, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u043c\u0435\u0442\u0430\u043b\u043b \u0438\u043b\u0438 \u043a\u0435\u0440\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430.\\n\u2022 \u0412 \u0436\u0430\u0440\u043a\u0438\u0445 \u043a\u043b\u0438\u043c\u0430\u0442\u0430\u0445 \u0445\u043e\u0440\u043e\u0448\u043e \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0442 \u0441\u0432\u0435\u0442\u043b\u044b\u0435 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043e\u0442\u0440\u0430\u0436\u0430\u044e\u0442 \u0441\u043e\u043b\u043d\u0435\u0447\u043d\u044b\u0435 \u043b\u0443\u0447\u0438.\\n\\n2. <b>\u0411\u044e\u0434\u0436\u0435\u0442</b>:\\n\u2022 \u041c\u0435\u0442\u0430\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043a\u0440\u043e\u0432\u043b\u044f \u0438 \u043d\u0430\u0442\u0443\u0440\u0430\u043b\u044c\u043d\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430 \u043e\u0431\u044b\u0447\u043d\u043e \u0434\u043e\u0440\u043e\u0436\u0435, \u043d\u043e \u043e\u043d\u0438 \u0434\u043e\u043b\u0433\u043e\u0432\u0435\u0447\u043d\u044b.\\n\u2022 \u0411\u0438\u0442\u0443\u043c\u043d\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430 \u0438 \u043e\u043d\u0434\u0443\u043b\u0438\u043d \u0431\u043e\u043b\u0435\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u043f\u043e \u0446\u0435\u043d\u0435, \u043d... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:35", "name": "llm_service", "levelname": "INFO", "message": "Detected language: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:35", "name": "llm_service", "levelname": "INFO", "message": "Detected user language: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:35", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Indonesioan. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\n\u043a\u0430\u043a \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0434\u043b\u044f \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:35", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:31:35 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '460', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799925', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_9158428b04f689bfc618b16dab13606c', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed56d654b75ea83-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_9158428b04f689bfc618b16dab13606c", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:36", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Indonesioan", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:36", "name": "llm_service", "levelname": "INFO", "message": "Translated prompt from Russian to Indonesioan", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000242227D9DA0>, 'json_data': {'input': [[4898, 16248, 63229, 2233, 18482, 96573, 7753, 1840, 16331, 20440, 7820, 24803, 11320, 20440, 17756, 84350, 39900, 7952, 12507, 1506]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:31:36 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '118', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999980', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_5f167768998e457f4577126e35d9f6bd', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed56d6a49095ea1-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_5f167768998e457f4577126e35d9f6bd", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:36", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000241E779F420>, 'json_data': {'input': [[4898, 16248, 63229, 2233, 18482, 96573, 7753, 1840, 16331, 20440, 7820, 24803, 11320, 20440, 17756, 84350, 39900, 7952, 12507, 1506]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:31:36 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '102', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999980', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_1bb9f48117128a715632aa7330a8baf0', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed56d6ceaed5ea1-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_1bb9f48117128a715632aa7330a8baf0", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000241E779F420>, 'json_data': {'input': [[16074, 2360, 220, 26247, 15726, 362, 720, 47, 7157, 3895, 965, 720, 75736, 13, 14451, 29661, 326, 8225, 61389, 4444, 720, 12, 220, 9367, 16, 482, 720, 47, 833, 62375, 276, 3769, 32911, 12077, 10011, 3444, 276, 16947, 496, 84, 32160, 59597, 720, 67, 321, 51095, 513, 2985, 2931, 296, 99034, 70479, 55284, 13637, 1122, 274, 900, 1938, 64, 720, 273, 41216, 31469, 285, 3675, 11, 9279, 20309, 324, 79428, 48694, 1494, 16947, 496, 84, 32160, 10418, 46931, 720, 14260, 274, 10994, 720, 8407, 13, 720, 47, 833, 62375, 276, 720, 8407, 720, 13279, 355, 720, 76, 3342, 531, 21495, 87112, 15104, 2902, 278, 59722, 10418, 90094, 25, 720, 64, 8, 720, 64183, 2985, 2931, 276, 281, 16357, 3716, 16623, 3769, 85644, 59722, 720, 65, 22826, 16947, 496, 84, 32160, 26, 720, 65, 8, 720, 64183, 2985, 2931, 276, 720, 64183, 62375, 276, 720,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:31:37 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '87', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999533', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_6ca3bc354e41d4e4c06a65c548cbfb9e', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed56d6f1c3e5ea1-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_6ca3bc354e41d4e4c06a65c548cbfb9e", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000241E779F420>, 'json_data': {'input': [[47, 7157, 358, 507, 965, 720, 6124, 84243, 4594, 17581, 1131, 29661, 622, 8225, 5338, 76469, 5987, 720, 12, 220, 9674, 16, 482, 720, 460, 455, 359, 720, 485, 592, 462, 720, 9620, 277, 720, 29136, 35213, 720, 79, 5472, 720, 7581, 13, 720, 47, 833, 78171, 276, 293, 22826, 5869, 332, 455, 294, 4049, 25177, 274, 900, 85644, 720, 19818, 10418, 67, 1141, 587, 37786, 324, 19148, 991, 13532, 9279, 45876, 3178, 2234, 720, 485, 592, 462, 85644, 20166, 97683, 9034, 526, 13, 720, 67, 8, 720, 13721, 31245, 84, 14, 426, 3042, 84, 14, 10441, 10335, 2308, 28824, 720, 47, 833, 62375, 276, 3769, 37947, 84, 1891, 13279, 355, 8826, 81427, 720, 8407, 37947, 84, 21045, 274, 900, 10587, 5897, 13, 52150, 78171, 276, 720, 74, 352, 84, 720, 5132, 5169, 720, 458, 16876, 720, 19818, 720, 655, 67, 1141, 587, 720, 7197, 355, 19818, 720, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:31:37 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '76', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999513', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_7e2883cd22650a110b8a0a15e92ec871', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed56d713dee5ea1-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_7e2883cd22650a110b8a0a15e92ec871", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000241E779F420>, 'json_data': {'input': [[655, 441, 46225, 287, 276, 30892, 15104, 1871, 48068, 11, 1871, 587, 2192, 9279, 720, 5794, 321, 2192, 5318, 84, 293, 22826, 26518, 65734, 25177, 9234, 72, 3554, 19580, 10587, 720, 19818, 4170, 95204, 30892, 824, 76018, 276, 16947, 496, 84, 32160, 198, 19288, 328, 15259, 220, 2839, 12, 22347, 16, 13, 18, 7058, 1049, 17, 198, 6540, 288, 78450, 426, 22826, 17343, 65734, 20287, 1122, 720, 34, 320, 33, 22826, 17343, 65734, 423, 2850, 2905, 309, 720, 33, 28824, 18569, 72, 340, 6540, 288, 78450, 17225, 4170, 95204, 59722, 31787, 19148, 86750, 720, 716, 967, 3444, 11, 12077, 10011, 3444, 11, 37786, 675, 300, 24301, 19148, 9279, 10587, 720, 655, 441, 46225, 287, 276, 30892, 15104, 1871, 48068, 11, 1871, 587, 2192, 9279, 720, 5794, 321, 2192, 5318, 84, 293, 22826, 26518, 65734, 25177, 1515, 309, 1048, 8826, 9234, 72,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:31:37 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '85', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999131', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '10ms', 'x-request-id': 'req_fb2c15d5824ad4319a32188f010fcbfd', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed56d735f3f5ea1-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_fb2c15d5824ad4319a32188f010fcbfd", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000241E779F420>, 'json_data': {'input': [[2118, 39, 587, 272, 11696, 64, 11717, 276, 12028, 285, 10426, 39322, 4001, 11, 3048, 2559, 277, 17225, 42168, 55282, 20166, 3804, 78561, 220, 5925, 12, 1721, 6354, 19, 426, 22826, 11, 328, 467, 11, 4610, 86056, 612, 24277, 496, 84, 32160, 17343, 65734, 11, 9279, 28380, 20166, 47299, 69638, 532, 8826, 863, 720, 50, 15259, 220, 10861, 22, 25, 2366, 15, 720, 20644, 426, 19503, 220, 2366, 15, 720, 17058, 25177, 220, 13121, 720, 51, 786, 356, 18, 13, 16, 12, 17, 320, 43, 53191, 49624, 8, 482, 423, 729, 21920, 8187, 20166, 387, 6993, 951, 467, 25177, 3769, 720, 13721, 2355, 35, 729, 21920, 320, 21807, 22447, 243, 728, 18, 8, 720, 35, 729, 21920, 320, 74, 45, 22447, 243, 76, 18, 8, 720, 44, 371, 277, 11, 24532, 477, 42819, 29902, 220, 5894, 39584, 220, 508, 11, 19, 720, 30108, 2541, 38244, 220, 1774, 38183, 220, 22... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:31:38 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '109', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999066', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '11ms', 'x-request-id': 'req_3055bf137ead16a0075d9400ef8a340d', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed56d7578cd5ea1-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_3055bf137ead16a0075d9400ef8a340d", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If the user requests a calculation, try to execute it. If there is not enough initial data, use general values that apply in most cases. If it is not possible to use general values, request from the user the conditions needed to provide the calculation. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-05, 19:31:38. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retriev... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:31:44 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '5495', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '794025', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '448ms', 'x-request-id': 'req_a22e3c51bb9d43a8acdde4fdca66f473', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed56d77ea98ea83-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_a22e3c51bb9d43a8acdde4fdca66f473", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Russian. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\n\u0412\u044b\u0431\u043e\u0440 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430 \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0432\u0430\u0436\u043d\u044b\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432. \u0412\u043e\u0442 \u0447\u0442\u043e \u0441\u0442\u043e\u0438\u0442 \u0443\u0447\u0435\u0441\u0442\u044c \u043f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435:\\n\\n1. <b>\u041a\u043b\u0438\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f</b>:\\n   - \u0412 \u0440\u0435\u0433\u0438\u043e\u043d\u0430\u0445 \u0441 \u0432\u044b\u0441\u043e\u043a\u043e\u0439 \u0432\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c\u044e \u0438 \u0447\u0430\u0441\u0442\u044b\u043c\u0438 \u043e\u0441\u0430\u0434\u043a\u0430\u043c\u0438 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0432\u044b\u0431\u0438\u0440\u0430\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b, \u0443\u0441\u0442\u043e\u0439\u0447\u0438\u0432\u044b\u0435 \u043a \u0432\u043b\u0430\u0433\u0435, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u043c\u0435\u0442\u0430\u043b\u043b \u0438\u043b\u0438 \u043a\u0435\u0440\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430.\\n   - \u0412 \u0436\u0430\u0440\u043a\u043e\u043c \u043a\u043b\u0438\u043c\u0430\u0442\u0435 \u043b\u0443\u0447\u0448\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0442 \u0441\u0432\u0435\u0442\u043b\u044b\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b, \u043e\u0442\u0440\u0430\u0436\u0430\u044e\u0449\u0438\u0435 \u0441\u043e\u043b\u043d\u0435\u0447\u043d\u044b\u0435 \u043b\u0443\u0447\u0438, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043a\u043e\u043c\u043f\u043e\u0437\u0438\u0442\u043d\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430.\\n\\n2. <b>\u0411\u044e\u0434\u0436\u0435\u0442</b>:\\n   - \u041c\u0435\u0442\u0430\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043a\u0440\u043e\u0432\u043b\u044f \u0438 \u043d\u0430\u0442\u0443\u0440\u0430\u043b\u044c\u043d\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430 \u0441\u0442\u043e\u044f\u0442 \u0434\u043e\u0440\u043e\u0436\u0435, \u043d\u043e \u043e\u043d\u0438 \u043e\u0431\u043b\u0430\u0434\u0430\u044e\u0442 \u0432\u044b\u0441\u043e\u043a\u043e\u0439 \u0434\u043e\u043b\u0433\u043e\u0432\u0435\u0447\u043d\u043e\u0441\u0442\u044c\u044e.\\n   - \u0411\u043e\u043b\u0435\u0435 \u044d\u043a\u043e\u043d\u043e\u043c\u0438\u0447\u043d\u044b\u043c\u0438 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0430\u043c\u0438 \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0431\u0438\u0442\u0443\u043c\u043d\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430 \u0438 \u043e\u043d\u0434\u0443\u043b\u0438\u043d.\\n\\n3. <b>\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0439 \u0441\u0442\u0438\u043b\u044c</b>:\\n   - \u0414\u043b\u044f \u0442\u0440\u0430\u0434\u0438\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0434\u043e\u043c\u043e\u0432 \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u043a\u043b\u0430\u0441\u0441\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430, \u0448\u0438\u0444\u0435\u0440 \u0438\u043b\u0438 \u0441\u043b\u0430\u043d\u0435\u0446.\\n   - \u0421\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:52", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:31:52 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '8092', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799180', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '61ms', 'x-request-id': 'req_483821d591ea1824ad4bc525fc091aa0', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed56d9c4e5dea83-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:52", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_483821d591ea1824ad4bc525fc091aa0", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:52", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:52", "name": "llm_service", "levelname": "INFO", "message": "Translated answer from Indonesioan to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:52", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.7425306633876422, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:52", "name": "llm_service", "levelname": "DEBUG", "message": "Similarity threshold not met. Returning answer without references.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:52", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:52", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Based on the following user prompt and your response, generate up to 3 follow-up questions that the user might ask next. Respond only with the list of questions, without any additional text.\\n\\nUser Prompt: \u043a\u0430\u043a \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0434\u043b\u044f \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430\\n\\nYour Response: \u0412\u044b\u0431\u043e\u0440 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430 \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0432\u0430\u0436\u043d\u044b\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432. \u0412\u043e\u0442 \u0447\u0442\u043e \u0441\u0442\u043e\u0438\u0442 \u0443\u0447\u0435\u0441\u0442\u044c \u043f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435:\\n\\n1. <b>\u041a\u043b\u0438\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f</b>:\\n   - \u0412 \u0440\u0435\u0433\u0438\u043e\u043d\u0430\u0445 \u0441 \u0432\u044b\u0441\u043e\u043a\u043e\u0439 \u0432\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c\u044e \u0438 \u0447\u0430\u0441\u0442\u044b\u043c\u0438 \u043e\u0441\u0430\u0434\u043a\u0430\u043c\u0438 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0432\u044b\u0431\u0438\u0440\u0430\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b, \u0443\u0441\u0442\u043e\u0439\u0447\u0438\u0432\u044b\u0435 \u043a \u0432\u043b\u0430\u0433\u0435, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u043c\u0435\u0442\u0430\u043b\u043b \u0438\u043b\u0438 \u043a\u0435\u0440\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430.\\n   - \u0412 \u0436\u0430\u0440\u043a\u043e\u043c \u043a\u043b\u0438\u043c\u0430\u0442\u0435 \u043b\u0443\u0447\u0448\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0442 \u0441\u0432\u0435\u0442\u043b\u044b\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b, \u043e\u0442\u0440\u0430\u0436\u0430\u044e\u0449\u0438\u0435 \u0441\u043e\u043b\u043d\u0435\u0447\u043d\u044b\u0435 \u043b\u0443\u0447\u0438, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043a\u043e\u043c\u043f\u043e\u0437\u0438\u0442\u043d\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430.\\n\\n2. <b>\u0411\u044e\u0434\u0436\u0435\u0442</b>:\\n   - \u041c\u0435\u0442\u0430\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043a\u0440\u043e\u0432\u043b\u044f \u0438 \u043d\u0430\u0442\u0443\u0440\u0430\u043b\u044c\u043d\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430 \u0441\u0442\u043e\u044f\u0442 \u0434\u043e\u0440\u043e\u0436\u0435, \u043d\u043e \u043e\u043d\u0438 \u043e\u0431\u043b\u0430\u0434\u0430\u044e\u0442 \u0432\u044b\u0441\u043e\u043a\u043e\u0439 \u0434\u043e\u043b\u0433\u043e\u0432\u0435\u0447\u043d\u043e\u0441\u0442\u044c\u044e.\\n   - \u0411\u043e\u043b\u0435\u0435 \u044d\u043a\u043e\u043d\u043e\u043c\u0438\u0447\u043d\u044b\u043c\u0438 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0430\u043c\u0438 \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0431\u0438\u0442\u0443\u043c\u043d\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430 \u0438 \u043e\u043d... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:52", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:31:54 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1421', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799132', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '65ms', 'x-request-id': 'req_d3a1b0afdd6b5007f07ba0f9fd5d137a', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed56dd0cb46ea83-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_d3a1b0afdd6b5007f07ba0f9fd5d137a", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:54", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['\u041a\u0430\u043a\u0438\u0435 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0443\u0441\u043b\u0443\u0433\u0438 \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u043c\u043e\u0447\u044c \u0432 \u0432\u044b\u0431\u043e\u0440\u0435 \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435 \u043a\u0440\u043e\u0432\u043b\u0438?', '\u041a\u0430\u043a\u0438\u0435 \u043f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430 \u0438 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043a\u0438 \u0443 \u043d\u0430\u0438\u0431\u043e\u043b\u0435\u0435 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0445 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u043e\u0432 \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438?', '\u041a\u0430\u043a\u043e\u0432\u044b \u043d\u0430\u0438\u0431\u043e\u043b\u0435\u0435 \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u043e\u0448\u0438\u0431\u043a\u0438 \u043f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430 \u0434\u043b\u044f \u043a\u0440\u044b\u0448\u0438 \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430?']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Russian. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\n\u041a\u0430\u043a\u0438\u0435 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0443\u0441\u043b\u0443\u0433\u0438 \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u043c\u043e\u0447\u044c \u0432 \u0432\u044b\u0431\u043e\u0440\u0435 \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435 \u043a\u0440\u043e\u0432\u043b\u0438?', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:31:55 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '581', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799915', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '6ms', 'x-request-id': 'req_aecf2b9e23d81ff97395903194c8d36f', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed56ddb9c19ea83-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_aecf2b9e23d81ff97395903194c8d36f", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:55", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Russian. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\n\u041a\u0430\u043a\u0438\u0435 \u043f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430 \u0438 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043a\u0438 \u0443 \u043d\u0430\u0438\u0431\u043e\u043b\u0435\u0435 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0445 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u043e\u0432 \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438?', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:56", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:31:56 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1037', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799913', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '6ms', 'x-request-id': 'req_0c3340cfa89a8f259cdb03a8c33312fa', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed56de12c2fea83-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:56", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_0c3340cfa89a8f259cdb03a8c33312fa", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:56", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:56", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Russian. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\n\u041a\u0430\u043a\u043e\u0432\u044b \u043d\u0430\u0438\u0431\u043e\u043b\u0435\u0435 \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u043e\u0448\u0438\u0431\u043a\u0438 \u043f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430 \u0434\u043b\u044f \u043a\u0440\u044b\u0448\u0438 \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430?', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:56", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:31:57 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '491', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799909', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '6ms', 'x-request-id': 'req_04ab5f4de46682a0cf43f506d09f5a27', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed56de98fc5ea83-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_04ab5f4de46682a0cf43f506d09f5a27", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:57", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:57", "name": "llm_service", "levelname": "INFO", "message": "Translated suggestions from Indonesioan to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:57", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u0412\u044b\u0431\u043e\u0440 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430 \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0432\u0430\u0436\u043d\u044b\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432. \u0412\u043e\u0442 \u0447\u0442\u043e \u0441\u0442\u043e\u0438\u0442 \u0443\u0447\u0435\u0441\u0442\u044c \u043f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435:\\n\\n1. <b>\u041a\u043b\u0438\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f</b>:\\n\u2022 \u0412 \u0440\u0435\u0433\u0438\u043e\u043d\u0430\u0445 \u0441 \u0432\u044b\u0441\u043e\u043a\u043e\u0439 \u0432\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c\u044e \u0438 \u0447\u0430\u0441\u0442\u044b\u043c\u0438 \u043e\u0441\u0430\u0434\u043a\u0430\u043c\u0438 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0432\u044b\u0431\u0438\u0440\u0430\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b, \u0443\u0441\u0442\u043e\u0439\u0447\u0438\u0432\u044b\u0435 \u043a \u0432\u043b\u0430\u0433\u0435, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u043c\u0435\u0442\u0430\u043b\u043b \u0438\u043b\u0438 \u043a\u0435\u0440\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430.\\n\u2022 \u0412 \u0436\u0430\u0440\u043a\u043e\u043c \u043a\u043b\u0438\u043c\u0430\u0442\u0435 \u043b\u0443\u0447\u0448\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0442 \u0441\u0432\u0435\u0442\u043b\u044b\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b, \u043e\u0442\u0440\u0430\u0436\u0430\u044e\u0449\u0438\u0435 \u0441\u043e\u043b\u043d\u0435\u0447\u043d\u044b\u0435 \u043b\u0443\u0447\u0438, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043a\u043e\u043c\u043f\u043e\u0437\u0438\u0442\u043d\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430.\\n\\n2. <b>\u0411\u044e\u0434\u0436\u0435\u0442</b>:\\n\u2022 \u041c\u0435\u0442\u0430\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043a\u0440\u043e\u0432\u043b\u044f \u0438 \u043d\u0430\u0442\u0443\u0440\u0430\u043b\u044c\u043d\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430 \u0441\u0442\u043e\u044f\u0442 \u0434\u043e\u0440\u043e\u0436\u0435, \u043d\u043e \u043e\u043d\u0438 \u043e\u0431\u043b\u0430\u0434\u0430\u044e\u0442 \u0432\u044b\u0441\u043e\u043a\u043e\u0439 \u0434\u043e\u043b\u0433\u043e\u0432\u0435\u0447\u043d\u043e\u0441\u0442\u044c\u044e.\\n\u2022 \u0411\u043e\u043b\u0435\u0435 \u044d\u043a\u043e\u043d\u043e\u043c\u0438\u0447\u043d\u044b\u043c\u0438 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0430\u043c\u0438 \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0431\u0438\u0442\u0443\u043c\u043d\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430 \u0438 \u043e\u043d\u0434\u0443\u043b\u0438\u043d.\\n\\n3. <b>\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0439 \u0441\u0442\u0438\u043b\u044c</b>:\\n\u2022 \u0414\u043b\u044f \u0442\u0440\u0430\u0434\u0438\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0434\u043e\u043c\u043e\u0432 \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u043a\u043b\u0430\u0441\u0441\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430, \u0448\u0438\u0444\u0435\u0440 \u0438\u043b\u0438 \u0441\u043b\u0430\u043d\u0435\u0446.\\n\u2022 \u0421\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0434\u043e\u043c\u0430 \u043c\u043e\u0433\u0443\u0442 \u0445\u043e\u0440\u043e\u0448\u043e \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c\u0441\u044f \u0441 \u043c\u0435\u0442\u0430\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u043a\u0440\u043e\u0432\u043b\u0435\u0439.\\n\\n4. <b>\u0412\u0435\u0441 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430</b>:\\n\u2022 \u0422\u044f\u0436\u0435\u043b\u044b\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u0441\u043b\u0430\u043d\u0435\u0446 \u0438\u043b\u0438 \u043a\u0435\u0440\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430, \u0442\u0440\u0435\u0431\u0443\u044e\u0442 \u0431\u043e\u043b\u0435\u0435 \u043f\u0440\u043e\u0447\u043d\u043e\u0433\u043e \u043a\u0430\u0440\u043a\u0430\u0441\u0430 \u043a\u0440\u044b\u0448\u0438.\\n\u2022 \u041b\u0435\u0433\u043a\u0438\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u043c\u0435\u0442\u0430\u043b\u043b... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:57", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:57", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='c7d2b93f-fc28-43e8-96f3-6a4907f1fa3c'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:57", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:58", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:31:58", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:56", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-05, 19:34:56", "last_active": "2024-12-05, 19:34:56", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 19:34:56", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:56", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:56", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:56", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=244732168, message='\u043a\u0430\u043a\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043d\u0443\u0436\u043d\u044b \u0434\u043b\u044f \u043f\u043e\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0434\u043e\u043c\u0430 \u043d\u0430 \u0411\u0430\u043b\u0438'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:56", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x00000241C376BA70>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 16, 34, 55, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='ru', username='Akumsk'), group_chat_created=False, message_id=3260, supergroup_chat_created=False, text='\u043a\u0430\u043a\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043d\u0443\u0436\u043d\u044b \u0434\u043b\u044f \u043f\u043e\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0434\u043e\u043c\u0430 \u043d\u0430 \u0411\u0430\u043b\u0438'), update_id=881194089), <telegram.ext._callbackcontext.CallbackContext object at 0x0000024229866120>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:56", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x00000241E90C63E0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:56", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='dee9d411-da27-4003-9d2c-c306bd0d8087' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:56", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='dee9d411-da27-4003-9d2c-c306bd0d8087'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:56", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:56", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x00000241E9086C30>, '\u043a\u0430\u043a\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043d\u0443\u0436\u043d\u044b \u0434\u043b\u044f \u043f\u043e\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0434\u043e\u043c\u0430 \u043d\u0430 \u0411\u0430\u043b\u0438'), kwargs: {'chat_history': [HumanMessage(content='\u043a\u0430\u043a\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043d\u0443\u0436\u043d\u044b \u0434\u043b\u044f \u043f\u043e\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0434\u043e\u043c\u0430 \u043d\u0430 \u0411\u0430\u043b\u0438', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u043a\u0430\u043a \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0434\u043b\u044f \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430', additional_kwargs={}, response_metadata={}), AIMessage(content='\u0412\u044b\u0431\u043e\u0440 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430 \u0434\u043b\u044f \u043a\u0440\u043e\u0432\u043b\u0438 \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0432\u0430\u0436\u043d\u044b\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432. \u0412\u043e\u0442 \u0447\u0442\u043e \u0441\u0442\u043e\u0438\u0442 \u0443\u0447\u0435\u0441\u0442\u044c \u043f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435:\\n\\n1. <b>\u041a\u043b\u0438\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f</b>:\\n\u2022 \u0412 \u0440\u0435\u0433\u0438\u043e\u043d\u0430\u0445 \u0441 \u0432\u044b\u0441\u043e\u043a\u043e\u0439 \u0432\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c\u044e \u0438 \u0447\u0430\u0441\u0442\u044b\u043c\u0438 \u043e\u0441\u0430\u0434\u043a\u0430\u043c\u0438 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0432\u044b\u0431\u0438\u0440\u0430\u0442\u044c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b, \u0443\u0441\u0442\u043e\u0439\u0447\u0438\u0432\u044b\u0435 \u043a \u0432\u043b\u0430\u0433\u0435, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u043c\u0435\u0442\u0430\u043b\u043b \u0438\u043b\u0438 \u043a\u0435\u0440\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430.\\n\u2022 \u0412 \u0436\u0430\u0440\u043a\u043e\u043c \u043a\u043b\u0438\u043c\u0430\u0442\u0435 \u043b\u0443\u0447\u0448\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0442 \u0441\u0432\u0435\u0442\u043b\u044b\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b, \u043e\u0442\u0440\u0430\u0436\u0430\u044e\u0449\u0438\u0435 \u0441\u043e\u043b\u043d\u0435\u0447\u043d\u044b\u0435 \u043b\u0443\u0447\u0438, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043a\u043e\u043c\u043f\u043e\u0437\u0438\u0442\u043d\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430.\\n\\n2. <b>\u0411\u044e\u0434\u0436\u0435\u0442</b>:\\n\u2022 \u041c\u0435\u0442\u0430\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043a\u0440\u043e\u0432\u043b\u044f \u0438 \u043d\u0430\u0442\u0443\u0440\u0430\u043b\u044c\u043d\u0430\u044f \u0447\u0435\u0440\u0435\u043f\u0438\u0446\u0430 \u0441\u0442\u043e\u044f\u0442 \u0434\u043e\u0440\u043e\u0436\u0435, \u043d\u043e \u043e\u043d\u0438 \u043e\u0431\u043b\u0430\u0434\u0430\u044e\u0442 \u0432\u044b\u0441\u043e\u043a\u043e\u0439 \u0434\u043e\u043b\u0433\u043e\u0432\u0435\u0447\u043d\u043e\u0441\u0442\u044c\u044e.\\n\u2022 \u0411\u043e\u043b\u0435\u0435 \u044d\u043a\u043e\u043d\u043e\u043c\u0438\u0447\u043d\u044b\u043c\u0438 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0430\u043c... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:56", "name": "llm_service", "levelname": "INFO", "message": "Detected language: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:56", "name": "llm_service", "levelname": "INFO", "message": "Detected user language: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:56", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Indonesioan. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\n\u043a\u0430\u043a\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043d\u0443\u0436\u043d\u044b \u0434\u043b\u044f \u043f\u043e\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0434\u043e\u043c\u0430 \u043d\u0430 \u0411\u0430\u043b\u0438', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:56", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:34:56 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '328', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799925', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_6c374f2b0221895a00a019b41f1ca4a5', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed5724bffd5e78f-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_6c374f2b0221895a00a019b41f1ca4a5", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:57", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Indonesioan", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:57", "name": "llm_service", "levelname": "INFO", "message": "Translated prompt from Russian to Indonesioan", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000242227D9D00>, 'json_data': {'input': [[67, 564, 28999, 61693, 10587, 294, 13154, 75, 28824, 20166, 1871, 28273, 359, 14322, 1494, 1891, 64328]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:34:57 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '105', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999983', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_a9eec95c527d9725454021300aea2ca5', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed572503e37ee16-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_a9eec95c527d9725454021300aea2ca5", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:58", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000241E8F02520>, 'json_data': {'input': [[67, 564, 28999, 61693, 10587, 294, 13154, 75, 28824, 20166, 1871, 28273, 359, 14322, 1494, 1891, 64328]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:34:58 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '54', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999983', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_d9eeb48c1884f508fbefa48436390868', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed57256aa0aee16-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_d9eeb48c1884f508fbefa48436390868", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000241E8F02520>, 'json_data': {'input': [[47, 7157, 259, 92610, 198, 75736, 14451, 29661, 19877, 61389, 5987, 198, 2442, 4767, 7058, 13229, 1122, 84077, 752, 360, 12825, 198, 42, 295, 306, 10602, 67950, 28999, 198, 4368, 12944, 69, 220, 16, 198, 45767, 372, 198, 72011, 278, 220, 9714, 198, 7, 16, 8, 2638, 68821, 91193, 391, 13597, 88, 301, 833, 70, 5169, 276, 17343, 65734, 65577, 2234, 198, 76, 833, 34056, 8826, 42161, 28999, 10587, 78083, 76143, 198, 375, 76018, 276, 94033, 4596, 503, 15790, 11, 10804, 575, 32973, 512, 64, 13, 42161, 28999, 91193, 391, 824, 967, 3444, 276, 81126, 285, 280, 65, 13, 42161, 28999, 91193, 391, 12077, 10011, 3444, 276, 16947, 496, 84, 32160, 280, 66, 13, 720, 67, 564, 28999, 91193, 391, 281, 16357, 3716, 16623, 26, 9279, 198, 67, 13, 42161, 28999, 91193, 391, 69383, 647, 74, 22026, 627, 7, 1691, 423, 17243, 15104, 44111... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:34:58 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '127', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999642', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '4ms', 'x-request-id': 'req_49b327a899969c7552f77829e1220b71', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed57258ed9cee16-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_49b327a899969c7552f77829e1220b71", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000241E8F02520>, 'json_data': {'input': [[47, 7157, 358, 507, 965, 720, 75736, 4594, 0, 12, 29661, 612, 8225, 61389, 5987, 720, 12, 220, 22694, 482, 720, 65, 13, 4610, 86056, 17578, 3105, 720, 2645, 86056, 8791, 3105, 26518, 65734, 14322, 1494, 43327, 16876, 85307, 16876, 2024, 3826, 72, 25177, 25, 720, 16, 8, 720, 3595, 10426, 26, 720, 17, 8, 720, 13616, 564, 37786, 1609, 266, 14, 18067, 1073, 26, 720, 18, 8, 720, 52552, 316, 26, 720, 19, 8, 720, 13616, 564, 49328, 8138, 14, 10264, 26, 9279, 720, 20, 8, 720, 496, 86056, 520, 391, 13, 720, 1360, 9459, 16947, 496, 84, 32160, 610, 86056, 8791, 3105, 59597, 1871, 716, 9379, 23014, 720, 26554, 752, 16623, 5213, 56587, 9279, 10804, 278, 2005, 2322, 536, 10587, 3399, 277, 13, 720, 16, 8, 720, 47, 2159, 10426, 720, 47, 2649, 80264, 13532, 14531, 1494, 10587, 93843, 455, 26773, 11, 36670, 10426, 10587, 720,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:34:58 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '91', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999814', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_048d77e30111004a4d219408e125f00c', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed5725b49a5ee16-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_048d77e30111004a4d219408e125f00c", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000241E8F02520>, 'json_data': {'input': [[2618, 720, 13229, 1122, 6706, 3342, 266, 720, 63919, 65734, 65577, 2234, 2467, 266, 720, 4368, 12944, 69, 220, 16, 720, 45767, 372, 720, 72011, 278, 220, 2287, 33006, 7, 16, 8, 720, 63919, 65734, 53293, 2234, 1008, 266, 59597, 42168, 526, 359, 10418, 35989, 62986, 597, 3864, 1494, 720, 71, 3178, 372, 1008, 266, 39472, 4790, 13532, 296, 92380, 305, 3178, 372, 1008, 266, 15907, 85795, 21045, 720, 71027, 12874, 9279, 69986, 84467, 10587, 10418, 75, 24468, 1891, 296, 92380, 305, 3178, 372, 720, 329, 266, 23741, 13, 2355, 720, 7, 17, 8, 720, 47, 41996, 396, 1494, 14569, 97308, 45217, 3026, 295, 391, 8826, 7565, 53857, 16623, 11398, 50848, 720, 36255, 7565, 53857, 16623, 81126, 285, 88730, 408, 21336, 20166, 26518, 65734, 14322, 1494, 720, 36255, 14, 460, 84, 26518, 65734, 1008, 266, 30892, 3700, 2693, 276, 426, 4... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:34:59 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '85', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999593', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '4ms', 'x-request-id': 'req_fdc5eab0d2b6946eaf89982f45e3f3e8', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed5725dae07ee16-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_fdc5eab0d2b6946eaf89982f45e3f3e8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000241E8F02520>, 'json_data': {'input': [[47, 7157, 926, 965, 198, 75736, 14451, 29661, 19877, 61389, 5987, 198, 12, 220, 17, 83, 1927, 18722, 42, 295, 306, 10602, 67950, 28999, 13597, 88, 301, 833, 70, 5169, 276, 17343, 65734, 65577, 2234, 735, 1286, 5964, 333, 198, 51, 786, 58333, 13, 17, 46, 13, 68184, 306, 10602, 30892, 30280, 3178, 26045, 67950, 28999, 198, 964, 78, 198, 42, 12380, 406, 10602, 9507, 1152, 263, 198, 40, 1169, 1540, 983, 5418, 198, 1061, 24218, 359, 198, 16, 198, 38991, 10426, 735, 4334, 33954, 964, 1950, 5736, 17, 198, 38991, 10426, 66269, 42, 5736, 18, 198, 23912, 266, 3700, 23685, 82991, 281, 16357, 3716, 16623, 14531, 1494, 198, 519, 5169, 55284, 97259, 14531, 1494, 9279, 393, 336, 97259, 198, 63919, 65734, 65577, 2234, 198, 35, 17243, 15104, 55284, 97259, 198, 53691, 1494, 1048, 8826, 55284, 97259, 198, 28273, 65734, 53293, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:34:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:34:59 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '115', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999539', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_22976786ff24502149754218a2cfb77f', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed572600a6cee16-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_22976786ff24502149754218a2cfb77f", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If the user requests a calculation, try to execute it. If there is not enough initial data, use general values that apply in most cases. If it is not possible to use general values, request from the user the conditions needed to provide the calculation. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-05, 19:35:00. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retriev... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:04", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:35:03 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '4065', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '795624', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '328ms', 'x-request-id': 'req_afede4704d5683b3c88f2f8a2e79bcb1', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed572626e87e78f-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:04", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_afede4704d5683b3c88f2f8a2e79bcb1", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:04", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Russian. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\nUntuk membangun rumah di Bali, biasanya diperlukan sejumlah dokumen administratif dan teknis. Berikut adalah daftar umum dokumen yang mungkin diperlukan:\\n\\n1. <b>Izin Mendirikan Bangunan (IMB)</b>: Dokumen ini adalah izin yang harus diperoleh sebelum memulai pembangunan. Ini memastikan bahwa rumah yang dibangun sesuai dengan peraturan tata ruang dan zonasi setempat.\\n\\n2. <b>Sertifikat Hak Atas Tanah</b>: Dokumen yang membuktikan kepemilikan tanah di mana rumah akan dibangun.\\n\\n3. <b>Surat Izin Peruntukan Penggunaan Tanah (SIPPT)</b>: Jika diperlukan, ini adalah izin untuk penggunaan tanah sesuai dengan peruntukannya.\\n\\n4. <b>Dokumen AMDAL atau UKL/UPL</b>: Dokumen lingkungan yang diperlukan jika proyek pembangunan berpotensi memi... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:04", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:35:12 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '7799', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799576', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '31ms', 'x-request-id': 'req_6e91a4d464fc2255f4558af48aa95695', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed5727def5fe78f-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_6e91a4d464fc2255f4558af48aa95695", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:12", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:12", "name": "llm_service", "levelname": "INFO", "message": "Translated answer from Indonesioan to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:12", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.8398059596884424, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:12", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:12", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Based on the following user prompt and your response, generate up to 3 follow-up questions that the user might ask next. Respond only with the list of questions, without any additional text.\\n\\nUser Prompt: dokumen apa yang diperlukan untuk membangun rumah di Bali\\n\\nYour Response: Untuk membangun rumah di Bali, biasanya diperlukan sejumlah dokumen administratif dan teknis. Berikut adalah daftar umum dokumen yang mungkin diperlukan:\\n\\n1. <b>Izin Mendirikan Bangunan (IMB)</b>: Dokumen ini adalah izin yang harus diperoleh sebelum memulai pembangunan. Ini memastikan bahwa rumah yang dibangun sesuai dengan peraturan tata ruang dan zonasi setempat.\\n\\n2. <b>Sertifikat Hak Atas Tanah</b>: Dokumen yang membuktikan kepemilikan tanah di mana rumah akan dibangun.\\n\\n3. <b>Surat Izin Peruntukan Penggunaan Tanah (SIPPT)</b>: Jika diperlukan, ini adalah izin untuk penggunaan tanah... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:35:13 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1590', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799537', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '34ms', 'x-request-id': 'req_85598ed68bc465662d66b9f148238ff9', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed572b0983ae78f-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_85598ed68bc465662d66b9f148238ff9", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:14", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['Bagaimana cara mengajukan Izin Mendirikan Bangunan (IMB) di Bali?', 'Apakah ada biaya tertentu yang harus dibayar untuk mendapatkan dokumen-dokumen tersebut?', 'Berapa lama biasanya waktu yang dibutuhkan untuk mendapatkan semua izin dan dokumen yang diperlukan sebelum memulai pembangunan rumah di Bali?']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Russian. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\nBagaimana cara mengajukan Izin Mendirikan Bangunan (IMB) di Bali?', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:35:15 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '805', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799933', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_da25bf0a6b94dcbe39d58d15cdf6b416', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed572bc7d33e78f-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_da25bf0a6b94dcbe39d58d15cdf6b416", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:15", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Russian. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\nApakah ada biaya tertentu yang harus dibayar untuk mendapatkan dokumen-dokumen tersebut?', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:16", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:35:15 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '515', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799927', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_47f7699426679fafa5c5ac00266ab830', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed572c3692fe78f-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:16", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_47f7699426679fafa5c5ac00266ab830", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:16", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:16", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Russian. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\nBerapa lama biasanya waktu yang dibutuhkan untuk mendapatkan semua izin dan dokumen yang diperlukan sebelum memulai pembangunan rumah di Bali?', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:16", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:17", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:35:16 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '645', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799912', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '6ms', 'x-request-id': 'req_9f574479b43d577151366b99cf5a4651', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed572c89abee78f-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:17", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_9f574479b43d577151366b99cf5a4651", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:17", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:17", "name": "llm_service", "levelname": "INFO", "message": "Translated suggestions from Indonesioan to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:17", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u0427\u0442\u043e\u0431\u044b \u043f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0434\u043e\u043c \u043d\u0430 \u0411\u0430\u043b\u0438, \u043e\u0431\u044b\u0447\u043d\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0440\u044f\u0434 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u044b\u0445 \u0438 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432. \u0412\u043e\u0442 \u043e\u0431\u0449\u0438\u0439 \u0441\u043f\u0438\u0441\u043e\u043a \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u044c\u0441\u044f:\\n\\n1. <b>\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u043d\u0430 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e (IMB)</b>: \u042d\u0442\u043e\u0442 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0435\u043c, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u0435\u0440\u0435\u0434 \u043d\u0430\u0447\u0430\u043b\u043e\u043c \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430. \u041e\u043d \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u0443\u0435\u0442, \u0447\u0442\u043e \u0434\u043e\u043c \u0441\u0442\u0440\u043e\u0438\u0442\u0441\u044f \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u043c\u0435\u0441\u0442\u043d\u044b\u043c\u0438 \u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u043e\u0447\u043d\u044b\u043c\u0438 \u0438 \u0437\u043e\u043d\u0438\u0440\u0443\u044e\u0449\u0438\u043c\u0438 \u043d\u043e\u0440\u043c\u0430\u043c\u0438.\\n\\n2. <b>\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043e \u043f\u0440\u0430\u0432\u0435 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u0437\u0435\u043c\u043b\u044e</b>: \u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442, \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u044e\u0449\u0438\u0439 \u043f\u0440\u0430\u0432\u043e \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u0437\u0435\u043c\u043b\u044e, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u0441\u0442\u0440\u043e\u0435\u043d \u0434\u043e\u043c.\\n\\n3. <b>\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0435\u043c\u043b\u0438 (SIPPT)</b>: \u0415\u0441\u043b\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e, \u044d\u0442\u043e \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0435\u043c\u043b\u0438 \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u0435\u0451 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u043c.\\n\\n4. <b>\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b AMDAL \u0438\u043b\u0438 UKL/UPL</b>: \u042d\u043a\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b, \u0442\u0440\u0435\u0431\u0443\u0435\u043c\u044b\u0435, \u0435\u0441\u043b\u0438 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u043c\u043e\u0436\u0435\u0442 \u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0437\u043d\u0430\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0432\u043e\u0437\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0430 \u043e\u043a\u0440\u0443\u0436\u0430\u044e\u0449\u0443\u044e \u0441\u0440\u0435\u0434\u0443.\\n\\n5. <b>\u041f\u043b\u0430\u043d \u0437\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438</b>: \u0412\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0447\u0435\u0440\u0442\u0435\u0436\u0438 \u0438 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0435 \u043f\u043b\u0430\u043d\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u043e\u0434\u043e\u0431\u0440\u0435\u043d\u044b \u043c\u0435\u0441\u0442\u043d\u044b\u043c\u0438 \u0432... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:17", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:17", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='dee9d411-da27-4003-9d2c-c306bd0d8087'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:17", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:18", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:18", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:33", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-05, 19:35:33", "last_active": "2024-12-05, 19:35:33", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 19:35:33", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:33", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:34", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:34", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='suggestion:suggestion_0'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:34", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_inline_buttons with args: (<handlers.BotHandlers object at 0x00000241C376BA70>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='suggestion:suggestion_0', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='ru', username='Akumsk'), id='1051116658874563642', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 16, 35, 17, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=33, offset=154, type=<MessageEntityType.BOLD>), MessageEntity(length=44, offset=383, type=<MessageEntityType.BOLD>), MessageEntity(length=41, offset=519, type=<MessageEntityType.BOLD>), MessageEntity(length=27, offset=654, type=<MessageEntityType.BOLD>), MessageEntity(length=14, offset=809, type=<MessageEntityType.BOLD>), MessageEntity(length=41, offset=917, type=<Messa... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:34", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_inline_buttons with result: <coroutine object BotHandlers.handle_inline_buttons at 0x00000241E8F175B0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:34", "name": "handlers", "levelname": "INFO", "message": "User_id=244732168 clicked on suggestion '\u041a\u0430\u043a \u043f\u043e\u0434\u0430\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443 \u043d\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u043d\u0430 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e (IMB) \u043d\u0430 \u0411\u0430\u043b\u0438?'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:34", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='b8925ed4-5860-468e-8e2c-218ed4276ae2' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:34", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='b8925ed4-5860-468e-8e2c-218ed4276ae2'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:34", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:34", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x00000241E9086C30>, '\u041a\u0430\u043a \u043f\u043e\u0434\u0430\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443 \u043d\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u043d\u0430 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e (IMB) \u043d\u0430 \u0411\u0430\u043b\u0438?'), kwargs: {'chat_history': [HumanMessage(content='\u041a\u0430\u043a \u043f\u043e\u0434\u0430\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443 \u043d\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u043d\u0430 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e (IMB) \u043d\u0430 \u0411\u0430\u043b\u0438?', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u043a\u0430\u043a\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043d\u0443\u0436\u043d\u044b \u0434\u043b\u044f \u043f\u043e\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0434\u043e\u043c\u0430 \u043d\u0430 \u0411\u0430\u043b\u0438', additional_kwargs={}, response_metadata={}), AIMessage(content='\u0427\u0442\u043e\u0431\u044b \u043f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0434\u043e\u043c \u043d\u0430 \u0411\u0430\u043b\u0438, \u043e\u0431\u044b\u0447\u043d\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0440\u044f\u0434 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u044b\u0445 \u0438 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432. \u0412\u043e\u0442 \u043e\u0431\u0449\u0438\u0439 \u0441\u043f\u0438\u0441\u043e\u043a \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u044c\u0441\u044f:\\n\\n1. <b>\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u043d\u0430 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e (IMB)</b>: \u042d\u0442\u043e\u0442 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0435\u043c, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u0435\u0440\u0435\u0434 \u043d\u0430\u0447\u0430\u043b\u043e\u043c \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430. \u041e\u043d \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u0443\u0435\u0442, \u0447\u0442\u043e \u0434\u043e\u043c \u0441\u0442\u0440\u043e\u0438\u0442\u0441\u044f \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u043c\u0435\u0441\u0442\u043d\u044b\u043c\u0438 \u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u043e\u0447\u043d\u044b\u043c\u0438 \u0438 \u0437\u043e\u043d\u0438\u0440\u0443\u044e\u0449\u0438\u043c\u0438 \u043d\u043e\u0440\u043c\u0430\u043c\u0438.\\n\\n2. <b>\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043e \u043f\u0440\u0430\u0432\u0435 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u0437\u0435\u043c\u043b\u044e</b>: \u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442, \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u044e\u0449\u0438\u0439 \u043f\u0440\u0430\u0432\u043e \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u0437\u0435\u043c\u043b\u044e, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u0439... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:34", "name": "llm_service", "levelname": "INFO", "message": "Detected language: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:34", "name": "llm_service", "levelname": "INFO", "message": "Detected user language: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:34", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Indonesioan. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\n\u041a\u0430\u043a \u043f\u043e\u0434\u0430\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443 \u043d\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u043d\u0430 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e (IMB) \u043d\u0430 \u0411\u0430\u043b\u0438?', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:34", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:35:35 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '755', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799915', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '6ms', 'x-request-id': 'req_9672b2bba3c5da867251c8402ce8a430', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed5733caaf5be94-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_9672b2bba3c5da867251c8402ce8a430", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:36", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Indonesioan", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:36", "name": "llm_service", "levelname": "INFO", "message": "Translated prompt from Russian to Indonesioan", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002422985E340>, 'json_data': {'input': [[13229, 2706, 3444, 48034, 20309, 1662, 28824, 14175, 99692, 276, 48923, 258, 46211, 404, 23014, 17343, 65734, 320, 1829, 33, 8, 1891, 64328, 30]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:35:36 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '201', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999975', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_e0bbbbb3e166421dd563dd44519d7bbd', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed573439cbbee28-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_e0bbbbb3e166421dd563dd44519d7bbd", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:36", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000242227D9D00>, 'json_data': {'input': [[13229, 2706, 3444, 48034, 20309, 1662, 28824, 14175, 99692, 276, 48923, 258, 46211, 404, 23014, 17343, 65734, 320, 1829, 33, 8, 1891, 64328, 30]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:35:36 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '55', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999975', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_91ca8f566057f62f30eb1904261707e9', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed573469a00ee28-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_91ca8f566057f62f30eb1904261707e9", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000242227D9D00>, 'json_data': {'input': [[3226, 720, 72011, 278, 220, 5313, 33006, 7, 16, 8, 720, 33, 455, 9491, 45217, 3026, 27990, 296, 804, 4590, 8826, 6654, 33, 1469, 370, 10746, 551, 720, 64, 13, 84571, 720, 10759, 261, 75, 28824, 720, 86, 51754, 720, 83, 3042, 22826, 720, 3935, 3178, 720, 5794, 321, 2192, 11, 720, 74, 13092, 355, 23741, 7565, 53857, 16623, 26518, 65734, 93719, 18713, 21495, 19148, 84467, 720, 2785, 74, 52288, 10587, 13510, 1031, 276, 19818, 26, 9279, 720, 65, 13, 11163, 526, 4809, 967, 276, 19818, 312, 1031, 3444, 9145, 1122, 597, 6217, 39472, 312, 1031, 3444, 720, 466, 716, 49697, 597, 6217, 13, 2355, 720, 7, 17, 8, 720, 29305, 27990, 276, 281, 804, 4590, 276, 6654, 33, 513, 21946, 2706, 3444, 5213, 10011, 664, 32911, 19432, 266, 720, 7, 16, 8, 70937, 45217, 19371, 51095, 220, 16, 320, 82, 36409, 8, 97468, 20166, 503, 526, 46... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:35:37 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '131', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999493', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '6ms', 'x-request-id': 'req_f9b9e93b1d239f45a4ebdd6b79304186', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed573489d66ee28-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_f9b9e93b1d239f45a4ebdd6b79304186", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000241E90E1580>, 'json_data': {'input': [[2946, 720, 72011, 278, 220, 2421, 33006, 7, 16, 8, 720, 1829, 33, 28380, 294, 13154, 75, 28824, 20166, 1069, 76018, 276, 56866, 1891, 293, 79628, 17225, 25, 2355, 64, 13, 1871, 716, 4749, 7723, 26518, 65734, 53293, 2234, 21045, 28380, 20309, 82424, 720, 65, 306, 3178, 9279, 25774, 300, 11, 93719, 81427, 94351, 293, 22826, 5347, 5724, 720, 519, 5169, 51476, 25, 720, 16, 13, 1871, 273, 3751, 26, 2355, 17, 13, 1871, 716, 4749, 7723, 2160, 587, 26518, 65734, 26, 720, 18, 13, 1871, 716, 4749, 7723, 3067, 359, 46746, 84, 9279, 14, 460, 84, 3067, 359, 503, 408, 8458, 26, 2355, 19, 13, 1871, 716, 4749, 7723, 5869, 332, 455, 28092, 5169, 28380, 757, 273, 8385, 6151, 220, 16, 386, 30556, 26, 2355, 20, 13, 77334, 55284, 485, 1494, 15104, 13005, 14531, 6733, 16947, 496, 84, 32160, 26, 2355, 21, 13, 1871, 716, 4749, 7723... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:35:37 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '49', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999508', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_ae0d148ac8443539718a84c7f9bbdcf5', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed5734e7e9cee28-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_ae0d148ac8443539718a84c7f9bbdcf5", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000241E90E1580>, 'json_data': {'input': [[777, 720, 4368, 12944, 69, 220, 19, 720, 1829, 33, 1891, 2468, 300, 9279, 14, 460, 84, 1891, 426, 79628, 25566, 1494, 11, 6690, 9279, 14, 460, 84, 2355, 3617, 68038, 3444, 11628, 277, 3444, 24218, 372, 720, 72011, 278, 220, 868, 33006, 7, 16, 8, 720, 82345, 99692, 276, 6654, 33, 20166, 26518, 65734, 53293, 2234, 10587, 42168, 526, 359, 1891, 720, 19907, 9279, 14, 460, 84, 1891, 293, 79628, 14531, 1494, 11, 3805, 11, 39472, 550, 68038, 3444, 9279, 29147, 3444, 720, 372, 372, 289, 1662, 581, 220, 45876, 91643, 7565, 295, 73401, 276, 25177, 1798, 53167, 2024, 74, 1339, 13, 2355, 7, 17, 8, 720, 1829, 33, 20166, 64667, 526, 65734, 26518, 65734, 53293, 2234, 513, 21946, 2706, 3444, 720, 13223, 10011, 664, 32911, 19432, 266, 320, 16, 8, 289, 1662, 581, 45876, 26844, 18713, 21495, 19148, 81126, 285, 720, 20830, 720,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:35:38 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '90', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999526', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_5d90ed0510c3406606d332c634f66e8f', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed57350a9ecee28-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_5d90ed0510c3406606d332c634f66e8f", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000241E90E1580>, 'json_data': {'input': [[3487, 720, 7, 17, 8, 720, 33, 455, 9491, 720, 5794, 295, 391, 8826, 720, 265, 1356, 53913, 720, 1829, 33, 720, 655, 35989, 62986, 720, 65, 22826, 720, 32390, 295, 73401, 276, 513, 21946, 2706, 3444, 5213, 10011, 664, 32911, 19432, 266, 320, 16, 570, 2355, 720, 7, 18, 8, 720, 47, 41996, 1609, 9258, 276, 9279, 5869, 10746, 1122, 513, 21946, 2706, 3444, 5213, 10011, 664, 32911, 19432, 266, 320, 16, 8, 720, 36255, 32756, 5472, 312, 1356, 53913, 513, 21946, 2706, 3444, 5213, 10011, 664, 32911, 19432, 266, 320, 17, 8, 720, 79, 6260, 326, 3105, 220, 22, 320, 25506, 8783, 71, 8, 70796, 34801, 5697, 2024, 23306, 2234, 513, 63502, 92002, 294, 2058, 7675, 720, 20508, 99692, 276, 6654, 33, 13, 2355, 720, 7, 19, 8, 720, 47, 41996, 1609, 9258, 276, 9279, 5869, 10746, 1122, 14175, 99692, 276, 6654, 33, 20166, 26518, 65734,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:35:38 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '85', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999460', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '6ms', 'x-request-id': 'req_a0a49378e2a50b14ded19ab1dd19da81', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed57352ed6fee28-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_a0a49378e2a50b14ded19ab1dd19da81", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If the user requests a calculation, try to execute it. If there is not enough initial data, use general values that apply in most cases. If it is not possible to use general values, request from the user the conditions needed to provide the calculation. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-05, 19:35:38. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retriev... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:45", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:35:44 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '6026', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '795108', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '366ms', 'x-request-id': 'req_f9917b04d2a0454410a671c2f9f02ecd', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed573555d7bbe94-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:45", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_f9917b04d2a0454410a671c2f9f02ecd", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:45", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Russian. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\nUntuk mengajukan permohonan Izin Mendirikan Bangunan (IMB) di Bali, Anda perlu mengikuti beberapa langkah umum berikut:\\n\\n1. **Persiapan Dokumen**: Siapkan semua dokumen yang diperlukan, seperti:\\n   - Surat kepemilikan tanah.\\n   - Rencana teknis bangunan yang mencakup gambar arsitektur, struktur, dan utilitas.\\n   - Studi dampak lingkungan jika diperlukan (AMDAL atau UKL/UPL).\\n   - Surat persetujuan dari tetangga atau masyarakat sekitar jika diperlukan.\\n\\n2. **Pengajuan Permohonan**: Ajukan dokumen permohonan IMB ke instansi pemerintahan yang bertanggung jawab di bidang perizinan bangunan. Biasanya, ini adalah Dinas Penanaman Modal dan Pelayanan Terpadu Satu Pintu (DPMPTSP).\\n\\n3. **Pemeriksaan Dokumen**: Instansi terkait akan m... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:45", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:35:53 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '8751', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799529', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '35ms', 'x-request-id': 'req_251dc5781c414060c61284cb2212022a', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed5737d6a4fbe94-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_251dc5781c414060c61284cb2212022a", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:54", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:54", "name": "llm_service", "levelname": "INFO", "message": "Translated answer from Indonesioan to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:54", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.8705432449618071, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:54", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:54", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Based on the following user prompt and your response, generate up to 3 follow-up questions that the user might ask next. Respond only with the list of questions, without any additional text.\\n\\nUser Prompt: Bagaimana cara mengajukan permohonan Izin Mendirikan Bangunan (IMB) di Bali?\\n\\nYour Response: Untuk mengajukan permohonan Izin Mendirikan Bangunan (IMB) di Bali, Anda perlu mengikuti beberapa langkah umum berikut:\\n\\n1. **Persiapan Dokumen**: Siapkan semua dokumen yang diperlukan, seperti:\\n   - Surat kepemilikan tanah.\\n   - Rencana teknis bangunan yang mencakup gambar arsitektur, struktur, dan utilitas.\\n   - Studi dampak lingkungan jika diperlukan (AMDAL atau UKL/UPL).\\n   - Surat persetujuan dari tetangga atau masyarakat sekitar jika diperlukan.\\n\\n2. **Pengajuan Permohonan**: Ajukan dokumen permohonan IMB ke instansi pemerintahan yang bertanggung jawab di bida... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:54", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:35:55 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1084', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799485', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '38ms', 'x-request-id': 'req_53352cf1f84eb0ef8c90e1b01c079b2e', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed573b60b85be94-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_53352cf1f84eb0ef8c90e1b01c079b2e", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:55", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['Berapa lama biasanya waktu yang dibutuhkan untuk mendapatkan IMB di Bali?', 'Apakah ada biaya tambahan yang perlu dipersiapkan selain retribusi untuk pengajuan IMB?', 'Apakah ada perbedaan persyaratan IMB untuk bangunan komersial dibandingkan dengan bangunan rumah tinggal di Bali?']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Russian. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\nBerapa lama biasanya waktu yang dibutuhkan untuk mendapatkan IMB di Bali?', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:35:56 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1063', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799930', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_3c9b636f8c5a6d0c447758e7876ef953', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed573beba7fbe94-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_3c9b636f8c5a6d0c447758e7876ef953", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:57", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Russian. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\nApakah ada biaya tambahan yang perlu dipersiapkan selain retribusi untuk pengajuan IMB?', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:35:57 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '344', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799926', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_81a6e5465dc02cb8b59fd97a5de39722', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed573c74872be94-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_81a6e5465dc02cb8b59fd97a5de39722", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:57", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Russian. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\nApakah ada perbedaan persyaratan IMB untuk bangunan komersial dibandingkan dengan bangunan rumah tinggal di Bali?', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:35:58 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '613', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799920', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_4345708a03b2ad665144307e1d767cd0', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed573cb5b37be94-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_4345708a03b2ad665144307e1d767cd0", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:58", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:58", "name": "llm_service", "levelname": "INFO", "message": "Translated suggestions from Indonesioan to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:58", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u0427\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u0430\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443 \u043d\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u043d\u0430 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e (IMB) \u043d\u0430 \u0411\u0430\u043b\u0438, \u0432\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043e\u0431\u0449\u0438\u0435 \u0448\u0430\u0433\u0438:\\n\\n1. <b>\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432</b>: \u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u044c\u0442\u0435 \u0432\u0441\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a:\\n\u2022 \u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043e \u043f\u0440\u0430\u0432\u0435 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u0437\u0435\u043c\u043b\u044e.\\n\u2022 \u0422\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u043b\u0430\u043d \u0437\u0434\u0430\u043d\u0438\u044f, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0449\u0438\u0439 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0435, \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u044b\u0435 \u0447\u0435\u0440\u0442\u0435\u0436\u0438.\\n\u2022 \u041e\u0446\u0435\u043d\u043a\u0430 \u0432\u043e\u0437\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043d\u0430 \u043e\u043a\u0440\u0443\u0436\u0430\u044e\u0449\u0443\u044e \u0441\u0440\u0435\u0434\u0443, \u0435\u0441\u043b\u0438 \u044d\u0442\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e (AMDAL \u0438\u043b\u0438 UKL/UPL).\\n\u2022 \u0421\u043e\u0433\u043b\u0430\u0441\u0438\u0435 \u0441\u043e\u0441\u0435\u0434\u0435\u0439 \u0438\u043b\u0438 \u043c\u0435\u0441\u0442\u043d\u043e\u0433\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430, \u0435\u0441\u043b\u0438 \u044d\u0442\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e.\\n\\n2. <b>\u041f\u043e\u0434\u0430\u0447\u0430 \u0437\u0430\u044f\u0432\u043b\u0435\u043d\u0438\u044f</b>: \u041f\u043e\u0434\u0430\u0439\u0442\u0435 \u0437\u0430\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 IMB \u0432 \u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u043e\u0440\u0433\u0430\u043d, \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0437\u0430 \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430. \u041e\u0431\u044b\u0447\u043d\u043e \u044d\u0442\u043e \u0414\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442 \u0438\u043d\u0432\u0435\u0441\u0442\u0438\u0446\u0438\u0439 \u0438 \u0438\u043d\u0442\u0435\u0433\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0443\u0441\u043b\u0443\u0433 \u043e\u0434\u043d\u043e\u0433\u043e \u043e\u043a\u043d\u0430 (DPMPTSP).\\n\\n3. <b>\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432</b>: \u0421\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u043e\u0440\u0433\u0430\u043d \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442 \u043f\u043e\u0434\u0430\u043d\u043d\u044b\u0435 \u0432\u0430\u043c\u0438 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0438 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b. \u041e\u043d\u0438 \u043c\u043e\u0433\u0443\u0442 \u0437\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0438\u043b\u0438 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b, \u0435\u0441\u043b\u0438 \u044d\u0442\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e.\\n\\n4. <b>\u041e\u043f\u043b\u0430\u0442\u0430 \u043f\u043e\u0448\u043b\u0438\u043d\u044b</b>... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:58", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:58", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='b8925ed4-5860-468e-8e2c-218ed4276ae2'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:58", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:59", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:35:59", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:40:14", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-05, 19:40:14", "last_active": "2024-12-05, 19:40:14", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 19:40:14", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:40:14", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:40:14", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:40:14", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:40:14", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x00000241C376BA70>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 16, 40, 13, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='ru', username='Akumsk'), group_chat_created=False, message_id=3263, supergroup_chat_created=False, text='/knowledge_base'), update_id=881194091), <telegram.ext._callbackcontext.CallbackContext object at 0x0000024229865630>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:40:14", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x00000241E9132E60>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:40:15", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:40:15", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:40:17", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-05, 19:40:17", "last_active": "2024-12-05, 19:40:17", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 19:40:17", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:40:18", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:40:18", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:40:18", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_knowledge:ISO Regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:40:18", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_knowledge_base with args: (<handlers.BotHandlers object at 0x00000241C376BA70>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_knowledge:ISO Regulations', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='ru', username='Akumsk'), id='1051116660460493443', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 16, 40, 14, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3264, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', text='\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'),), (InlineKeyboardButton(callback_data='set_knowledge:Indonesian Regulations', text='Indonesian Regulations'),), (I... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:40:18", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_knowledge_base with result: <coroutine object BotHandlers.set_knowledge_base at 0x00000241E9535010>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:40:18", "name": "handlers", "levelname": "DEBUG", "message": "Set folder_path='E:\\knowledge_base\\iso_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:40:18", "name": "handlers", "levelname": "DEBUG", "message": "Found 5 valid files in folder_path='E:\\knowledge_base\\iso_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:40:18", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_and_index_documents with args: (<llm_service.LLMService object at 0x00000241E9086C30>, 'E:\\\\knowledge_base\\\\iso_regulations', 'English'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:40:18", "name": "llm_service", "levelname": "DEBUG", "message": "Starting load_and_index_documents for folder_path='E:\\knowledge_base\\iso_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:40:18", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_vector_store with args: (<llm_service.LLMService object at 0x00000241E9086C30>, 'E:\\\\knowledge_base\\\\iso_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:40:18", "name": "llm_service", "levelname": "INFO", "message": "Loaded vector store from E:\\knowledge_base\\iso_regulations\\vector_store", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:40:18", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_vector_store with result: True", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:40:18", "name": "llm_service", "levelname": "INFO", "message": "Vector store loaded from existing files in 'E:\\knowledge_base\\iso_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:40:18", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_and_index_documents with result: (True, 'Vector store loaded from existing files.')", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:40:19", "name": "handlers", "levelname": "INFO", "message": "Knowledge base 'ISO Regulations' set successfully for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:40:19", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:45", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-05, 19:43:45", "last_active": "2024-12-05, 19:43:45", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 19:43:45", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:45", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:45", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:45", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=244732168, message='\u0441\u043e\u0437\u0434\u0430\u0439 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u043b\u0430\u043d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f BIM'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:45", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x00000241C376BA70>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 16, 43, 44, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='ru', username='Akumsk'), group_chat_created=False, message_id=3266, supergroup_chat_created=False, text='\u0441\u043e\u0437\u0434\u0430\u0439 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u043b\u0430\u043d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f BIM'), update_id=881194093), <telegram.ext._callbackcontext.CallbackContext object at 0x00000241E94D9F60>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:45", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x00000241E8EBB4C0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:45", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='225120ba-7199-4636-ba10-46ae9ae13ebc' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:45", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='225120ba-7199-4636-ba10-46ae9ae13ebc'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:46", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:46", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x00000241E9086C30>, '\u0441\u043e\u0437\u0434\u0430\u0439 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u043b\u0430\u043d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f BIM'), kwargs: {'chat_history': [HumanMessage(content='\u0441\u043e\u0437\u0434\u0430\u0439 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u043b\u0430\u043d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f BIM', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u041a\u0430\u043a \u043f\u043e\u0434\u0430\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443 \u043d\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u043d\u0430 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e (IMB) \u043d\u0430 \u0411\u0430\u043b\u0438?', additional_kwargs={}, response_metadata={}), AIMessage(content='\u041a\u0430\u043a \u043f\u043e\u0434\u0430\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443 \u043d\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u043d\u0430 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e (IMB) \u043d\u0430 \u0411\u0430\u043b\u0438?\\n-----------\\n\u0427\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u0430\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443 \u043d\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u043d\u0430 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e (IMB) \u043d\u0430 \u0411\u0430\u043b\u0438, \u0432\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043e\u0431\u0449\u0438\u0435 \u0448\u0430\u0433\u0438:\\n\\n1. <b>\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432</b>: \u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u044c\u0442\u0435 \u0432\u0441\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a:\\n\u2022 \u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043e \u043f\u0440\u0430\u0432\u0435 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u0437\u0435\u043c\u043b\u044e.\\n\u2022 \u0422\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u043b\u0430\u043d \u0437\u0434\u0430\u043d\u0438\u044f, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0449\u0438\u0439 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0435, \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u044b\u0435 \u0447\u0435\u0440\u0442\u0435\u0436\u0438.\\n\u2022 \u041e\u0446\u0435\u043d\u043a\u0430 \u0432\u043e\u0437\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043d\u0430 \u043e\u043a\u0440\u0443\u0436\u0430\u044e\u0449\u0443\u044e \u0441\u0440\u0435\u0434\u0443, \u0435\u0441\u043b\u0438 \u044d\u0442\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e (AMDAL \u0438\u043b\u0438 UKL/UPL).\\n\u2022 \u0421\u043e\u0433\u043b\u0430\u0441\u0438\u0435 \u0441\u043e\u0441\u0435\u0434\u0435\u0439 \u0438\u043b\u0438 \u043c\u0435\u0441\u0442... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:46", "name": "llm_service", "levelname": "INFO", "message": "Detected language: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:46", "name": "llm_service", "levelname": "INFO", "message": "Detected user language: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:46", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to English. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\n\u0441\u043e\u0437\u0434\u0430\u0439 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u043b\u0430\u043d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f BIM', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:46", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:47", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:43:46 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '284', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799930', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_7c5abe104100c2317d807830068d1953', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed57f3a0854c02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:47", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_7c5abe104100c2317d807830068d1953", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:47", "name": "llm_service", "levelname": "INFO", "message": "Translated text to English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:47", "name": "llm_service", "levelname": "INFO", "message": "Translated prompt from Russian to English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:47", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000242227D9E40>, 'json_data': {'input': [[4110, 264, 2262, 369, 264, 426, 1829, 8292, 3197, 13]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:47", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:48", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:43:47 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '117', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999989', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_d37760045b0c664a91b9bc6b284548fb', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed57f418b5dc02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:48", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_d37760045b0c664a91b9bc6b284548fb", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:48", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:48", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000242227DA020>, 'json_data': {'input': [[4110, 264, 2262, 369, 264, 426, 1829, 8292, 3197, 13]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:48", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:43:48 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '144', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999989', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_4e861ba1d97ba0a316b0bd4649cf9454', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed57f479db6c02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_4e861ba1d97ba0a316b0bd4649cf9454", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000242227DA020>, 'json_data': {'input': [[7497, 40, 35653, 57994, 198, 42674, 323, 16099, 2065, 315, 2038, 922, 720, 5957, 826, 323, 8431, 15009, 4375, 11, 2737, 720, 24177, 2038, 61966, 4194, 5462, 1829, 8, 4194, 2345, 8245, 720, 43573, 1701, 4857, 2038, 61966, 198, 5920, 220, 18, 25, 90396, 10474, 315, 279, 12032, 198, 7497, 4194, 965, 4194, 25141, 4194, 5162, 1135, 57064, 18, 25, 2366, 15]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:43:49 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '177', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999938', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_92e898cabacfa7040100f85911197840', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed57f4cdfabc02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_92e898cabacfa7040100f85911197840", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000242227DA020>, 'json_data': {'input': [[62619, 42674, 323, 16099, 2065, 315, 2038, 922, 720, 5957, 826, 323, 8431, 15009, 4375, 11, 2737, 4857, 720, 26125, 61966, 320, 33, 1829, 8, 4194, 2345, 8245, 6373, 720, 985, 4857, 2038, 61966, 4194, 2345, 198, 5920, 4194, 16, 25, 720, 45676, 82, 323, 16565, 198, 16, 197, 36020, 198, 2028, 2246, 50729, 279, 19476, 323, 16565, 369, 2038, 6373, 520, 264, 6566, 315, 48261, 720, 5919, 17890, 439, 1054, 24177, 2038, 61966, 320, 33, 1829, 8, 4184, 311, 279, 22705, 4194, 5162, 1135, 4101, 863, 627, 2028, 2246, 5825, 19075, 369, 264, 12914, 311, 10299, 2038, 2737, 720, 327, 52813, 11, 14975, 11, 2373, 287, 323, 35821, 369, 682, 20142, 627, 2028, 2246, 374, 8581, 311, 279, 4459, 2324, 11008, 315, 904, 5918, 9513, 11, 2737, 19092, 9293, 11, 720, 9613, 2955, 11, 15009, 11, 4500, 11, 9904, 323, 8246, 11, 1938, 4791, 114... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:43:49 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '109', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999528', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_f692524b6be242bbaffa196e7a7bbb54', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed57f4f6869c02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_f692524b6be242bbaffa196e7a7bbb54", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000242227DA020>, 'json_data': {'input': [[7497, 40, 35653, 57994, 198, 42674, 323, 16099, 2065, 315, 2038, 922, 720, 5957, 826, 323, 8431, 15009, 4375, 11, 2737, 720, 24177, 2038, 61966, 320, 33, 1829, 8, 482, 8245, 720, 43573, 1701, 4857, 2038, 61966, 198, 5920, 220, 16, 25, 76872, 323, 16565, 198, 7497, 4194, 965, 4194, 25141, 4194, 5162, 1135, 57064, 16, 25, 679, 23]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:51", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:43:50 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '289', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999940', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_ec086d139b25589ddf20f3e0e7a1a5c1', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed57f542a1cc02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:51", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_ec086d139b25589ddf20f3e0e7a1a5c1", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:51", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000242227DA020>, 'json_data': {'input': [[62619, 42674, 323, 16099, 2065, 315, 2038, 922, 720, 5957, 826, 323, 8431, 15009, 4375, 11, 2737, 4857, 720, 26125, 61966, 320, 33, 1829, 8, 4194, 2345, 8245, 6373, 720, 985, 4857, 2038, 61966, 4194, 2345, 198, 5920, 4194, 17, 25, 720, 39221, 10474, 315, 279, 12032, 198, 16, 197, 36020, 198, 2028, 2246, 30202, 8670, 369, 2038, 6373, 11, 304, 279, 1376, 315, 264, 6373, 720, 4734, 11, 2949, 279, 2317, 315, 279, 9889, 10474, 315, 12032, 323, 279, 30098, 315, 2038, 2949, 433, 11, 720, 985, 4857, 2038, 61966, 627, 2028, 2246, 649, 387, 9435, 311, 682, 4595, 315, 12032, 323, 555, 682, 4595, 323, 12562, 315, 11351, 11, 15851, 720, 1073, 279, 12146, 53678, 8446, 627, 17, 197, 20935, 1413, 15407, 198, 791, 2768, 9477, 527, 14183, 311, 304, 279, 1495, 304, 1778, 264, 1648, 430, 1063, 477, 682, 315, 872, 2262, 720, 104... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:51", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:52", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:43:51 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '98', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999560', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_69ff0bb8307aceb836fc103964630bbb', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed57f5aeccfc02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:52", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_69ff0bb8307aceb836fc103964630bbb", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:52", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If the user requests a calculation, try to execute it. If there is not enough initial data, use general values that apply in most cases. If it is not possible to use general values, request from the user the conditions needed to provide the calculation. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-05, 19:43:52. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retriev... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:52", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:43:57 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '5438', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '795345', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '349ms', 'x-request-id': 'req_c6dc22820ffc4711e3d00fd2b64e2cc6', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed57f602ecfc02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_c6dc22820ffc4711e3d00fd2b64e2cc6", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Russian. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\nCreating a content outline for a BIM (Building Information Modelling) implementation plan involves defining the key components and processes necessary for successful adoption and integration of BIM practices in a project. Below is a suggested content outline for a BIM implementation plan:\\n\\n1. **Introduction**\\n   - Purpose of the BIM Implementation Plan\\n   - Scope of the Plan\\n   - Overview of BIM in the Context of the Project\\n\\n2. **Project Information**\\n   - Project Description\\n   - Key Stakeholders and Their Roles\\n   - Project Goals and Objectives\\n\\n3. **BIM Goals and Uses**\\n   - Define BIM Goals for the Project\\n   - Identify Specific BIM Uses (e.g., design visualization, clash detection, quantity takeoff)\\n\\n4. **BIM Ex... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:43:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:44:10 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '13189', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799345', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '49ms', 'x-request-id': 'req_0fef24022f935f9d36f383a8b3ba3858', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed57f847c5bc02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_0fef24022f935f9d36f383a8b3ba3858", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:11", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:11", "name": "llm_service", "levelname": "INFO", "message": "Translated answer from English to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:11", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.8046634774081923, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:11", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:11", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Based on the following user prompt and your response, generate up to 3 follow-up questions that the user might ask next. Respond only with the list of questions, without any additional text.\\n\\nUser Prompt: Create a content for a BIM implementation plan.\\n\\nYour Response: Creating a content outline for a BIM (Building Information Modelling) implementation plan involves defining the key components and processes necessary for successful adoption and integration of BIM practices in a project. Below is a suggested content outline for a BIM implementation plan:\\n\\n1. **Introduction**\\n   - Purpose of the BIM Implementation Plan\\n   - Scope of the Plan\\n   - Overview of BIM in the Context of the Project\\n\\n2. **Project Information**\\n   - Project Description\\n   - Key Stakeholders and Their Roles\\n   - Project Goals and Objectives\\n\\n3. **BIM Goals and Uses**\\n   - Define BI... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:44:12 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1062', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799309', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '51ms', 'x-request-id': 'req_642c76c8c345473ff59b7d2dc5a8e78b', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed57fd8b820c02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_642c76c8c345473ff59b7d2dc5a8e78b", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:12", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['What are some common challenges faced during BIM implementation and how can they be addressed?', 'Can you provide examples of successful BIM implementation in similar projects?', 'How can we ensure effective collaboration among stakeholders in a BIM project?']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Russian. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\nWhat are some common challenges faced during BIM implementation and how can they be addressed?', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:44:13 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '794', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799925', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_1260a49f99cea0caaa987b16bf4542d9', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed57fe15c26c02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_1260a49f99cea0caaa987b16bf4542d9", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:14", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Russian. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\nCan you provide examples of successful BIM implementation in similar projects?', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:44:14 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '357', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799929', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_c4692782ef1aef4fa3d974c804f73197', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed57fe82e56c02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_c4692782ef1aef4fa3d974c804f73197", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:14", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Russian. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\nHow can we ensure effective collaboration among stakeholders in a BIM project?', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:44:14 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '500', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799929', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_b13bca306522583d3843f022ccd9c58e', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed57fec3f99c02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_b13bca306522583d3843f022ccd9c58e", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:15", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:15", "name": "llm_service", "levelname": "INFO", "message": "Translated suggestions from English to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:15", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044f \u043f\u043b\u0430\u043d\u0430 \u0432\u043d\u0435\u0434\u0440\u0435\u043d\u0438\u044f BIM (\u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u043c\u043e\u0434\u0435\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0437\u0434\u0430\u043d\u0438\u0439) \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0445 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432 \u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0445 \u0434\u043b\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0433\u043e \u043f\u0440\u0438\u043d\u044f\u0442\u0438\u044f \u0438 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 BIM-\u043f\u0440\u0430\u043a\u0442\u0438\u043a \u0432 \u043f\u0440\u043e\u0435\u043a\u0442. \u041d\u0438\u0436\u0435 \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442\u0441\u044f \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u043b\u0430\u043d\u0430 \u0432\u043d\u0435\u0434\u0440\u0435\u043d\u0438\u044f BIM:\\n\\n1. <b>\u0412\u0432\u0435\u0434\u0435\u043d\u0438\u0435</b>\\n\u2022 \u0426\u0435\u043b\u044c \u043f\u043b\u0430\u043d\u0430 \u0432\u043d\u0435\u0434\u0440\u0435\u043d\u0438\u044f BIM\\n\u2022 \u041e\u0431\u044a\u0435\u043c \u043f\u043b\u0430\u043d\u0430\\n\u2022 \u041e\u0431\u0437\u043e\u0440 BIM \u0432 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\\n\\n2. <b>\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0435</b>\\n\u2022 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\\n\u2022 \u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0437\u0430\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0441\u0442\u043e\u0440\u043e\u043d\u044b \u0438 \u0438\u0445 \u0440\u043e\u043b\u0438\\n\u2022 \u0426\u0435\u043b\u0438 \u0438 \u0437\u0430\u0434\u0430\u0447\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\\n\\n3. <b>\u0426\u0435\u043b\u0438 \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 BIM</b>\\n\u2022 \u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0446\u0435\u043b\u0435\u0439 BIM \u0434\u043b\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430\\n\u2022 \u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f BIM (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0432\u0438\u0437\u0443\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0434\u0438\u0437\u0430\u0439\u043d\u0430, \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u0438\u0435 \u043a\u043e\u043d\u0444\u043b\u0438\u043a\u0442\u043e\u0432, \u043f\u043e\u0434\u0441\u0447\u0435\u0442 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430)\\n\\n4. <b>\u041f\u0440\u043e\u0446\u0435\u0441\u0441 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f BIM</b>\\n\u2022 \u041a\u0430\u0440\u0442\u0430 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 BIM\\n\u2022 \u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u043a \u043e\u0431\u043c\u0435\u043d\u0443 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0435\u0439\\n\u2022 \u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438 \u0438 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0434\u043b\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u0447\u0435\u0441\u0442\u0432\u0430\\n\u2022 \u0421\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u0443\u0440\u043e\u0432\u043d\u044f \u0434\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 (LOD)\\n\\n5. <b>\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b \u0438 \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u044b BIM</b>\\n\u2022 \u041f\u0440\u0438\u043d\u044f\u0442\u044b\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b BIM (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, ISO 19650)\\n\u2022 ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:15", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:15", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='225120ba-7199-4636-ba10-46ae9ae13ebc'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:15", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:16", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:44:16", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:34", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 19:55:34", "last_active": "2024-12-05, 19:55:34", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 19:55:34", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:34", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:34", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:34", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=244732168, message='\u041f\u043e\u0441\u043e\u0432\u0435\u0442\u0443\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0434\u043b\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0441\u0440\u0435\u0434\u044b \u043e\u0431\u0449\u0438\u0445 \u0434\u0430\u043d\u043d\u044b\u0445'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:34", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x00000241C376BA70>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 16, 55, 33, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3268, supergroup_chat_created=False, text='\u041f\u043e\u0441\u043e\u0432\u0435\u0442\u0443\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0434\u043b\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0441\u0440\u0435\u0434\u044b \u043e\u0431\u0449\u0438\u0445 \u0434\u0430\u043d\u043d\u044b\u0445'), update_id=881194094), <telegram.ext._callbackcontext.CallbackContext object at 0x00000242298656A0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:34", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x00000241E90C6200>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:34", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='4b5c81fc-9c1a-4f6f-8e29-44eadfc44d34' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:34", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='4b5c81fc-9c1a-4f6f-8e29-44eadfc44d34'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:34", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:34", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x00000241E9086C30>, '\u041f\u043e\u0441\u043e\u0432\u0435\u0442\u0443\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0434\u043b\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0441\u0440\u0435\u0434\u044b \u043e\u0431\u0449\u0438\u0445 \u0434\u0430\u043d\u043d\u044b\u0445'), kwargs: {'chat_history': [HumanMessage(content='\u041f\u043e\u0441\u043e\u0432\u0435\u0442\u0443\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0434\u043b\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0441\u0440\u0435\u0434\u044b \u043e\u0431\u0449\u0438\u0445 \u0434\u0430\u043d\u043d\u044b\u0445', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u0441\u043e\u0437\u0434\u0430\u0439 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u043b\u0430\u043d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f BIM', additional_kwargs={}, response_metadata={}), AIMessage(content='\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044f \u043f\u043b\u0430\u043d\u0430 \u0432\u043d\u0435\u0434\u0440\u0435\u043d\u0438\u044f BIM (\u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u043c\u043e\u0434\u0435\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0437\u0434\u0430\u043d\u0438\u0439) \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0445 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432 \u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0445 \u0434\u043b\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0433\u043e \u043f\u0440\u0438\u043d\u044f\u0442\u0438\u044f \u0438 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 BIM-\u043f\u0440\u0430\u043a\u0442\u0438\u043a \u0432 \u043f\u0440\u043e\u0435\u043a\u0442. \u041d\u0438\u0436\u0435 \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442\u0441\u044f \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u043b\u0430\u043d\u0430 \u0432\u043d\u0435\u0434\u0440\u0435\u043d\u0438\u044f BIM:\\n\\n1. <b>\u0412\u0432\u0435\u0434\u0435\u043d\u0438\u0435</b>\\n\u2022 \u0426\u0435\u043b\u044c \u043f\u043b\u0430\u043d\u0430 \u0432\u043d\u0435\u0434\u0440\u0435\u043d\u0438\u044f BIM\\n\u2022 \u041e\u0431\u044a\u0435\u043c \u043f\u043b\u0430\u043d\u0430\\n\u2022 \u041e\u0431\u0437\u043e\u0440 BIM \u0432 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\\n\\n2. <b>\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0435</b>\\n\u2022 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\\n\u2022 \u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0437\u0430\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0441\u0442\u043e\u0440\u043e\u043d\u044b \u0438 \u0438\u0445 \u0440\u043e\u043b\u0438\\n\u2022 \u0426\u0435\u043b\u0438 \u0438 \u0437\u0430\u0434\u0430\u0447\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\\n\\n3. <b>\u0426\u0435\u043b\u0438 \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 BIM</b>\\n\u2022 \u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0446\u0435\u043b\u0435\u0439 BIM \u0434\u043b\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430\\n\u2022 ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:34", "name": "llm_service", "levelname": "INFO", "message": "Detected language: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:34", "name": "llm_service", "levelname": "INFO", "message": "Detected user language: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:34", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to English. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\n\u041f\u043e\u0441\u043e\u0432\u0435\u0442\u0443\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0434\u043b\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0441\u0440\u0435\u0434\u044b \u043e\u0431\u0449\u0438\u0445 \u0434\u0430\u043d\u043d\u044b\u0445', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:34", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:35", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:55:35 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '715', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799924', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_40703c349a851d14c58cef349d62fa35', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=MXx1Bj9S95XHh8x2paRRctXbDhKYxaSFEtuvNwQbrUg-1733417735-1.0.1.1-.HEmuIObazz3glaM2few72ZCAbm6JMq0xu1YJDrJ4j3W6DXISYsf4i5L_cEat27BSGp5KmafzIS.g25sqB44cQ; path=/; expires=Thu, 05-Dec-24 17:25:35 GMT; domain=.api.open... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:35", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_40703c349a851d14c58cef349d62fa35", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:35", "name": "llm_service", "levelname": "INFO", "message": "Translated text to English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:35", "name": "llm_service", "levelname": "INFO", "message": "Translated prompt from Russian to English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:35", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000241E94C63E0>, 'json_data': {'input': [[68744, 264, 1887, 369, 35821, 264, 4279, 828, 4676, 13]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:35", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:55:35 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '75', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999989', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_2347c56d24ec01bea84870aba514f1b6', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=BnrlFOT6s4O3xmzwxPKBFTiHgA5qxYqrWMQiro5lvdM-1733417735-1.0.1.1-nrapouNouZUU2_hKjR2faPtpCG_KugGLW2ROcBetsXybfcxr6ef.BIuoRjJdax149YrkOZtwnuiSC... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_2347c56d24ec01bea84870aba514f1b6", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:36", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000241E94C63E0>, 'json_data': {'input': [[68744, 264, 1887, 369, 35821, 264, 4279, 828, 4676, 13]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:55:36 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '67', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999990', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_b8590bbf7e893a53440bdd4a56910646', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed590911b65effc-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_b8590bbf7e893a53440bdd4a56910646", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000241E94C63E0>, 'json_data': {'input': [[62619, 25141, 4194, 5162, 1135, 57064, 18, 25, 2366, 15, 198, 28892, 4194, 17, 1602, 17430, 5070, 649, 2997, 20506, 369, 2038, 8066, 311, 10299, 279, 2038, 720, 43573, 1920, 5196, 320, 2000, 3187, 264, 7491, 2038, 9889, 3197, 705, 20506, 369, 2038, 720, 40499, 320, 2000, 3187, 828, 7437, 477, 9477, 705, 1742, 20797, 477, 1665, 20797, 627, 20, 13, 16, 13, 24, 1602, 69320, 279, 4279, 828, 4676, 198, 791, 9732, 287, 4717, 4985, 5813, 279, 4279, 828, 4676, 320, 34, 1170, 8, 304, 18859, 449, 720, 25141, 4194, 5162, 1135, 57064, 16, 25, 679, 23, 11, 56897, 220, 717, 13, 1115, 4985, 387, 264, 10824, 315, 29388, 323, 2038, 5942, 10105, 11, 720, 998, 1862, 279, 2038, 6373, 1920, 369, 279, 9513, 1161, 4390, 791, 356, 1170, 4985, 7431, 512, 64, 8, 1602, 9739, 2038, 5593, 311, 617, 264, 5016, 3110, 11, 3196, 389, 459, 7... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:55:36 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '82', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999412', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '7ms', 'x-request-id': 'req_f8e4fb9cfaf62190fa496ed2e3c6f2e9', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed590935caeeffc-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_f8e4fb9cfaf62190fa496ed2e3c6f2e9", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000241E94C63E0>, 'json_data': {'input': [[62619, 25141, 220, 5162, 1135, 12, 17, 25, 679, 23, 10953, 340, 791, 2447, 753, 4279, 828, 4676, 4985, 7431, 512, 64, 8, 197, 1855, 2038, 5593, 311, 617, 264, 5016, 3110, 11, 3196, 5304, 459, 7378, 323, 27470, 21977, 720, 884, 652, 4147, 315, 5151, 19180, 555, 264, 30120, 280, 65, 8, 197, 1855, 2115, 311, 387, 12893, 264, 907, 505, 459, 7378, 323, 27470, 20950, 2461, 5410, 280, 66, 8, 1602, 9739, 2038, 5593, 311, 617, 279, 2768, 8365, 12893, 512, 2345, 197, 2704, 320, 73140, 2968, 317, 2345, 197, 24493, 280, 2345, 197, 24790, 320, 258, 18859, 449, 279, 12914, 4613, 304, 22705, 220, 4364, 2705, 12, 17, 317, 67, 8, 197, 279, 5845, 369, 2038, 24794, 311, 9320, 1990, 5415, 280, 68, 8, 197, 279, 14975, 315, 279, 836, 315, 1217, 323, 2457, 994, 2038, 5593, 54862, 9320, 720, 42967, 1855, 1614, 26, 323, 198, 69, 8, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:55:36 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '75', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999471', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '6ms', 'x-request-id': 'req_c5849c815eaf260779862ce9a12b536b', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed590957deaeffc-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_c5849c815eaf260779862ce9a12b536b", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000241E94C63E0>, 'json_data': {'input': [[62619, 25141, 220, 5162, 1135, 12, 16, 25, 679, 23, 10953, 340, 791, 4459, 2038, 1646, 374, 539, 2744, 5762, 304, 832, 2035, 11, 8104, 369, 3544, 477, 6485, 12032, 477, 720, 17602, 11, 477, 13882, 77810, 7411, 13, 8245, 5593, 6108, 40806, 3318, 6276, 369, 356, 1170, 720, 57349, 311, 387, 4332, 4028, 2204, 6500, 6067, 477, 5557, 15771, 627, 791, 22934, 315, 48810, 1778, 264, 356, 1170, 6425, 323, 29388, 2997, 512, 2345, 197, 12014, 369, 279, 2038, 2949, 1855, 2038, 5593, 8625, 449, 279, 7471, 720, 9210, 9124, 433, 11, 323, 8051, 433, 374, 6222, 323, 69843, 1193, 430, 7471, 374, 5535, 311, 2349, 720, 1820, 8970, 280, 2345, 197, 6222, 2038, 24794, 8108, 279, 892, 323, 2853, 304, 17843, 47672, 2038, 26, 323, 198, 2345, 197, 264, 2539, 25261, 9025, 315, 2038, 5788, 374, 2561, 369, 1005, 2391, 323, 1306, 1855, 244... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:55:37 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '128', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999609', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '4ms', 'x-request-id': 'req_13ddec30f0374ec7515690a0592e7284', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed59097ef73effc-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_13ddec30f0374ec7515690a0592e7284", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000241E94C63E0>, 'json_data': {'input': [[62619, 25141, 4194, 5162, 1135, 57064, 18, 25, 2366, 15, 198, 28892, 4194, 16, 1602, 791, 87868, 649, 387, 5762, 4028, 904, 10824, 315, 502, 323, 6484, 20790, 6067, 3984, 430, 720, 45010, 527, 36001, 10815, 323, 279, 8970, 315, 279, 87868, 527, 14400, 1701, 279, 4279, 828, 4676, 720, 3100, 1170, 8, 29388, 7633, 304, 22705, 4194, 5162, 1135, 57064, 16, 627, 28892, 4194, 17, 1602, 3947, 527, 1690, 5627, 315, 6968, 323, 2080, 1711, 279, 87868, 13, 1115, 2246, 1587, 539, 14158, 477, 864, 866, 720, 1820, 1005, 315, 4040, 5942, 14645, 11, 3984, 430, 1778, 14645, 1862, 279, 356, 1170, 29388, 627, 20, 13, 16, 13, 717, 197, 40498, 11618, 311, 10519, 279, 87868, 198, 791, 9732, 287, 4717, 4985, 5813, 477, 1833, 6484, 14791, 11618, 311, 10519, 279, 87868, 369, 439, 720, 4930, 439, 374, 8475, 13, 4314, 4985, 2997, 11618... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:55:37 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '79', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999354', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '7ms', 'x-request-id': 'req_0946c0ce3ec62cb18593a5842fa17b6f', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed5909a58fdeffc-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_0946c0ce3ec62cb18593a5842fa17b6f", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If the user requests a calculation, try to execute it. If there is not enough initial data, use general values that apply in most cases. If it is not possible to use general values, request from the user the conditions needed to provide the calculation. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-05, 19:55:38. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retriev... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:42", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:55:42 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '4059', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '793464', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '490ms', 'x-request-id': 'req_270e9afd8ce7183d918ef21b979e10ee', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed5909cd872bea7-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:42", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_270e9afd8ce7183d918ef21b979e10ee", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:42", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"Translate the following text to Russian. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\nWhen selecting a system for organizing a Common Data Environment (CDE), it's important to consider solutions that offer robust features for managing and sharing project information efficiently. Here are some recommended systems that are commonly used in the industry:\\n\\n1. **Autodesk BIM 360**:\\n   - Provides cloud-based collaboration and data management for construction projects.\\n   - Offers tools for document management, design collaboration, and project management.\\n\\n2. **Bentley ProjectWise**:\\n   - Supports design and project collaboration with a focus on engineering projects.\\n   - Enables document management, design integration, and secure data sharing.\\n\\n3. **Trimble Connect**:\\n   - Facilitates collaboration across the de... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:42", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:55:54 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '12284', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799522', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '35ms', 'x-request-id': 'req_f0c36edd547e93b0dffcbf1efa7f6a8a', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed590b8cc37bea7-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_f0c36edd547e93b0dffcbf1efa7f6a8a", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:55", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:55", "name": "llm_service", "levelname": "INFO", "message": "Translated answer from English to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:55", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.8167128447159306, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:55", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:55", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"Based on the following user prompt and your response, generate up to 3 follow-up questions that the user might ask next. Respond only with the list of questions, without any additional text.\\n\\nUser Prompt: Recommend a system for organizing a common data environment.\\n\\nYour Response: When selecting a system for organizing a Common Data Environment (CDE), it's important to consider solutions that offer robust features for managing and sharing project information efficiently. Here are some recommended systems that are commonly used in the industry:\\n\\n1. **Autodesk BIM 360**:\\n   - Provides cloud-based collaboration and data management for construction projects.\\n   - Offers tools for document management, design collaboration, and project management.\\n\\n2. **Bentley ProjectWise**:\\n   - Supports design and project collaboration with a focus on engineering projects.\\n   ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:56", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:55:56 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1025', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799483', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '38ms', 'x-request-id': 'req_dafc23030499e4c9b75c1a453d761adb', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed591077ac2bea7-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:56", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_dafc23030499e4c9b75c1a453d761adb", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:56", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['How do I evaluate which Common Data Environment system is best for my specific project needs?', 'What are the key differences between Autodesk BIM 360 and Bentley ProjectWise?', 'Can you explain how Trimble Connect facilitates collaboration during the operation phase of a project?']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:56", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Russian. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\nHow do I evaluate which Common Data Environment system is best for my specific project needs?', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:56", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:55:57 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '622', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799925', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_a9fd024db36297722fadddd5b186d97b', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed5910fd888bea7-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_a9fd024db36297722fadddd5b186d97b", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:57", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Russian. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\nWhat are the key differences between Autodesk BIM 360 and Bentley ProjectWise?', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:55:57 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '530', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799929', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_b976c678996daeed16200039d147ebd2', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed59115ac21bea7-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_b976c678996daeed16200039d147ebd2", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:58", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Russian. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\nCan you explain how Trimble Connect facilitates collaboration during the operation phase of a project?', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:55:58 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '611', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799923', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_f53ba5086d176d14300408a1e3e0bf1c', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed5911aefbbbea7-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_f53ba5086d176d14300408a1e3e0bf1c", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:59", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:59", "name": "llm_service", "levelname": "INFO", "message": "Translated suggestions from English to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:59", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u041f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0434\u043b\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0415\u0434\u0438\u043d\u043e\u0439 \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0439 \u0421\u0440\u0435\u0434\u044b (CDE) \u0432\u0430\u0436\u043d\u043e \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u0440\u0435\u0448\u0435\u043d\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u044e\u0442 \u043d\u0430\u0434\u0435\u0436\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0434\u043b\u044f \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0433\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0438 \u043e\u0431\u043c\u0435\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0435\u0439 \u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0435. \u0412\u043e\u0442 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0447\u0430\u0441\u0442\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u0432 \u043e\u0442\u0440\u0430\u0441\u043b\u0438:\\n\\n1. <b>Autodesk BIM 360</b>:\\n\u2022 \u041e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u043e\u0431\u043b\u0430\u0447\u043d\u043e\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432.\\n\u2022 \u041f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043c\u0438, \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b \u043d\u0430\u0434 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u043c\u0438 \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u043c\u0438.\\n\\n2. <b>Bentley ProjectWise</b>:\\n\u2022 \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u043f\u0440\u043e\u0435\u043a\u0442\u043d\u043e\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441 \u0430\u043a\u0446\u0435\u043d\u0442\u043e\u043c \u043d\u0430 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u044b\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u044b.\\n\u2022 \u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043c\u0438, \u0438\u043d\u0442\u0435\u0433\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e \u043e\u0431\u043c\u0435\u043d\u0438\u0432\u0430\u0442\u044c\u0441\u044f \u0434\u0430\u043d\u043d\u044b\u043c\u0438.\\n\\n3. <b>Trimble Connect</b>:\\n\u2022 \u0421\u043f\u043e\u0441\u043e\u0431\u0441\u0442\u0432\u0443\u0435\u0442 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u0447\u0435\u0441\u0442\u0432\u0443 \u043d\u0430 \u044d\u0442\u0430\u043f\u0430\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f, \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0438 \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438.\\n\u2022 \u041f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0443 \u0434\u043b\u044f \u043e\u0431\u043c\u0435\u043d\u0430 \u043c\u043e\u0434\u0435\u043b\u044f\u043c\u0438, \u0447\u0435\u0440\u0442\u0435\u0436\u0430\u043c\u0438 \u0438 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0435\u0439 \u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0435.\\n\\n4. <b>Aconex \u043e\u0442 Oracle</b>:\\n\u2022 \u0428\u0438\u0440\u043e\u043a\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:59", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:59", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='4b5c81fc-9c1a-4f6f-8e29-44eadfc44d34'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:55:59", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:56:00", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:56:00", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:09", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-05, 19:57:09", "last_active": "2024-12-05, 19:57:09", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-05 19:57:09", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:09", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:09", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:09", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='suggestion:suggestion_1'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:09", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_inline_buttons with args: (<handlers.BotHandlers object at 0x00000241C376BA70>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='suggestion:suggestion_1', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116660692014687', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 5, 16, 55, 59, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=16, offset=271, type=<MessageEntityType.BOLD>), MessageEntity(length=19, offset=489, type=<MessageEntityType.BOLD>), MessageEntity(length=15, offset=686, type=<MessageEntityType.BOLD>), MessageEntity(length=16, offset=872, type=<MessageEntityType.BOLD>), MessageEntity(length=5, offset=1073, type=<MessageEntityType.BOLD>), MessageEntity(length=7, offset=1255, type=<Messa... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:09", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_inline_buttons with result: <coroutine object BotHandlers.handle_inline_buttons at 0x00000241E8F16D60>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:10", "name": "handlers", "levelname": "INFO", "message": "User_id=244732168 clicked on suggestion '\u041a\u0430\u043a\u043e\u0432\u044b \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0440\u0430\u0437\u043b\u0438\u0447\u0438\u044f \u043c\u0435\u0436\u0434\u0443 Autodesk BIM 360 \u0438 Bentley ProjectWise?'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:10", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='35335e7a-dbe7-460e-a473-3ae20cfeecdf' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:10", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='35335e7a-dbe7-460e-a473-3ae20cfeecdf'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:10", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:10", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x00000241E9086C30>, '\u041a\u0430\u043a\u043e\u0432\u044b \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0440\u0430\u0437\u043b\u0438\u0447\u0438\u044f \u043c\u0435\u0436\u0434\u0443 Autodesk BIM 360 \u0438 Bentley ProjectWise?'), kwargs: {'chat_history': [HumanMessage(content='\u041a\u0430\u043a\u043e\u0432\u044b \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0440\u0430\u0437\u043b\u0438\u0447\u0438\u044f \u043c\u0435\u0436\u0434\u0443 Autodesk BIM 360 \u0438 Bentley ProjectWise?', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u041f\u043e\u0441\u043e\u0432\u0435\u0442\u0443\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0434\u043b\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0441\u0440\u0435\u0434\u044b \u043e\u0431\u0449\u0438\u0445 \u0434\u0430\u043d\u043d\u044b\u0445', additional_kwargs={}, response_metadata={}), AIMessage(content='\u041f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0434\u043b\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0415\u0434\u0438\u043d\u043e\u0439 \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0439 \u0421\u0440\u0435\u0434\u044b (CDE) \u0432\u0430\u0436\u043d\u043e \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u0440\u0435\u0448\u0435\u043d\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u044e\u0442 \u043d\u0430\u0434\u0435\u0436\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0434\u043b\u044f \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0433\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0438 \u043e\u0431\u043c\u0435\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0435\u0439 \u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0435. \u0412\u043e\u0442 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0447\u0430\u0441\u0442\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u0432 \u043e\u0442\u0440\u0430\u0441\u043b\u0438:\\n\\n1. <b>Autodesk BIM 360</b>:\\n\u2022 \u041e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u043e\u0431\u043b\u0430\u0447\u043d\u043e\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432.\\n\u2022 \u041f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043c\u0438, \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b \u043d\u0430\u0434 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u043c\u0438 \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u043c\u0438.\\n\\n2. <b>Bentley P... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:10", "name": "llm_service", "levelname": "INFO", "message": "Detected language: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:10", "name": "llm_service", "levelname": "INFO", "message": "Detected user language: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:10", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to English. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\n\u041a\u0430\u043a\u043e\u0432\u044b \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0440\u0430\u0437\u043b\u0438\u0447\u0438\u044f \u043c\u0435\u0436\u0434\u0443 Autodesk BIM 360 \u0438 Bentley ProjectWise?', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:10", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:57:11 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '689', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799924', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_6be07d3e982560fb8344c91131569883', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed592df8f2be783-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_6be07d3e982560fb8344c91131569883", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:11", "name": "llm_service", "levelname": "INFO", "message": "Translated text to English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:11", "name": "llm_service", "levelname": "INFO", "message": "Translated prompt from Russian to English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000242227D9D00>, 'json_data': {'input': [[3923, 527, 279, 1401, 12062, 1990, 91335, 426, 1829, 220, 6843, 323, 74520, 5907, 54, 1082, 30]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:57:11 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '115', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999983', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_64f07c76f4b2304c829cb26f7a5d2163', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed592e60ee3ee26-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_64f07c76f4b2304c829cb26f7a5d2163", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:12", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000242227D9F80>, 'json_data': {'input': [[3923, 527, 279, 1401, 12062, 1990, 91335, 426, 1829, 220, 6843, 323, 74520, 5907, 54, 1082, 30]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:57:12 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '123', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999982', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_b5aea19cab2d3dfd6007872ec3a74e56', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed592e84a37ee26-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_b5aea19cab2d3dfd6007872ec3a74e56", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000242227D9F80>, 'json_data': {'input': [[7497, 40, 35653, 57994, 198, 42674, 323, 16099, 2065, 315, 2038, 922, 720, 5957, 826, 323, 8431, 15009, 4375, 11, 2737, 720, 24177, 2038, 61966, 4194, 5462, 1829, 8, 4194, 2345, 8245, 720, 43573, 1701, 4857, 2038, 61966, 198, 5920, 220, 18, 25, 90396, 10474, 315, 279, 12032, 198, 7497, 4194, 965, 4194, 25141, 4194, 5162, 1135, 57064, 18, 25, 2366, 15]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:57:12 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '78', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999937', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_997deb760d38b288644af3f355194b43', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed592ea9dd5ee26-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_997deb760d38b288644af3f355194b43", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000242227D9F80>, 'json_data': {'input': [[62619, 42674, 323, 16099, 2065, 315, 2038, 922, 720, 5957, 826, 323, 8431, 15009, 4375, 11, 2737, 4857, 720, 26125, 61966, 320, 33, 1829, 8, 4194, 2345, 8245, 6373, 720, 985, 4857, 2038, 61966, 4194, 2345, 198, 5920, 4194, 16, 25, 720, 45676, 82, 323, 16565, 198, 16, 197, 36020, 198, 2028, 2246, 50729, 279, 19476, 323, 16565, 369, 2038, 6373, 520, 264, 6566, 315, 48261, 720, 5919, 17890, 439, 1054, 24177, 2038, 61966, 320, 33, 1829, 8, 4184, 311, 279, 22705, 4194, 5162, 1135, 4101, 863, 627, 2028, 2246, 5825, 19075, 369, 264, 12914, 311, 10299, 2038, 2737, 720, 327, 52813, 11, 14975, 11, 2373, 287, 323, 35821, 369, 682, 20142, 627, 2028, 2246, 374, 8581, 311, 279, 4459, 2324, 11008, 315, 904, 5918, 9513, 11, 2737, 19092, 9293, 11, 720, 9613, 2955, 11, 15009, 11, 4500, 11, 9904, 323, 8246, 11, 1938, 4791, 114... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:57:12 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '63', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999528', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_99327f278a0bf80f4d8567ae84d4678e', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed592ecc8eaee26-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_99327f278a0bf80f4d8567ae84d4678e", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000242227D9F80>, 'json_data': {'input': [[42674, 323, 16099, 2065, 315, 720, 26125, 922, 14016, 323, 8431, 720, 99015, 4375, 11, 2737, 4857, 720, 26125, 61966, 320, 33, 1829, 8, 4194, 2345, 720, 15218, 6373, 1701, 720, 24177, 2038, 61966, 4194, 2345, 198, 5920, 4194, 19, 25, 720, 15218, 9473, 198, 24105, 8082, 1880, 1661, 978, 6091, 367, 951, 44827, 29658, 10253, 720, 65, 64272, 12843, 1880, 6033, 19456, 1154, 409, 78422, 648, 8431, 11, 379, 13550, 285, 1491, 19010, 8082, 951, 720, 41540, 811, 409, 1208, 8246, 320, 33, 1829, 8, 4194, 2345, 480, 43598, 409, 326, 529, 26125, 1370, 720, 4355, 1491, 19010, 8082, 951, 44827, 409, 1208, 8246, 4194, 2345, 198, 5920, 648, 4194, 19, 25, 29124, 3455, 294, 529, 41540, 811, 198, 43904, 40685, 720, 790, 39735, 198, 25141, 720, 5162, 1135, 12, 19, 198, 5451, 14002, 720, 2366, 17, 12, 2318, 198, 9032, 1396, 720, 2... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:57:13 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '152', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999769', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_83f323fc4233e212479b09d6c674d36b', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed592ef0c90ee26-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_83f323fc4233e212479b09d6c674d36b", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000242227D9F80>, 'json_data': {'input': [[62619, 25141, 220, 5162, 1135, 12, 20, 25, 2366, 15, 10953, 340, 38255, 198, 791, 5918, 4676, 374, 25051, 264, 4261, 315, 11295, 15740, 13, 1102, 374, 30199, 430, 279, 25375, 720, 1073, 4857, 2038, 61966, 320, 33, 1829, 8, 323, 279, 7859, 1005, 315, 7528, 14645, 304, 279, 2955, 11, 720, 48297, 11, 30847, 11, 5784, 323, 6373, 315, 12032, 477, 3956, 11, 439, 1664, 439, 279, 17575, 720, 1073, 3600, 11, 2949, 279, 5918, 4676, 690, 617, 264, 87435, 2515, 389, 279, 9875, 6532, 13, 1102, 720, 285, 4461, 430, 311, 5376, 27375, 323, 15374, 11, 28271, 477, 7224, 430, 527, 11469, 502, 720, 5271, 477, 10105, 11, 477, 47141, 477, 18646, 6484, 6305, 11, 2011, 3719, 810, 40806, 304, 7138, 13, 720, 21365, 20632, 7612, 810, 18300, 11, 1825, 5627, 315, 3318, 11, 323, 11, 439, 1790, 439, 3284, 11, 279, 720, 29228, 11821, 323, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:57:13 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '83', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999203', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '9ms', 'x-request-id': 'req_144907d376ff937422233a1b63225592', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed592f249ccee26-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_144907d376ff937422233a1b63225592", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If the user requests a calculation, try to execute it. If there is not enough initial data, use general values that apply in most cases. If it is not possible to use general values, request from the user the conditions needed to provide the calculation. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-05, 19:57:14. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retriev... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:21", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:57:20 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '6493', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '794157', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '438ms', 'x-request-id': 'req_465004b0e76e0928a8c73422e76d9f11', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed592f4784fe783-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:21", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_465004b0e76e0928a8c73422e76d9f11", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:21", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"Translate the following text to Russian. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\nAutodesk BIM 360 and Bentley ProjectWise are both popular platforms used in the architecture, engineering, and construction (AEC) industry for project collaboration and data management, but they have distinct differences in their features and focus areas:\\n\\n1. **Purpose and Focus**:\\n   - **Autodesk BIM 360**: Primarily focused on providing a unified platform for project delivery, BIM 360 offers tools for design collaboration, document management, and construction management. It's widely used for its cloud-based capabilities that facilitate real-time collaboration and coordination among stakeholders during the construction phase.\\n   - **Bentley ProjectWise**: Focuses more on engineering project collaboration, particularly for infra... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:21", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:33", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:57:32 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '11935', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799270', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '54ms', 'x-request-id': 'req_11180ea9c1cdd28f2ae596391b730774', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed5931f9f6ee783-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:33", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_11180ea9c1cdd28f2ae596391b730774", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:33", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:33", "name": "llm_service", "levelname": "INFO", "message": "Translated answer from English to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:33", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.779054497266316, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:33", "name": "llm_service", "levelname": "DEBUG", "message": "Similarity threshold not met. Returning answer without references.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:33", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:33", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"Based on the following user prompt and your response, generate up to 3 follow-up questions that the user might ask next. Respond only with the list of questions, without any additional text.\\n\\nUser Prompt: What are the key differences between Autodesk BIM 360 and Bentley ProjectWise?\\n\\nYour Response: Autodesk BIM 360 and Bentley ProjectWise are both popular platforms used in the architecture, engineering, and construction (AEC) industry for project collaboration and data management, but they have distinct differences in their features and focus areas:\\n\\n1. **Purpose and Focus**:\\n   - **Autodesk BIM 360**: Primarily focused on providing a unified platform for project delivery, BIM 360 offers tools for design collaboration, document management, and construction management. It's widely used for its cloud-based capabilities that facilitate real-time collaboration and c... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:33", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:35", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:57:34 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1496', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799225', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '58ms', 'x-request-id': 'req_c95b90fe8173ab27392535ab5df26bcb', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed5936c29b1e783-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:35", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_c95b90fe8173ab27392535ab5df26bcb", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:35", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['How does the pricing structure of Autodesk BIM 360 compare to Bentley ProjectWise?', 'What are some common use cases for Autodesk BIM 360 and Bentley ProjectWise?', 'Can Autodesk BIM 360 and Bentley ProjectWise be used together on a single project?']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:35", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Russian. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\nHow does the pricing structure of Autodesk BIM 360 compare to Bentley ProjectWise?', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:35", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:57:35 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '598', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799928', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_f5f402c651d91352beea2e50a8fbcc37', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed593777a47e783-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_f5f402c651d91352beea2e50a8fbcc37", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:36", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Russian. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\nWhat are some common use cases for Autodesk BIM 360 and Bentley ProjectWise?', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:57:36 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '650', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799930', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_903281535df1ae06554ce6d34152119b', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed5937d4b09e783-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_903281535df1ae06554ce6d34152119b", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:37", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'Translate the following text to Russian. Respond only with the translated text and do not include any explanations or comments.\\n\\nText:\\nCan Autodesk BIM 360 and Bentley ProjectWise be used together on a single project?', 'role': 'user'}], 'model': 'gpt-4o', 'n': 1, 'stream': False, 'temperature': 0.7}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Thu, 05 Dec 2024 16:57:37 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '509', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799928', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_3c2c9c9e9758606e3ee53477511b3115', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ed593833b69e783-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_3c2c9c9e9758606e3ee53477511b3115", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:37", "name": "llm_service", "levelname": "INFO", "message": "Translated text to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:37", "name": "llm_service", "levelname": "INFO", "message": "Translated suggestions from English to Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:37", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('Autodesk BIM 360 \u0438 Bentley ProjectWise \u2014 \u044d\u0442\u043e \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u044b, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0435 \u0432 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u043e\u0439, \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u043e\u0439 \u0438 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 (AEC) \u0438\u043d\u0434\u0443\u0441\u0442\u0440\u0438\u0438 \u0434\u043b\u044f \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b \u043d\u0430\u0434 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u043c\u0438 \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u043c\u0438, \u043d\u043e \u043e\u043d\u0438 \u0438\u043c\u0435\u044e\u0442 \u044f\u0432\u043d\u044b\u0435 \u0440\u0430\u0437\u043b\u0438\u0447\u0438\u044f \u0432 \u0441\u0432\u043e\u0438\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u044f\u0445 \u0438 \u043e\u0431\u043b\u0430\u0441\u0442\u044f\u0445 \u0444\u043e\u043a\u0443\u0441\u0430:\\n\\n1. <b>\u0426\u0435\u043b\u044c \u0438 \u0424\u043e\u043a\u0443\u0441</b>:\\n\u2022 <b>Autodesk BIM 360</b>: \u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u0443\u0434\u0435\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044e \u0435\u0434\u0438\u043d\u043e\u0439 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u044b \u0434\u043b\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432. BIM 360 \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0434\u043b\u044f \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b \u043d\u0430\u0434 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u043c\u0438, \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043c\u0438 \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e\u043c. \u041e\u043d \u0448\u0438\u0440\u043e\u043a\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0431\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f \u0441\u0432\u043e\u0438\u043c \u043e\u0431\u043b\u0430\u0447\u043d\u044b\u043c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044f\u043c, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043e\u0431\u043b\u0435\u0433\u0447\u0430\u044e\u0442 \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u043d\u0443\u044e \u0440\u0430\u0431\u043e\u0442\u0443 \u0438 \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0446\u0438\u044e \u0432 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u043c \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0441\u0440\u0435\u0434\u0438 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432 \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430.\\n\u2022 <b>Bentley ProjectWise</b>: \u0411\u043e\u043b\u044c\u0448\u0435 \u043e\u0440\u0438\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d \u043d\u0430 \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u043d\u0443\u044e \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u044b\u043c\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u043c\u0438, \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e \u0434\u043b\u044f \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u043d\u044b\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432. \u0418\u0437\u0432\u0435\u0441\u0442\u0435\u043d \u0441\u0432\u043e\u0435\u0439 \u0441\u0438\u043b\u044c\u043d\u043e\u0439 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0435\u0439 \u0441 \u043d\u0430\u0431\u043e\u0440\u043e\u043c \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432 Bentley \u0438 \u0447\u0430\u0441\u0442\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u043b\u043e\u0436\u043d\u044b\u043c\u0438 \u0438\u043d\u0436\u0435... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:37", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:37", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='35335e7a-dbe7-460e-a473-3ae20cfeecdf'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:37", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:38", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-05 19:57:39", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
