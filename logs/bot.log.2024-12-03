{"asctime": "2024-12-03 06:14:48", "name": "decorators", "levelname": "DEBUG", "message": "Initialized DatabaseService for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:48", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:48", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:49", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:49", "name": "decorators", "levelname": "DEBUG", "message": "Initialized LLMService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:49", "name": "decorators", "levelname": "DEBUG", "message": "Set user_id: 244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:49", "name": "decorators", "levelname": "DEBUG", "message": "Set user_name: Andrey", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:49", "name": "decorators", "levelname": "DEBUG", "message": "Set language_code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:49", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:50", "name": "decorators", "levelname": "WARNING", "message": "Documents not indexed for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:53", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:53", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:53", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:53", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:53", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x000002219DB71160>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 3, 14, 53, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2863, supergroup_chat_created=False, text='/knowledge_base'), update_id=881193859), <telegram.ext._callbackcontext.CallbackContext object at 0x00000221C301D860>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:53", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x00000221C2EDF9A0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:54", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:54", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:55", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:55", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:55", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:55", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:55", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_knowledge_base with args: (<handlers.BotHandlers object at 0x000002219DB71160>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116659290878616', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 3, 14, 53, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=2864, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', text='\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'),), (InlineKeyboardButton(callback_data='set_knowledge:Indonesian Regulations', text='Indonesian Regulations'),)... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:55", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_knowledge_base with result: <coroutine object BotHandlers.set_knowledge_base at 0x00000221C2CDB5E0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:56", "name": "handlers", "levelname": "DEBUG", "message": "Set folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:56", "name": "handlers", "levelname": "DEBUG", "message": "Found 28 valid files in folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:56", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_and_index_documents with args: (<llm_service.LLMService object at 0x00000221C312D5B0>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:56", "name": "llm_service", "levelname": "DEBUG", "message": "Starting load_and_index_documents for folder_path='E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:56", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_vector_store with args: (<llm_service.LLMService object at 0x00000221C312D5B0>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:56", "name": "faiss.loader", "levelname": "DEBUG", "message": "Environment variable FAISS_OPT_LEVEL is not set, so let's pick the instruction set according to the current CPU", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:56", "name": "faiss.loader", "levelname": "INFO", "message": "Loading faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:56", "name": "faiss.loader", "levelname": "INFO", "message": "Successfully loaded faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:56", "name": "llm_service", "levelname": "INFO", "message": "Loaded vector store from E:\\knowledge_base\\russian_regulations\\vector_store", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:56", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_vector_store with result: True", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:56", "name": "llm_service", "levelname": "INFO", "message": "Vector store loaded from existing files in 'E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:56", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_and_index_documents with result: (True, 'Vector store loaded from existing files.')", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:56", "name": "handlers", "levelname": "INFO", "message": "Knowledge base '\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b' set successfully for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 06:14:56", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:00", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": null}
{"asctime": "2024-12-03 09:17:01", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": null}
{"asctime": "2024-12-03 09:17:02", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-5"}
{"asctime": "2024-12-03 09:17:02", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-5"}
{"asctime": "2024-12-03 09:17:02", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-5"}
{"asctime": "2024-12-03 09:17:18", "name": "decorators", "levelname": "DEBUG", "message": "Initialized DatabaseService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:19", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:19", "name": "decorators", "levelname": "DEBUG", "message": "Initialized LLMService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:19", "name": "decorators", "levelname": "DEBUG", "message": "Set user_id: 244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:19", "name": "decorators", "levelname": "DEBUG", "message": "Set user_name: Andrey", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:19", "name": "decorators", "levelname": "DEBUG", "message": "Set language_code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:19", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:19", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:19", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x0000021D79571160>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 6, 17, 18, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2866, supergroup_chat_created=False, text='/start'), update_id=881193861), <telegram.ext._callbackcontext.CallbackContext object at 0x0000021D1ECA5240>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:19", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x0000021D1EB13A70>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:19", "name": "handlers", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:20", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:20", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:22", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:22", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:22", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:22", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:22", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x0000021D79571160>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 6, 17, 21, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2868, supergroup_chat_created=False, text='/knowledge_base'), update_id=881193862), <telegram.ext._callbackcontext.CallbackContext object at 0x0000021D1ECA6430>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:22", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x0000021D1EB136E0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:22", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:22", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:26", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:26", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:26", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:26", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:26", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_knowledge_base with args: (<handlers.BotHandlers object at 0x0000021D79571160>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116660025138630', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 6, 17, 22, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=2869, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', text='\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'),), (InlineKeyboardButton(callback_data='set_knowledge:Indonesian Regulations', text='Indonesian Regulations'),)... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:26", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_knowledge_base with result: <coroutine object BotHandlers.set_knowledge_base at 0x0000021D1EBE5E70>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:26", "name": "handlers", "levelname": "DEBUG", "message": "Set folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:26", "name": "handlers", "levelname": "DEBUG", "message": "Found 28 valid files in folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:26", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_and_index_documents with args: (<llm_service.LLMService object at 0x0000021D1EB01490>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:26", "name": "llm_service", "levelname": "DEBUG", "message": "Starting load_and_index_documents for folder_path='E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:26", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_vector_store with args: (<llm_service.LLMService object at 0x0000021D1EB01490>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:26", "name": "faiss.loader", "levelname": "DEBUG", "message": "Environment variable FAISS_OPT_LEVEL is not set, so let's pick the instruction set according to the current CPU", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:26", "name": "faiss.loader", "levelname": "INFO", "message": "Loading faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:26", "name": "faiss.loader", "levelname": "INFO", "message": "Successfully loaded faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:26", "name": "llm_service", "levelname": "INFO", "message": "Loaded vector store from E:\\knowledge_base\\russian_regulations\\vector_store", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:26", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_vector_store with result: True", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:26", "name": "llm_service", "levelname": "INFO", "message": "Vector store loaded from existing files in 'E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:26", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_and_index_documents with result: (True, 'Vector store loaded from existing files.')", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:27", "name": "handlers", "levelname": "INFO", "message": "Knowledge base '\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b' set successfully for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:27", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:30", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:30", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:31", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:31", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/status'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:31", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: status with args: (<handlers.BotHandlers object at 0x0000021D79571160>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 6, 17, 30, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=7, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2871, supergroup_chat_created=False, text='/status'), update_id=881193864), <telegram.ext._callbackcontext.CallbackContext object at 0x0000021D1ECA6430>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:31", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: status with result: <coroutine object BotHandlers.status at 0x0000021D1EB1B370>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:34", "name": "llm_service", "levelname": "INFO", "message": "Empty content on page 7 of document '\u0418\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u043e \u0433\u0435\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0438\u0437\u044b\u0441\u043a\u0430\u043d\u0438\u044f_\u0421\u041f 446.1325800.2019 .pdf'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:36", "name": "llm_service", "levelname": "INFO", "message": "Empty content on page 86 of document '\u041d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438 \u0432\u043e\u0437\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f_\u0421\u041f 20.13330.2016.pdf'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:36", "name": "llm_service", "levelname": "INFO", "message": "Empty content on page 1 of document '\u041d\u0435\u0441\u0443\u0449\u0438\u0435_\u0438_\u043e\u0433\u0440\u0430\u0436\u0434\u0430\u044e\u0449\u0438\u0435_\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438_\u0421\u041f_70_13330_2012.pdf'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:40", "name": "handlers", "levelname": "INFO", "message": "Provided status to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:17:40", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:40:58", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": null}
{"asctime": "2024-12-03 09:40:58", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": null}
{"asctime": "2024-12-03 09:40:59", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-5"}
{"asctime": "2024-12-03 09:40:59", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-5"}
{"asctime": "2024-12-03 09:40:59", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-5"}
{"asctime": "2024-12-03 09:43:04", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": null}
{"asctime": "2024-12-03 09:43:05", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": null}
{"asctime": "2024-12-03 09:43:05", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-5"}
{"asctime": "2024-12-03 09:43:06", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-5"}
{"asctime": "2024-12-03 09:43:06", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-5"}
{"asctime": "2024-12-03 09:43:29", "name": "decorators", "levelname": "DEBUG", "message": "Initialized DatabaseService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:30", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:30", "name": "decorators", "levelname": "DEBUG", "message": "Initialized LLMService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:30", "name": "decorators", "levelname": "DEBUG", "message": "Set user_id: 244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:30", "name": "decorators", "levelname": "DEBUG", "message": "Set user_name: Andrey", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:30", "name": "decorators", "levelname": "DEBUG", "message": "Set language_code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:30", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:30", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:30", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x000001966C7144D0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 6, 43, 28, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2873, supergroup_chat_created=False, text='/start'), update_id=881193865), <telegram.ext._callbackcontext.CallbackContext object at 0x0000019611D2B5B0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:30", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x0000019611BD7E00>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:30", "name": "handlers", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:30", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:31", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:33", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:33", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:33", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:33", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:33", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x000001966C7144D0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 6, 43, 32, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2875, supergroup_chat_created=False, text='/knowledge_base'), update_id=881193866), <telegram.ext._callbackcontext.CallbackContext object at 0x0000019611D2B850>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:33", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x0000019611BD70F0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:33", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:33", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:35", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:35", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:35", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:35", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:35", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_knowledge_base with args: (<handlers.BotHandlers object at 0x000001966C7144D0>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116661594814150', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 6, 43, 33, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=2876, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', text='\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'),), (InlineKeyboardButton(callback_data='set_knowledge:Indonesian Regulations', text='Indonesian Regulations'),)... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:35", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_knowledge_base with result: <coroutine object BotHandlers.set_knowledge_base at 0x0000019611CA5FE0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:35", "name": "handlers", "levelname": "DEBUG", "message": "Set folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:35", "name": "handlers", "levelname": "DEBUG", "message": "Found 28 valid files in folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:35", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_and_index_documents with args: (<llm_service.LLMService object at 0x0000019611E89E20>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:35", "name": "llm_service", "levelname": "DEBUG", "message": "Starting load_and_index_documents for folder_path='E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:35", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_vector_store with args: (<llm_service.LLMService object at 0x0000019611E89E20>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:35", "name": "faiss.loader", "levelname": "DEBUG", "message": "Environment variable FAISS_OPT_LEVEL is not set, so let's pick the instruction set according to the current CPU", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:35", "name": "faiss.loader", "levelname": "INFO", "message": "Loading faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:35", "name": "faiss.loader", "levelname": "INFO", "message": "Successfully loaded faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:35", "name": "llm_service", "levelname": "INFO", "message": "Loaded vector store from E:\\knowledge_base\\russian_regulations\\vector_store", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:35", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_vector_store with result: True", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:35", "name": "llm_service", "levelname": "INFO", "message": "Vector store loaded from existing files in 'E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:35", "name": "llm_service", "levelname": "ERROR", "message": "Error during load_and_index_documents: 'FAISS' object has no attribute 'index_to_documents'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:35", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_and_index_documents with result: (False, \"'FAISS' object has no attribute 'index_to_documents'\")", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:35", "name": "handlers", "levelname": "ERROR", "message": "Error during load_and_index_documents: 'FAISS' object has no attribute 'index_to_documents'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:43:36", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:57:59", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": null}
{"asctime": "2024-12-03 09:58:00", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": null}
{"asctime": "2024-12-03 09:58:00", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-5"}
{"asctime": "2024-12-03 09:58:01", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-5"}
{"asctime": "2024-12-03 09:58:01", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-5"}
{"asctime": "2024-12-03 09:58:07", "name": "decorators", "levelname": "DEBUG", "message": "Initialized DatabaseService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:08", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:08", "name": "decorators", "levelname": "DEBUG", "message": "Initialized LLMService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:08", "name": "decorators", "levelname": "DEBUG", "message": "Set user_id: 244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:08", "name": "decorators", "levelname": "DEBUG", "message": "Set user_name: Andrey", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:08", "name": "decorators", "levelname": "DEBUG", "message": "Set language_code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:08", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:08", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:08", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x0000012B2D2144D0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 6, 58, 7, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2878, supergroup_chat_created=False, text='/start'), update_id=881193868), <telegram.ext._callbackcontext.CallbackContext object at 0x0000012B527577E0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:08", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x0000012B525B7810>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:08", "name": "handlers", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:09", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:09", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:12", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:12", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:12", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:12", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:12", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x0000012B2D2144D0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 6, 58, 11, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2880, supergroup_chat_created=False, text='/knowledge_base'), update_id=881193869), <telegram.ext._callbackcontext.CallbackContext object at 0x0000012B52755C50>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:12", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x0000012B525B7A70>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:12", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:12", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:14", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:14", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:14", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:14", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:14", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_knowledge_base with args: (<handlers.BotHandlers object at 0x0000012B2D2144D0>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116661123795627', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 6, 58, 12, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=2881, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', text='\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'),), (InlineKeyboardButton(callback_data='set_knowledge:Indonesian Regulations', text='Indonesian Regulations'),)... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:14", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_knowledge_base with result: <coroutine object BotHandlers.set_knowledge_base at 0x0000012B5267A150>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:14", "name": "handlers", "levelname": "DEBUG", "message": "Set folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:14", "name": "handlers", "levelname": "DEBUG", "message": "Found 28 valid files in folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:14", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_and_index_documents with args: (<llm_service.LLMService object at 0x0000012B527846E0>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:14", "name": "llm_service", "levelname": "DEBUG", "message": "Starting load_and_index_documents for folder_path='E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:14", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_vector_store with args: (<llm_service.LLMService object at 0x0000012B527846E0>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:14", "name": "faiss.loader", "levelname": "DEBUG", "message": "Environment variable FAISS_OPT_LEVEL is not set, so let's pick the instruction set according to the current CPU", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:14", "name": "faiss.loader", "levelname": "INFO", "message": "Loading faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:14", "name": "faiss.loader", "levelname": "INFO", "message": "Successfully loaded faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:14", "name": "llm_service", "levelname": "INFO", "message": "Loaded vector store from E:\\knowledge_base\\russian_regulations\\vector_store", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:14", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_vector_store with result: True", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:14", "name": "llm_service", "levelname": "INFO", "message": "Vector store loaded from existing files in 'E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:14", "name": "llm_service", "levelname": "INFO", "message": "Using cached documents list for knowledge base '\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:14", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_and_index_documents with result: (True, 'Vector store loaded from existing files.')", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:14", "name": "handlers", "levelname": "INFO", "message": "Knowledge base '\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b' set successfully for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:14", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:17", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:18", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:18", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:18", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/status'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:18", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: status with args: (<handlers.BotHandlers object at 0x0000012B2D2144D0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 6, 58, 17, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=7, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2883, supergroup_chat_created=False, text='/status'), update_id=881193871), <telegram.ext._callbackcontext.CallbackContext object at 0x0000012B52757AF0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:18", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: status with result: <coroutine object BotHandlers.status at 0x0000012B525BF370>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:21", "name": "llm_service", "levelname": "INFO", "message": "Empty content on page 7 of document '\u0418\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u043e \u0433\u0435\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0438\u0437\u044b\u0441\u043a\u0430\u043d\u0438\u044f_\u0421\u041f 446.1325800.2019 .pdf'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:22", "name": "llm_service", "levelname": "INFO", "message": "Empty content on page 86 of document '\u041d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438 \u0432\u043e\u0437\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f_\u0421\u041f 20.13330.2016.pdf'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:22", "name": "llm_service", "levelname": "INFO", "message": "Empty content on page 1 of document '\u041d\u0435\u0441\u0443\u0449\u0438\u0435_\u0438_\u043e\u0433\u0440\u0430\u0436\u0434\u0430\u044e\u0449\u0438\u0435_\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438_\u0421\u041f_70_13330_2012.pdf'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:26", "name": "handlers", "levelname": "INFO", "message": "Provided status to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 09:58:26", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:03:18", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": null}
{"asctime": "2024-12-03 10:04:53", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": null}
{"asctime": "2024-12-03 10:04:53", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": null}
{"asctime": "2024-12-03 10:04:54", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-5"}
{"asctime": "2024-12-03 10:04:54", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-5"}
{"asctime": "2024-12-03 10:04:55", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-5"}
{"asctime": "2024-12-03 10:05:03", "name": "decorators", "levelname": "DEBUG", "message": "Initialized DatabaseService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:04", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:04", "name": "decorators", "levelname": "DEBUG", "message": "Initialized LLMService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:04", "name": "decorators", "levelname": "DEBUG", "message": "Set user_id: 244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:04", "name": "decorators", "levelname": "DEBUG", "message": "Set user_name: Andrey", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:04", "name": "decorators", "levelname": "DEBUG", "message": "Set language_code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:04", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:04", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:04", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x0000022399D68350>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 7, 5, 2, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2885, supergroup_chat_created=False, text='/start'), update_id=881193872), <telegram.ext._callbackcontext.CallbackContext object at 0x000002239B1373F0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:04", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x000002239AFA3810>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:04", "name": "handlers", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:05", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:05", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:08", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:08", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:08", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x0000022399D68350>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 7, 5, 7, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2887, supergroup_chat_created=False, text='/start'), update_id=881193873), <telegram.ext._callbackcontext.CallbackContext object at 0x000002239B135860>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:08", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x000002239AFA3810>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:08", "name": "handlers", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:08", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:08", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:10", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:10", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:10", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:10", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/language'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:10", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: language with args: (<handlers.BotHandlers object at 0x0000022399D68350>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 7, 5, 10, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=9, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2889, supergroup_chat_created=False, text='/language'), update_id=881193874), <telegram.ext._callbackcontext.CallbackContext object at 0x000002239B1373F0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:10", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: language with result: <coroutine object BotHandlers.language at 0x000002239B0D8260>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:11", "name": "handlers", "levelname": "INFO", "message": "Prompted language selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:11", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:13", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:13", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:14", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:14", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_language:Russian'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:14", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_language with args: (<handlers.BotHandlers object at 0x0000022399D68350>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_language:Russian', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116661895698370', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 7, 5, 10, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=2890, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_language:English', text='English'),), (InlineKeyboardButton(callback_data='set_language:Russian', text='\u0420\u0443\u0441\u0441\u043a\u0438\u0439'),), (InlineKeyboardButton(callback_data='set_language:Indonesian', text='Indonesi... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:14", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_language with result: <coroutine object BotHandlers.set_language at 0x000002239AFA3A70>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:14", "name": "handlers", "levelname": "DEBUG", "message": "Updated language to 'Russian' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:14", "name": "handlers", "levelname": "INFO", "message": "User_id=244732168 set language to 'Russian'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:14", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:17", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:17", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:17", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:17", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/status'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:17", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: status with args: (<handlers.BotHandlers object at 0x0000022399D68350>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 7, 5, 17, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=7, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2892, supergroup_chat_created=False, text='/status'), update_id=881193876), <telegram.ext._callbackcontext.CallbackContext object at 0x000002239B137D20>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:17", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: status with result: <coroutine object BotHandlers.status at 0x000002239AFAB370>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:18", "name": "handlers", "levelname": "INFO", "message": "Provided status to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:18", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:22", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:22", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:22", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:22", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:22", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x0000022399D68350>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 7, 5, 22, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2894, supergroup_chat_created=False, text='/knowledge_base'), update_id=881193877), <telegram.ext._callbackcontext.CallbackContext object at 0x000002239B1379A0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:22", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x000002239AFBB880>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:23", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:23", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:24", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:24", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:24", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:24", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:24", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_knowledge_base with args: (<handlers.BotHandlers object at 0x0000022399D68350>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116658329831076', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 7, 5, 22, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=2895, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', text='\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'),), (InlineKeyboardButton(callback_data='set_knowledge:Indonesian Regulations', text='Indonesian Regulations'),),... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:24", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_knowledge_base with result: <coroutine object BotHandlers.set_knowledge_base at 0x000002239ADBB8A0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:25", "name": "handlers", "levelname": "DEBUG", "message": "Set folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:25", "name": "handlers", "levelname": "DEBUG", "message": "Found 28 valid files in folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:25", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_and_index_documents with args: (<llm_service.LLMService object at 0x000002239B1758E0>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:25", "name": "llm_service", "levelname": "DEBUG", "message": "Starting load_and_index_documents for folder_path='E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:25", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_vector_store with args: (<llm_service.LLMService object at 0x000002239B1758E0>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:25", "name": "faiss.loader", "levelname": "DEBUG", "message": "Environment variable FAISS_OPT_LEVEL is not set, so let's pick the instruction set according to the current CPU", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:25", "name": "faiss.loader", "levelname": "INFO", "message": "Loading faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:25", "name": "faiss.loader", "levelname": "INFO", "message": "Successfully loaded faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:25", "name": "llm_service", "levelname": "INFO", "message": "Loaded vector store from E:\\knowledge_base\\russian_regulations\\vector_store", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:25", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_vector_store with result: True", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:25", "name": "llm_service", "levelname": "INFO", "message": "Vector store loaded from existing files in 'E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:25", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_and_index_documents with result: (True, 'Vector store loaded from existing files.')", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:25", "name": "handlers", "levelname": "INFO", "message": "Knowledge base '\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b' set successfully for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:25", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:28", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:28", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:28", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:28", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/status'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:28", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: status with args: (<handlers.BotHandlers object at 0x0000022399D68350>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 7, 5, 27, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=7, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2897, supergroup_chat_created=False, text='/status'), update_id=881193879), <telegram.ext._callbackcontext.CallbackContext object at 0x000002239B137D20>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:28", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: status with result: <coroutine object BotHandlers.status at 0x000002239AFAAB90>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:32", "name": "llm_service", "levelname": "INFO", "message": "Empty content on page 7 of document '\u0418\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u043e \u0433\u0435\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0438\u0437\u044b\u0441\u043a\u0430\u043d\u0438\u044f_\u0421\u041f 446.1325800.2019 .pdf'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:33", "name": "llm_service", "levelname": "INFO", "message": "Empty content on page 86 of document '\u041d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438 \u0432\u043e\u0437\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f_\u0421\u041f 20.13330.2016.pdf'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:33", "name": "llm_service", "levelname": "INFO", "message": "Empty content on page 1 of document '\u041d\u0435\u0441\u0443\u0449\u0438\u0435_\u0438_\u043e\u0433\u0440\u0430\u0436\u0434\u0430\u044e\u0449\u0438\u0435_\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438_\u0421\u041f_70_13330_2012.pdf'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:36", "name": "handlers", "levelname": "INFO", "message": "Provided status to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 10:05:37", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:28:53", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": null}
{"asctime": "2024-12-03 11:35:31", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": null}
{"asctime": "2024-12-03 11:37:57", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": null}
{"asctime": "2024-12-03 11:37:58", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": null}
{"asctime": "2024-12-03 11:37:59", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-5"}
{"asctime": "2024-12-03 11:37:59", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-5"}
{"asctime": "2024-12-03 11:37:59", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-5"}
{"asctime": "2024-12-03 11:38:08", "name": "decorators", "levelname": "DEBUG", "message": "Initialized DatabaseService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:09", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:09", "name": "decorators", "levelname": "DEBUG", "message": "Initialized LLMService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:09", "name": "decorators", "levelname": "DEBUG", "message": "Set user_id: 244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:09", "name": "decorators", "levelname": "DEBUG", "message": "Set user_name: Andrey", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:09", "name": "decorators", "levelname": "DEBUG", "message": "Set language_code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:10", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:10", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:10", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x0000016828EC11F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 8, 38, 8, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2899, supergroup_chat_created=False, text='/start'), update_id=881193880), <telegram.ext._callbackcontext.CallbackContext object at 0x000001684E44B690>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:10", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x000001684E5D5540>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:10", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:10", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:16", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully for user_id=244732168.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:16", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:17", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:17", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:17", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/language'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:17", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: language with args: (<handlers.BotHandlers object at 0x0000016828EC11F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 8, 38, 16, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=9, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2901, supergroup_chat_created=False, text='/language'), update_id=881193881), <telegram.ext._callbackcontext.CallbackContext object at 0x000001684E449EF0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:17", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: language with result: <coroutine object BotHandlers.language at 0x000001684E570F20>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:18", "name": "handlers", "levelname": "INFO", "message": "Prompted language selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:18", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:19", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully for user_id=244732168.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:19", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:19", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:20", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:20", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_language:Russian'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:20", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_language with args: (<handlers.BotHandlers object at 0x0000016828EC11F0>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_language:Russian', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116659951991229', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 8, 38, 17, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=2902, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_language:English', text='English'),), (InlineKeyboardButton(callback_data='set_language:Russian', text='\u0420\u0443\u0441\u0441\u043a\u0438\u0439'),), (InlineKeyboardButton(callback_data='set_language:Indonesian', text='Indones... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:20", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_language with result: <coroutine object BotHandlers.set_language at 0x000001684E2F7E00>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:20", "name": "handlers", "levelname": "DEBUG", "message": "Updated language to 'Russian' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:20", "name": "handlers", "levelname": "INFO", "message": "User_id=244732168 set language to 'Russian'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:20", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:30", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully for user_id=244732168.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:30", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:30", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:31", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:31", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/status'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:31", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: status with args: (<handlers.BotHandlers object at 0x0000016828EC11F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 8, 38, 30, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=7, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2904, supergroup_chat_created=False, text='/status'), update_id=881193883), <telegram.ext._callbackcontext.CallbackContext object at 0x000001684E600440>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:31", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: status with result: <coroutine object BotHandlers.status at 0x000001684E2FB0D0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:31", "name": "handlers", "levelname": "INFO", "message": "Provided status to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:31", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:33", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully for user_id=244732168.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:33", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:33", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:33", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:33", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:33", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x0000016828EC11F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 8, 38, 32, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2906, supergroup_chat_created=False, text='/knowledge_base'), update_id=881193884), <telegram.ext._callbackcontext.CallbackContext object at 0x000001684E44B690>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:33", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x000001684E317520>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:33", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:33", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:35", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully for user_id=244732168.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:35", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:35", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:35", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:35", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:35", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_knowledge_base with args: (<handlers.BotHandlers object at 0x0000016828EC11F0>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116660616138372', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 8, 38, 33, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=2907, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', text='\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'),), (InlineKeyboardButton(callback_data='set_knowledge:Indonesian Regulations', text='Indonesian Regulations'),)... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:35", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_knowledge_base with result: <coroutine object BotHandlers.set_knowledge_base at 0x000001684D14B1C0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:35", "name": "handlers", "levelname": "DEBUG", "message": "Set folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:35", "name": "handlers", "levelname": "DEBUG", "message": "Found 28 valid files in folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:35", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_and_index_documents with args: (<llm_service.LLMService object at 0x000001684E4696A0>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:35", "name": "llm_service", "levelname": "DEBUG", "message": "Starting load_and_index_documents for folder_path='E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:35", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_vector_store with args: (<llm_service.LLMService object at 0x000001684E4696A0>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:35", "name": "faiss.loader", "levelname": "DEBUG", "message": "Environment variable FAISS_OPT_LEVEL is not set, so let's pick the instruction set according to the current CPU", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:35", "name": "faiss.loader", "levelname": "INFO", "message": "Loading faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:35", "name": "faiss.loader", "levelname": "INFO", "message": "Successfully loaded faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:35", "name": "llm_service", "levelname": "INFO", "message": "Loaded vector store from E:\\knowledge_base\\russian_regulations\\vector_store", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:35", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_vector_store with result: True", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:35", "name": "llm_service", "levelname": "INFO", "message": "Vector store loaded from existing files in 'E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:35", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_and_index_documents with result: (True, 'Vector store loaded from existing files.')", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:36", "name": "handlers", "levelname": "INFO", "message": "Knowledge base '\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b' set successfully for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:36", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:39", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully for user_id=244732168.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:39", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:39", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:40", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:40", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/status'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:40", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: status with args: (<handlers.BotHandlers object at 0x0000016828EC11F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 8, 38, 39, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=7, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2909, supergroup_chat_created=False, text='/status'), update_id=881193886), <telegram.ext._callbackcontext.CallbackContext object at 0x000001684E44B690>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:40", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: status with result: <coroutine object BotHandlers.status at 0x000001684E2FA8F0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:43", "name": "llm_service", "levelname": "INFO", "message": "Empty content on page 7 of document '\u0418\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u043e \u0433\u0435\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0438\u0437\u044b\u0441\u043a\u0430\u043d\u0438\u044f_\u0421\u041f 446.1325800.2019 .pdf'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:44", "name": "llm_service", "levelname": "INFO", "message": "Empty content on page 86 of document '\u041d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438 \u0432\u043e\u0437\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f_\u0421\u041f 20.13330.2016.pdf'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:44", "name": "llm_service", "levelname": "INFO", "message": "Empty content on page 1 of document '\u041d\u0435\u0441\u0443\u0449\u0438\u0435_\u0438_\u043e\u0433\u0440\u0430\u0436\u0434\u0430\u044e\u0449\u0438\u0435_\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438_\u0421\u041f_70_13330_2012.pdf'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:48", "name": "handlers", "levelname": "INFO", "message": "Provided status to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:38:48", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:52", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully for user_id=244732168.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:52", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:53", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:53", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:53", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=244732168, message='\u043a\u0430\u043a \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u044c \u0431\u0430\u043d\u044e \u0438\u0437 \u0431\u0440\u0443\u0441\u0430'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:53", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x0000016828EC11F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 8, 39, 52, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2911, supergroup_chat_created=False, text='\u043a\u0430\u043a \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u044c \u0431\u0430\u043d\u044e \u0438\u0437 \u0431\u0440\u0443\u0441\u0430'), update_id=881193887), <telegram.ext._callbackcontext.CallbackContext object at 0x000001684EA3D400>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:53", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x000001684EAD0B80>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:53", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='96e4a84a-0c53-4965-8a30-332d89040083' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:53", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='96e4a84a-0c53-4965-8a30-332d89040083'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:53", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:53", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x000001684E4696A0>, '\u043a\u0430\u043a \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u044c \u0431\u0430\u043d\u044e \u0438\u0437 \u0431\u0440\u0443\u0441\u0430'), kwargs: {'chat_history': [HumanMessage(content='\u043a\u0430\u043a \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u044c \u0431\u0430\u043d\u044e \u0438\u0437 \u0431\u0440\u0443\u0441\u0430', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u041a\u0430\u043a\u0438\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0442 \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438 \u0438 \u043c\u0435\u0442\u043e\u0434\u044b \u0434\u043b\u044f \u043f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u044f \u044d\u043d\u0435\u0440\u0433\u043e\u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438 \u0436\u0438\u043b\u043e\u0433\u043e \u0434\u043e\u043c\u0430?', additional_kwargs={}, response_metadata={}), AIMessage(content='\u041a\u0430\u043a\u0438\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0442 \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438 \u0438 \u043c\u0435\u0442\u043e\u0434\u044b \u0434\u043b\u044f \u043f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u044f \u044d\u043d\u0435\u0440\u0433\u043e\u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438 \u0436\u0438\u043b\u043e\u0433\u043e \u0434\u043e\u043c\u0430?\\n-----------\\n\u0421\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438 \u0438 \u043c\u0435\u0442\u043e\u0434\u044b \u043f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u044f \u044d\u043d\u0435\u0440\u0433\u043e\u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438 \u0436\u0438\u043b\u043e\u0433\u043e \u0434\u043e\u043c\u0430 \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0442 \u0432 \u0441\u0435\u0431\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044b \u0438 \u0440\u0435\u0448\u0435\u043d\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u043c\u043e\u0433\u0430\u044e\u0442 \u0441\u043d\u0438\u0437\u0438\u0442\u044c \u044d\u043d\u0435\u0440\u0433\u043e\u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u0435 \u0438 \u0443\u043b\u0443\u0447\u0448\u0438\u0442\u044c \u043a\u043e\u043c\u0444\u043e\u0440\u0442 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f. \u0412\u043e\u0442 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u0437 \u043d\u0438\u0445:\\n\\n1. <b>\u0412\u044b\u0441\u043e\u043a\u043e\u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0442\u0435\u043f\u043b\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b</b>: \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0442\u0435\u043f\u043b\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u043e\u0432 \u0434\u043b\u044f \u0441\u0442\u0435\u043d, \u043a\u0440\u044b\u0448\u0438 \u0438 \u0444\u0443\u043d\u0434\u0430\u043c\u0435\u043d\u0442\u0430 \u043f\u043e\u043c\u043e\u0433\u0430\u0435\u0442 \u043c\u0438\u043d\u0438\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u0435\u043f\u043b\u043e\u043f\u043e\u0442\u0435\u0440\u0438.\\n\\n2. <b>\u042d\u043d\u0435\u0440\u0433\u043e\u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u043e\u043a\u043d\u0430 \u0438 \u0434\u0432\u0435\u0440\u0438</b>: \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001689ED1B1A0>, 'json_data': {'input': [[4898, 16248, 14257, 1830, 67124, 3114, 18264, 14391, 7486, 12182, 23934, 14391, 20346, 2297, 1506]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers([('date', 'Tue, 03 Dec 2024 08:39:54 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-allow-origin', '*'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-model', 'text-embedding-ada-002'), ('openai-organization', 'nuanu-wimbwa'), ('openai-processing-ms', '38'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '5000000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '4999985'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', 'req_5a315dbabf543a5132f66fdc53206c95'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=DydGFwIP9leh1vKXXbLBUdqAwOewHwBpqxm9PMWkbJc-1733215194-1.0.1.1-sn9e.ZKJj4vBMtlRYzdhRv2ZA_iC0NT6L5oX5r... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_5a315dbabf543a5132f66fdc53206c95", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:55", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001684CD41BC0>, 'json_data': {'input': [[4898, 16248, 14257, 1830, 67124, 3114, 18264, 14391, 7486, 12182, 23934, 14391, 20346, 2297, 1506]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:56", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 08:39:55 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '107', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999985', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_e637796c061b3be21a8f0c3c9b51d704', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec23fb72e819185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:56", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_e637796c061b3be21a8f0c3c9b51d704", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:56", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001684CD41BC0>, 'json_data': {'input': [[19871, 17279, 220, 19633, 13, 9413, 18216, 15, 13, 2366, 17, 33006, 914, 33006, 717, 13, 868, 720, 17279, 31203, 720, 8164, 2233, 16494, 5372, 84198, 720, 4898, 3114, 1532, 5372, 22885, 720, 7094, 7753, 33742, 4329, 2156, 39900, 720, 10124, 20346, 2297, 1506, 720, 41036, 13404, 73181, 720, 8164, 44075, 44155, 6578, 8131, 2233, 28089, 18482, 7740, 68214, 35667, 18482, 5927, 41291, 30656, 1532, 11562, 7753, 29256, 31203, 4329, 23311, 4329, 18154, 57925, 1482, 61955, 9882, 12182, 73385, 720, 13337, 14257, 5591, 3114, 38657, 2156, 18999, 5927, 41291, 10589, 94520, 1532, 45658, 35682, 18999, 7740, 11047, 35682, 33793, 9239, 67589, 39280, 11, 21022, 50945, 59138, 20879, 720, 6148, 2233, 32985, 64134, 39900, 21477, 2297, 3865, 12426, 28089, 39280, 37405, 45658, 35682, 84198, 5927, 5524, 3865, 10693, 44867, 92878, 2... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:56", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 08:39:56 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '96', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999050', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '11ms', 'x-request-id': 'req_ba6f7c0154cd5a5dc13ebb6949db4cb6', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec23fbdeb239185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_ba6f7c0154cd5a5dc13ebb6949db4cb6", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001684CD41BC0>, 'json_data': {'input': [[74598, 96256, 1506, 220, 3753, 23934, 220, 14815, 33006, 3865, 77911, 20812, 12507, 22918, 1532, 40842, 14837, 2233, 33742, 1506, 13, 39903, 2233, 9882, 20346, 90457, 44938, 96573, 7753, 1840, 16331, 11, 40842, 18226, 32062, 35723, 5927, 11047, 20346, 10124, 3865, 11, 19175, 56449, 5372, 48835, 8341, 4929, 720, 64134, 9136, 3114, 63233, 44216, 4929, 33742, 7740, 7820, 44155, 90877, 26539, 4929, 40590, 13, 720, 65014, 13, 22, 720, 17279, 23630, 3114, 1532, 720, 41873, 15752, 13337, 6856, 62776, 720, 63873, 5372, 720, 14525, 720, 8164, 6856, 7753, 10693, 68742, 720, 15752, 20346, 2156, 44613, 720, 2233, 15298, 12507, 5372, 7094, 3865, 50819, 720, 3865, 82941, 18264, 720, 1830, 67124, 39865, 41873, 7975, 1840, 20346, 90457, 44938, 35875, 16742, 13, 720, 65014, 13, 23, 39903, 14009, 14391, 23297, 8164, 2233, 671... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 08:39:57 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '140', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999245', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '9ms', 'x-request-id': 'req_282c9323dcc7c59b3b01c623e2a4f114', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec23fc4ffc79185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_282c9323dcc7c59b3b01c623e2a4f114", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001684CD41BC0>, 'json_data': {'input': [[19871, 17279, 220, 19633, 13, 9413, 18216, 15, 13, 2366, 17, 33006, 2148, 33006, 720, 17279, 31203, 82941, 17618, 64571, 720, 39091, 45194, 4655, 44946, 14476, 9542, 4655, 18034, 18437, 23680, 1506, 23934, 48446, 1532, 5372, 63233, 7952, 7753, 33742, 4329, 2156, 44786, 14391, 20346, 2297, 4929, 33742, 720, 27435, 17766, 79370, 15458, 17766, 44858, 44946, 14476, 9542, 1506, 720, 93899, 26503, 720, 4898, 17766, 79370, 15458, 17766, 39988, 720, 9136, 1506, 14476, 9542, 4655, 720, 4235, 720, 2297, 23446, 17394, 17618, 720, 7094, 1482, 720, 6578, 19479, 16494, 40211, 1506, 720, 2297, 29256, 31203, 4898, 23630, 47805, 18999, 5927, 3114, 34493, 1840, 5524, 96034, 7753, 10693, 13999, 6735, 4329, 64880, 23934, 48446, 1532, 5372, 22885, 14391, 20346, 2297, 1506, 13, 67891, 18437, 23680, 93129, 73181, 720, 9136, 1506, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:58", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 08:39:59 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '144', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998775', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '14ms', 'x-request-id': 'req_68647e6c3291bf9bb7eed9785480145c', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec23fcb7bed9185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_68647e6c3291bf9bb7eed9785480145c", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001689ED1BC40>, 'json_data': {'input': [[19871, 17279, 220, 20571, 13, 9413, 18216, 15, 13, 2366, 17, 33006, 777, 33006, 33006, 34604, 13810, 35297, 15088, 220, 22, 13, 16, 1389, 59842, 77911, 20812, 1482, 12561, 9239, 32985, 21708, 78757, 7820, 24697, 7753, 39988, 5524, 3865, 12426, 4898, 16742, 14391, 20346, 2297, 4929, 33742, 33006, 22, 13, 16, 13, 22, 720, 54745, 1482, 19916, 1840, 11320, 24803, 28241, 1532, 720, 10124, 20346, 2297, 4929, 4329, 720, 41873, 15752, 13337, 18226, 11320, 94538, 70129, 720, 8164, 1482, 720, 7094, 92533, 24697, 720, 41873, 15752, 13337, 6856, 9542, 12394, 21708, 14391, 20346, 2297, 4929, 33742, 5524, 11562, 50436, 5591, 5372, 10589, 6856, 4655, 64880, 5173, 19188, 50807, 39479, 91216, 39988, 54261, 4655, 11, 21022, 50945, 59138, 5524, 720, 95570, 3114, 6856, 4655, 64880, 34943, 13404, 19479, 18999, 64880, 93323, 9706... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:39:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 08:40:00 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '57', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999393', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '7ms', 'x-request-id': 'req_9f4e97ae154c7634255ff602e95b4172', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec23fd208519185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_9f4e97ae154c7634255ff602e95b4172", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-03, 11:40:00. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retrieved context to answer the question.\\n\\n\u0421\u041f 515.1325800.2022 \\n \\n25 \\n \\n12.15 \\n\u041f\u0440\u0438 \\n\u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \\n\u043a\u043b\u0435\u0435\u043d\u043e\u0433\u043e \\n\u0434\u0435\u0440\u0435\u0432\u044f\u043d\u043d\u043e\u0433\u043e \\n\u0431\u0440\u0443\u0441\u0430 \\n\u0441\u043b\u0435\u0434\u0443\u0435\u0442 \\n\u043f\u0440\u0435\u0434\u0443\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0438 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0432 \u043f\u0440\u043e\u0435\u043a\u0442\u0435 \u043c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u044f \u043f\u043e \u043f\u0440\u0435\u0434\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044e \u0435\u0433\u043e \\n\u043e\u0442 \u0443\u0432\u043b\u0430\u0436\u043d\u0435\u043d\u0438\u044f \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0438 \u0442\u0440\u0430\u043d... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:08", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers([('date', 'Tue, 03 Dec 2024 08:40:08 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'nuanu-wimbwa'), ('openai-processing-ms', '6717'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '800000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '793397'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '495ms'), ('x-request-id', 'req_0246035dc4cc0651146115136cfec322'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=HGnV_.d5eW32OvBEI1k39YRyRfmqFgkUExpRO9PkVRE-1733215208-1.0.1.1-bxQDCsrkTwi.s3YXXr_4nLlOMGZs8fGMLW2AuX8aKEDST8QBF.GX0DYRjBvGu1z2cXEG9pKGF4YYxtaMjZDbQA; path=/; expires=Tue, 03... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:08", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_0246035dc4cc0651146115136cfec322", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:08", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.8295565827000256, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:08", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:08", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:08", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"Given the following user prompt and LLM response, determine if additional information is needed to help the user fulfill their request and continue the conversation effectively. If yes, provide up to 3 additional prompts based on key concepts in the response, such as 'learn more about ...', 'how to determine ...', 'how to calculate ...', etc., that the user can use to gather more information. If no additional prompts are needed, respond with 'No suggestions needed'.\\n\\nUser Prompt: \u043a\u0430\u043a \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u044c \u0431\u0430\u043d\u044e \u0438\u0437 \u0431\u0440\u0443\u0441\u0430\\n\\nLLM Response: \u0423\u0442\u0435\u043f\u043b\u0435\u043d\u0438\u0435 \u0431\u0430\u043d\u0438 \u0438\u0437 \u0431\u0440\u0443\u0441\u0430 \u0432\u0430\u0436\u043d\u043e \u0434\u043b\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044f \u043a\u043e\u043c\u0444\u043e\u0440\u0442\u043d\u043e\u0439 \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u044b \u0438 \u044d\u043a\u043e\u043d\u043e\u043c\u0438\u0438 \u044d\u043d\u0435\u0440\u0433\u0438\u0438. \u0412\u043e\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0448\u0430\u0433\u0438 \u0438 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u043b\u044f \u0443\u0442\u0435\u043f\u043b\u0435\u043d\u0438\u044f:\\n\\n1. **\u0423\u0442\u0435\u043f\u043b\u0435\u043d\u0438\u0435 \u0441\u0442\u0435\u043d**:\\n   - \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043c\u0438\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u0443\u044e \u0432\u0430\u0442\u0443 \u0438\u043b\u0438 \u044d\u043a\u043e-\u0432\u0430\u0442\u0443. \u042d\u0442\u0438 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u043e\u0431\u043b\u0430\u0434\u0430\u044e\u0442 \u0445\u043e\u0440\u043e\u0448\u0438\u043c\u0438 \u0442\u0435\u043f\u043b\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u044b\u043c\u0438 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430\u043c\u0438.\\n   - \u0423\u043b\u043e\u0436\u0438\u0442\u0435 \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u0435\u043b\u044c \u043c\u0435\u0436\u0434\u0443 \u0441\u0442\u043e\u0439\u043a\u0430\u043c\u0438 \u043a\u0430\u0440\u043a\u0430\u0441\u0430, \u0435... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:08", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:10", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 08:40:10 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1536', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799173', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '62ms', 'x-request-id': 'req_ce3bb51a6c56e69a79c55279466b0be7', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec2400c6b582df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:10", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_ce3bb51a6c56e69a79c55279466b0be7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:10", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0442\u0438\u043f\u0430\u0445 \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u0435\u043b\u0435\u0439, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \u043c\u0438\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u0430\u044f \u0432\u0430\u0442\u0430 \u0438 \u044d\u043a\u043e-\u0432\u0430\u0442\u0430, \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043d\u0430\u0438\u0431\u043e\u043b\u0435\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0439 \u0434\u043b\u044f \u0432\u0430\u0448\u0435\u0439 \u0431\u0430\u043d\u0438 \u0438\u0437 \u0431\u0440\u0443\u0441\u0430.', '\u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u043e\u043f\u0442\u0438\u043c\u0430\u043b\u044c\u043d\u0443\u044e \u0442\u043e\u043b\u0449\u0438\u043d\u0443 \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u0435\u043b\u044f \u0434\u043b\u044f \u0441\u0442\u0435\u043d, \u043f\u043e\u043b\u0430 \u0438 \u043f\u043e\u0442\u043e\u043b\u043a\u0430 \u0431\u0430\u043d\u0438 \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u044f \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0439 \u044d\u043d\u0435\u0440\u0433\u043e\u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438?', '\u041a\u0430\u043a \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u0443\u044e \u043c\u0435\u043c\u0431\u0440\u0430\u043d\u0443, \u0447\u0442\u043e\u0431\u044b \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442\u044c \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u0443\u044e \u0437\u0430\u0449\u0438\u0442\u0443 \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u0435\u043b\u044f \u043e\u0442 \u0432\u043b\u0430\u0433\u0438?']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:10", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u0423\u0442\u0435\u043f\u043b\u0435\u043d\u0438\u0435 \u0431\u0430\u043d\u0438 \u0438\u0437 \u0431\u0440\u0443\u0441\u0430 \u0432\u0430\u0436\u043d\u043e \u0434\u043b\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044f \u043a\u043e\u043c\u0444\u043e\u0440\u0442\u043d\u043e\u0439 \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u044b \u0438 \u044d\u043a\u043e\u043d\u043e\u043c\u0438\u0438 \u044d\u043d\u0435\u0440\u0433\u0438\u0438. \u0412\u043e\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0448\u0430\u0433\u0438 \u0438 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u043b\u044f \u0443\u0442\u0435\u043f\u043b\u0435\u043d\u0438\u044f:\\n\\n1. <b>\u0423\u0442\u0435\u043f\u043b\u0435\u043d\u0438\u0435 \u0441\u0442\u0435\u043d</b>:\\n\u2022 \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043c\u0438\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u0443\u044e \u0432\u0430\u0442\u0443 \u0438\u043b\u0438 \u044d\u043a\u043e-\u0432\u0430\u0442\u0443. \u042d\u0442\u0438 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u043e\u0431\u043b\u0430\u0434\u0430\u044e\u0442 \u0445\u043e\u0440\u043e\u0448\u0438\u043c\u0438 \u0442\u0435\u043f\u043b\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u044b\u043c\u0438 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430\u043c\u0438.\\n\u2022 \u0423\u043b\u043e\u0436\u0438\u0442\u0435 \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u0435\u043b\u044c \u043c\u0435\u0436\u0434\u0443 \u0441\u0442\u043e\u0439\u043a\u0430\u043c\u0438 \u043a\u0430\u0440\u043a\u0430\u0441\u0430, \u0435\u0441\u043b\u0438 \u0431\u0430\u043d\u044f \u0438\u043c\u0435\u0435\u0442 \u043a\u0430\u0440\u043a\u0430\u0441\u043d\u0443\u044e \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044e, \u0438\u043b\u0438 \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u0435 \u0435\u0433\u043e \u043a \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 \u0441\u0442\u0435\u043d.\\n\u2022 \u0417\u0430\u043a\u0440\u043e\u0439\u0442\u0435 \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u0435\u043b\u044c \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u043e\u0439 \u043c\u0435\u043c\u0431\u0440\u0430\u043d\u043e\u0439, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u0435\u0434\u043e\u0442\u0432\u0440\u0430\u0442\u0438\u0442\u044c \u043f\u0440\u043e\u043d\u0438\u043a\u043d\u043e\u0432\u0435\u043d\u0438\u0435 \u0432\u043b\u0430\u0433\u0438.\\n\\n2. <b>\u0423\u0442\u0435\u043f\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0442\u043e\u043b\u043a\u0430</b>:\\n\u2022 \u041f\u043e\u0442\u043e\u043b\u043e\u043a \u043c\u043e\u0436\u043d\u043e \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u044c \u0442\u0435\u043c\u0438 \u0436\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430\u043c\u0438, \u0447\u0442\u043e \u0438 \u0441\u0442\u0435\u043d\u044b.\\n\u2022 \u041e\u0441\u043e\u0431\u043e\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u0443\u0434\u0435\u043b\u0438\u0442\u0435 \u0433\u0435\u0440\u043c\u0435\u0442\u0438\u0437\u0430\u0446\u0438\u0438, \u0447\u0442\u043e\u0431\u044b \u0438\u0437\u0431\u0435\u0436\u0430\u0442\u044c \u0443\u0442\u0435\u0447\u043a\u0438 \u0442\u0435\u043f\u043b\u043e\u0433\u043e \u0432\u043e\u0437\u0434\u0443\u0445\u0430.\\n\\n3. <b>\u0423\u0442\u0435\u043f\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0430</b>:\\n\u2022 \u0415\u0441\u043b\u0438 \u043f\u043e\u043b \u0434\u0435\u0440\u0435\u0432\u044f\u043d\u043d\u044b\u0439, \u043c\u043e\u0436\u043d\u043e \u0443\u043b\u043e\u0436\u0438\u0442\u044c \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u0435\u043b\u044c \u043c\u0435\u0436\u0434\u0443 \u043b\u0430\u0433\u0430\u043c\u0438.\\n\u2022 \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u0431\u0435\u0442\u043e\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u044d\u043a\u0441\u0442\u0440\u0443\u0434\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043f\u0435\u043d\u043e\u043f\u043e\u043b\u0438\u0441\u0442\u0438\u0440\u043e\u043b, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u0431\u043b\u0430\u0434\u0430\u0435\u0442 \u0432\u044b\u0441\u043e\u043a\u043e\u0439 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u044c\u044e \u0438 \u0432\u043b\u0430\u0433\u043e\u0441\u0442\u043e\u0439\u043a\u043e\u0441\u0442\u044c\u044e.\\n\\n4. <b>\u0423\u0442\u0435\u043f\u043b\u0435\u043d\u0438\u0435 \u043a\u0440\u044b\u0448\u0438</b>:\\n\u2022 \u0418\u0441... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:10", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:10", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='96e4a84a-0c53-4965-8a30-332d89040083'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:10", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:11", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:11", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:26", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully for user_id=244732168.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:26", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:26", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:26", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:26", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/references'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:26", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: references_command with args: (<handlers.BotHandlers object at 0x0000016828EC11F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 8, 40, 25, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=11, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2913, supergroup_chat_created=False, text='/references'), update_id=881193888), <telegram.ext._callbackcontext.CallbackContext object at 0x000001684EA3E740>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:26", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: references_command with result: <coroutine object BotHandlers.references_command at 0x000001684E2FA8F0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:27", "name": "handlers", "levelname": "INFO", "message": "Sent reference buttons to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:27", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:30", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully for user_id=244732168.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:30", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:30", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:30", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:30", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='get_file:file_1'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:30", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: send_file with args: (<handlers.BotHandlers object at 0x0000016828EC11F0>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='get_file:file_1', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116659411593489', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 8, 40, 26, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=2914, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='get_file:file_0', text='\u0424\u0443\u043d\u0434\u0430\u043c\u0435\u043d\u0442\u044b_\u0421\u041f 45.13330.2017.pdf'),), (InlineKeyboardButton(callback_data='get_file:file_1', text='\u0417\u0434\u0430\u043d\u0438\u044f \u0438\u0437 \u0434\u0435\u0440\u0435\u0432\u044f\u043d\u043d\u043e\u0433\u043e \u0431\u0440\u0443\u0441\u0430_\u0421\u041f 515.1325800.2022 .pdf'),), (InlineKeyboardButton(cal... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:30", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: send_file with result: <coroutine object BotHandlers.send_file at 0x000001684E455FE0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:30", "name": "handlers", "levelname": "DEBUG", "message": "Initiated async task to send file '\u0417\u0434\u0430\u043d\u0438\u044f \u0438\u0437 \u0434\u0435\u0440\u0435\u0432\u044f\u043d\u043d\u043e\u0433\u043e \u0431\u0440\u0443\u0441\u0430_\u0421\u041f 515.1325800.2022 .pdf' to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:30", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:32", "name": "handlers", "levelname": "INFO", "message": "File '\u0417\u0434\u0430\u043d\u0438\u044f \u0438\u0437 \u0434\u0435\u0440\u0435\u0432\u044f\u043d\u043d\u043e\u0433\u043e \u0431\u0440\u0443\u0441\u0430_\u0421\u041f 515.1325800.2022 .pdf' sent successfully to user_id=244732168.", "taskName": "Task-57"}
{"asctime": "2024-12-03 11:40:38", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully for user_id=244732168.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:38", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:38", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:38", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:38", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='suggestion:suggestion_2'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:38", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_inline_buttons with args: (<handlers.BotHandlers object at 0x0000016828EC11F0>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='suggestion:suggestion_2', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116661425056422', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 8, 40, 10, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=14, offset=166, type=<MessageEntityType.BOLD>), MessageEntity(length=17, offset=515, type=<MessageEntityType.BOLD>), MessageEntity(length=14, offset=676, type=<MessageEntityType.BOLD>), MessageEntity(length=15, offset=884, type=<MessageEntityType.BOLD>), MessageEntity(length=27, offset=1002, type=<MessageEntityType.BOLD>), MessageEntity(length=19, offset=1157, type=<Mess... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:38", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_inline_buttons with result: <coroutine object BotHandlers.handle_inline_buttons at 0x000001684E483A70>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:39", "name": "handlers", "levelname": "INFO", "message": "User_id=244732168 clicked on suggestion '\u041a\u0430\u043a \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u0443\u044e \u043c\u0435\u043c\u0431\u0440\u0430\u043d\u0443, \u0447\u0442\u043e\u0431\u044b \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442\u044c \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u0443\u044e \u0437\u0430\u0449\u0438\u0442\u0443 \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u0435\u043b\u044f \u043e\u0442 \u0432\u043b\u0430\u0433\u0438?'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:39", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='7c9dda53-6942-4305-a8a4-57fe7ea900e6' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:39", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='7c9dda53-6942-4305-a8a4-57fe7ea900e6'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:39", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:39", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x000001684E4696A0>, '\u041a\u0430\u043a \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u0443\u044e \u043c\u0435\u043c\u0431\u0440\u0430\u043d\u0443, \u0447\u0442\u043e\u0431\u044b \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442\u044c \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u0443\u044e \u0437\u0430\u0449\u0438\u0442\u0443 \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u0435\u043b\u044f \u043e\u0442 \u0432\u043b\u0430\u0433\u0438?'), kwargs: {'chat_history': [HumanMessage(content='\u041a\u0430\u043a \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u0443\u044e \u043c\u0435\u043c\u0431\u0440\u0430\u043d\u0443, \u0447\u0442\u043e\u0431\u044b \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442\u044c \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u0443\u044e \u0437\u0430\u0449\u0438\u0442\u0443 \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u0435\u043b\u044f \u043e\u0442 \u0432\u043b\u0430\u0433\u0438?', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u043a\u0430\u043a \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u044c \u0431\u0430\u043d\u044e \u0438\u0437 \u0431\u0440\u0443\u0441\u0430', additional_kwargs={}, response_metadata={}), AIMessage(content='\u0423\u0442\u0435\u043f\u043b\u0435\u043d\u0438\u0435 \u0431\u0430\u043d\u0438 \u0438\u0437 \u0431\u0440\u0443\u0441\u0430 \u0432\u0430\u0436\u043d\u043e \u0434\u043b\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044f \u043a\u043e\u043c\u0444\u043e\u0440\u0442\u043d\u043e\u0439 \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u044b \u0438 \u044d\u043a\u043e\u043d\u043e\u043c\u0438\u0438 \u044d\u043d\u0435\u0440\u0433\u0438\u0438. \u0412\u043e\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0448\u0430\u0433\u0438 \u0438 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u043b\u044f \u0443\u0442\u0435\u043f\u043b\u0435\u043d\u0438\u044f:\\n\\n1. <b>\u0423\u0442\u0435\u043f\u043b\u0435\u043d\u0438\u0435 \u0441\u0442\u0435\u043d</b>:\\n\u2022 \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043c\u0438\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u0443\u044e \u0432\u0430\u0442\u0443 \u0438\u043b\u0438 \u044d\u043a\u043e-\u0432\u0430\u0442\u0443. \u042d\u0442\u0438 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u043e\u0431\u043b\u0430\u0434\u0430\u044e\u0442 \u0445\u043e\u0440\u043e\u0448\u0438\u043c\u0438 \u0442\u0435\u043f\u043b\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u044b\u043c\u0438 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430\u043c\u0438.\\n\u2022 \u0423\u043b\u043e\u0436\u0438\u0442\u0435 \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u0435\u043b\u044c \u043c\u0435\u0436\u0434\u0443 \u0441\u0442\u043e\u0439\u043a\u0430\u043c\u0438 \u043a\u0430\u0440\u043a\u0430\u0441\u0430, \u0435\u0441\u043b\u0438 \u0431\u0430\u043d\u044f \u0438\u043c\u0435\u0435\u0442 \u043a\u0430\u0440\u043a\u0430\u0441\u043d\u0443\u044e \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044e, \u0438\u043b\u0438 \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u0435 \u0435\u0433\u043e \u043a \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 \u0441\u0442\u0435\u043d.\\n\u2022 \u0417\u0430\u043a\u0440\u043e\u0439\u0442\u0435 \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u0435\u043b\u044c \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:39", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A1538680>, 'json_data': {'input': [[27435, 16248, 73226, 67602, 13999, 14257, 68462, 18264, 63780, 1482, 41873, 96485, 15458, 17766, 77495, 11562, 10298, 10124, 35682, 3865, 11, 82250, 21923, 23297, 8164, 56857, 18264, 21599, 19916, 19916, 15298, 98695, 77495, 44946, 14476, 9542, 3865, 14257, 1830, 67124, 3114, 9542, 44100, 20879, 5927, 3114, 34493, 1840, 30]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:39", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:40", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 08:40:40 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '86', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999950', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_f954963a0ca2a915163e35d6fd093982', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec240cd2ffcc02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:40", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_f954963a0ca2a915163e35d6fd093982", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:40", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:40", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001684CD419E0>, 'json_data': {'input': [[27435, 16248, 73226, 67602, 13999, 14257, 68462, 18264, 63780, 1482, 41873, 96485, 15458, 17766, 77495, 11562, 10298, 10124, 35682, 3865, 11, 82250, 21923, 23297, 8164, 56857, 18264, 21599, 19916, 19916, 15298, 98695, 77495, 44946, 14476, 9542, 3865, 14257, 1830, 67124, 3114, 9542, 44100, 20879, 5927, 3114, 34493, 1840, 30]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:40", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:41", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 08:40:41 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '40', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999951', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_5378d1d1e3840740eb6e8421216ce362', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec240d2fb43c02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:41", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_5378d1d1e3840740eb6e8421216ce362", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:41", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001684CD419E0>, 'json_data': {'input': [[51627, 10693, 2156, 7975, 14837, 81301, 17165, 10693, 5927, 86610, 35034, 7740, 21022, 15752, 2233, 25698, 8131, 6856, 92175, 61390, 23446, 1840, 627, 21, 13, 21, 45458, 97341, 38657, 11047, 67124, 39865, 41873, 96485, 57186, 7740, 5173, 15088, 24803, 44786, 35875, 1482, 33742, 93129, 73181, 62315, 9706, 18264, 20879, 39479, 15752, 67024, 38438, 44786, 198, 3865, 77911, 20812, 11, 18034, 3114, 7486, 10589, 33742, 63233, 34943, 13404, 19479, 62491, 11, 7820, 2233, 28089, 7975, 19479, 21708, 44786, 14257, 6148, 84350, 90877, 7740, 18034, 18437, 17766, 44786, 17756, 84350, 21708, 627, 21, 13, 21, 13, 16, 45458, 97341, 38657, 11047, 67124, 39865, 41873, 96485, 57186, 93129, 73181, 62315, 9706, 18264, 5927, 91105, 28086, 3114, 84198, 11, 12561, 13337, 28089, 29256, 7975, 21956, 94962, 198, 67187, 3114, 17766, 386... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:41", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:42", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 08:40:42 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '158', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998581', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '17ms', 'x-request-id': 'req_8745172c027ae949e40e9eb3f13e032b', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec240d8aebdc02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:42", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_8745172c027ae949e40e9eb3f13e032b", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:42", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001684CD419E0>, 'json_data': {'input': [[2946, 33006, 720, 34604, 13810, 35297, 15088, 220, 24, 13, 18, 482, 59842, 1830, 67124, 56892, 28114, 15298, 39103, 23311, 12415, 6850, 23680, 19175, 13337, 19619, 11320, 5591, 32062, 4655, 64880, 76401, 86610, 18999, 64880, 720, 24, 13, 17, 13, 18, 59842, 77911, 20812, 1482, 11047, 67124, 39865, 41873, 96485, 57186, 23934, 5173, 3114, 9542, 7740, 96573, 6856, 2355, 24, 13, 17, 13, 18, 13, 16, 51418, 67124, 39865, 41873, 96485, 15458, 12182, 8379, 15752, 11001, 114, 40590, 90457, 67745, 38098, 79370, 15458, 12415, 93129, 73181, 78876, 8164, 44075, 44100, 29893, 720, 28086, 2156, 50619, 13999, 11, 82250, 5927, 57925, 12394, 1506, 10693, 35714, 21708, 23934, 7975, 1840, 20346, 10298, 16742, 38098, 79370, 57186, 5173, 87483, 8131, 61642, 11047, 67124, 3114, 20219, 1506, 14476, 9542, 4655, 720, 10124, 4655, 1132... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:42", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:43", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 08:40:43 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '76', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998971', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '12ms', 'x-request-id': 'req_8cbdf7bb0cb209c75a84e299d92388b2', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec240dfdb78c02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:43", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_8cbdf7bb0cb209c75a84e299d92388b2", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:43", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001684CD419E0>, 'json_data': {'input': [[2970, 33006, 5591, 2297, 47295, 7820, 13373, 20346, 17394, 2156, 72952, 5927, 35387, 3865, 10693, 3865, 13, 51418, 67124, 39865, 41873, 96485, 15458, 17766, 44065, 5173, 3114, 9542, 4655, 46177, 96573, 4655, 5524, 6850, 16248, 3114, 1532, 5372, 12648, 6578, 35875, 1482, 10298, 720, 19916, 17461, 15752, 1840, 46177, 29619, 1840, 68506, 23311, 61498, 6856, 16742, 5173, 61498, 17165, 11562, 14837, 38521, 72060, 7975, 40251, 29893, 50945, 59138, 55813, 1840, 18154, 13373, 20346, 17394, 39988, 720, 9136, 1506, 14476, 27055, 18868, 79686, 20879, 5927, 35387, 3865, 10693, 29256, 2233, 17766, 1840, 10589, 39280, 320, 2297, 6578, 13, 220, 24, 13, 18, 13, 17, 570, 720, 24, 13, 17, 13, 17, 13, 18, 59842, 1830, 67124, 56892, 14257, 6148, 84350, 90877, 13373, 20346, 17394, 39988, 18868, 79686, 5927, 11562, 37277, 1506, 1... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:43", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:43", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 08:40:43 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '60', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999006', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '11ms', 'x-request-id': 'req_5ab106ee05284fab05ee1e52e60724bf', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec240e57f8fc02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:43", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_5ab106ee05284fab05ee1e52e60724bf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:43", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001684CD419E0>, 'json_data': {'input': [[3487, 33006, 24, 51418, 56191, 17279, 65014, 20976, 31274, 36551, 20976, 65014, 86491, 93899, 31274, 86491, 11, 53677, 37255, 140, 102, 31274, 35095, 37255, 35448, 35095, 23227, 37255, 34604, 20976, 12, 43896, 23784, 20976, 36551, 25079, 41682, 140, 98, 20976, 17279, 34604, 20976, 20807, 31274, 93899, 37255, 20807, 31274, 86491, 720, 19871, 20807, 1840, 17279, 220, 2148, 12, 2437, 57925, 34694, 4329, 5591, 14009, 8341, 7820, 8379, 15752, 11001, 114, 40590, 90457, 16494, 38098, 79370, 71829, 6578, 7952, 12507, 1506, 86995, 50693, 6856, 39280, 18154, 25756, 48262, 2233, 1482, 37619, 720, 1830, 67124, 39865, 37619, 5927, 35387, 3865, 10693, 1482, 12, 7740, 63780, 1482, 41873, 96485, 57186, 11, 21923, 23297, 8164, 56857, 28089, 1506, 90457, 50306, 44946, 14476, 9542, 3865, 76401, 86610, 62491, 7952, 12507, 1506,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:43", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 08:40:43 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '116', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998356', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '19ms', 'x-request-id': 'req_7be39512377433d3d32d461c6b08b451', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec240e7a957c02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_7be39512377433d3d32d461c6b08b451", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-03, 11:40:44. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retrieved context to answer the question.\\n\\n\u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0432\u0435\u0449\u0435\u0441\u0442\u0432 \u0438 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043e\u0432 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438.\\n6.6 \u041c\u043e\u043d\u0442\u0430\u0436 \u0442\u0435\u043f\u043b\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u0438 \u0438 \u043f\u043e\u043a\u0440\u043e\u0432\u043d\u044b\u0445 \u0441\u043b\u043e\u0435\u0432 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0442\u044c \u043e\u0442 \u0440\u0430\u0437\u0433\u0440\u0443\u0437\u043e\u0447\u043d\u044b\u0445\\n\u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432, \u0444\u043b\u0430\u043d\u0446\u0435\u0432\u044b\u0445 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0439, \u043a\u0440\u0438\u0432\u043e\u043b\u0438\u043d\u0435\u0439\u043d\u044b\u0445 \u0443\u0447\u0430\u0441\u0442\u043a\u043e\u0432 \u0438 \u0444\u0430\u0441\u043e\u043d\u043d\u044b\u0445 \u0447\u0430\u0441\u0442\u0435\u0439.\\n6.6.1 \u041c\u043e\u043d\u0442\u0430\u0436 \u0442... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 08:40:55 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '10960', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '791700', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '622ms', 'x-request-id': 'req_c0ca7db246b1eb02231e47b8da467003', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec240ea9a5c2dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_c0ca7db246b1eb02231e47b8da467003", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:55", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.8585586399021915, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:55", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:55", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"Given the following user prompt and LLM response, determine if additional information is needed to help the user fulfill their request and continue the conversation effectively. If yes, provide up to 3 additional prompts based on key concepts in the response, such as 'learn more about ...', 'how to determine ...', 'how to calculate ...', etc., that the user can use to gather more information. If no additional prompts are needed, respond with 'No suggestions needed'.\\n\\nUser Prompt: \u041a\u0430\u043a \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u0443\u044e \u043c\u0435\u043c\u0431\u0440\u0430\u043d\u0443, \u0447\u0442\u043e\u0431\u044b \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442\u044c \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u0443\u044e \u0437\u0430\u0449\u0438\u0442\u0443 \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u0435\u043b\u044f \u043e\u0442 \u0432\u043b\u0430\u0433\u0438?\\n\\nLLM Response: \u0414\u043b\u044f \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0439 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u043e\u0439 \u043c\u0435\u043c\u0431\u0440\u0430\u043d\u044b \u0438 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0439 \u0437\u0430\u0449\u0438\u0442\u044b \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u0435\u043b\u044f \u043e\u0442 \u0432\u043b\u0430\u0433\u0438 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u043f\u0440\u0438\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044c\u0441\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0439:\\n\\n1. <b>\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u0435 \u0441\u0442\u043e\u0440\u043e\u043d\u0443 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438</b>: \u041f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u0430\u044f \u043c\u0435\u043c\u0431\u0440\u0430\u043d\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430 \u0441 \u0442\u0435\u043f\u043b\u043e\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u044b \u0443\u0442\u0435\u043f\u043b\u0438\u0442... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 08:40:57 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1546', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799105', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '67ms', 'x-request-id': 'req_7d7c934887f564cdf19d244a0f84774b', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec2413249fe2dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_7d7c934887f564cdf19d244a0f84774b", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:57", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0442\u0438\u043f\u0430\u0445 \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u043c\u0435\u043c\u0431\u0440\u0430\u043d \u0438 \u0438\u0445 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u043a\u043b\u0438\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0443\u0441\u043b\u043e\u0432\u0438\u0439 \u0438 \u0442\u0438\u043f\u043e\u0432 \u0441\u0442\u0440\u043e\u0435\u043d\u0438\u0439.', '\u041a\u0430\u043a \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u043c\u0435\u0441\u0442\u0430 \u043f\u0440\u0438\u043c\u044b\u043a\u0430\u043d\u0438\u0439 \u043a \u043e\u043a\u043d\u0430\u043c \u0438 \u0434\u0432\u0435\u0440\u044f\u043c, \u0447\u0442\u043e\u0431\u044b \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442\u044c \u0433\u0435\u0440\u043c\u0435\u0442\u0438\u0447\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435 \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u043e\u0439 \u043c\u0435\u043c\u0431\u0440\u0430\u043d\u044b?', '\u041a\u0430\u043a \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0439 \u0432\u0435\u043d\u0442\u0438\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u0437\u0430\u0437\u043e\u0440 \u043c\u0435\u0436\u0434\u0443 \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u0435\u0439 \u0438 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0439 \u043e\u0442\u0434\u0435\u043b\u043a\u043e\u0439 \u0434\u043b\u044f \u043f\u0440\u0435\u0434\u043e\u0442\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u043a\u043e\u043d\u0434\u0435\u043d\u0441\u0430\u0446\u0438\u0438 \u0432\u043b\u0430\u0433\u0438?']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:57", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u0414\u043b\u044f \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0439 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u043e\u0439 \u043c\u0435\u043c\u0431\u0440\u0430\u043d\u044b \u0438 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0439 \u0437\u0430\u0449\u0438\u0442\u044b \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u0435\u043b\u044f \u043e\u0442 \u0432\u043b\u0430\u0433\u0438 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u043f\u0440\u0438\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044c\u0441\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0439:\\n\\n1. <b>\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u0435 \u0441\u0442\u043e\u0440\u043e\u043d\u0443 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438</b>: \u041f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u0430\u044f \u043c\u0435\u043c\u0431\u0440\u0430\u043d\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430 \u0441 \u0442\u0435\u043f\u043b\u043e\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u044b \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u0435\u043b\u044f, \u0442\u043e \u0435\u0441\u0442\u044c \u0441\u043e \u0441\u0442\u043e\u0440\u043e\u043d\u044b \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0433\u043e \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u044f. \u042d\u0442\u043e \u043f\u0440\u0435\u0434\u043e\u0442\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043f\u0440\u043e\u043d\u0438\u043a\u043d\u043e\u0432\u0435\u043d\u0438\u0435 \u0432\u043b\u0430\u0433\u0438 \u0438\u0437 \u0442\u0435\u043f\u043b\u044b\u0445 \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u0439 \u0432 \u0441\u043b\u043e\u0439 \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u0435\u043b\u044f.\\n\\n2. <b>\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u043f\u043e\u0432\u0435\u0440\u0445\u043d\u043e\u0441\u0442\u0438</b>: \u041f\u0435\u0440\u0435\u0434 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u043e\u0439 \u043c\u0435\u043c\u0431\u0440\u0430\u043d\u044b \u0443\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u043f\u043e\u0432\u0435\u0440\u0445\u043d\u043e\u0441\u0442\u044c \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u0435\u043b\u044f \u0440\u043e\u0432\u043d\u0430\u044f \u0438 \u0441\u0443\u0445\u0430\u044f.\\n\\n3. <b>\u041d\u0435\u043f\u0440\u0435\u0440\u044b\u0432\u043d\u043e\u0441\u0442\u044c \u0441\u043b\u043e\u044f</b>: \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u043c\u0435\u043c\u0431\u0440\u0430\u043d\u0443 \u0442\u0430\u043a, \u0447\u0442\u043e\u0431\u044b \u043e\u043d\u0430 \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u044b\u0432\u0430\u043b\u0430 \u043d\u0435\u043f\u0440\u0435\u0440\u044b\u0432\u043d\u044b\u0439 \u0431\u0430\u0440\u044c\u0435\u0440. \u0412\u0441\u0435 \u0441\u0442\u044b\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0442\u0449\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u0440\u043e\u043a\u043b\u0435\u0435\u043d\u044b \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0439 \u043b\u0435\u043d\u0442\u043e\u0439 \u0434\u043b\u044f \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u0438, \u0447\u0442\u043e\u0431\u044b \u0438\u0437\u0431\u0435\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u043d\u0438\u043a\u043d\u043e\u0432\u0435\u043d\u0438\u044f \u0432\u043b\u0430\u0433\u0438.\\n\\n4. <b>\u0417\u0430\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u0438\u0435</b>: \u041c\u0435\u043c\u0431\u0440\u0430\u043d\u0443 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u043a\u0440\u0435\u043f\u0438\u0442\u044c \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0441\u0442\u0435\u043f\u043b\u0435\u0440\u0430 \u0438\u043b\u0438 \u0434\u0432\u0443\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0435\u0439 \u043b\u0435\u043d\u0442\u044b, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u0435\u0434\u043e\u0442\u0432\u0440\u0430\u0442\u0438\u0442\u044c \u0435\u0435 \u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435.\\n\\n5. <b>\u041f\u043b\u043e\u0442\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u0435\u0433\u0430\u043d\u0438\u0435</b>: \u0423\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u043c\u0435\u043c\u0431\u0440\u0430\u043d\u0430 \u043f\u043b\u043e\u0442\u043d\u043e \u043f\u0440\u0438\u043b\u0435\u0433\u0430\u0435\u0442 \u043a \u043f\u043e\u0432\u0435\u0440\u0445\u043d... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:57", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:57", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='7c9dda53-6942-4305-a8a4-57fe7ea900e6'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:57", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:58", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 11:40:58", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 12:22:20", "name": "handlers", "levelname": "ERROR", "message": "Exception while handling an update:", "exc_info": "Traceback (most recent call last):\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\ext\\_updater.py\", line 743, in _network_loop_retry\n    if not await do_action():\n           ^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\ext\\_updater.py\", line 737, in do_action\n    return action_cb_task.result()\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\ext\\_updater.py\", line 367, in polling_action_cb\n    updates = await self.bot.get_updates(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\ext\\_extbot.py\", line 650, in get_updates\n    updates = await super().get_updates(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\_bot.py\", line 4480, in get_updates\n    await self._post(\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\_bot.py\", line 619, in _post\n    return await self._do_post(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\ext\\_extbot.py\", line 354, in _do_post\n    return await super()._do_post(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\_bot.py\", line 648, in _do_post\n    result = await request.post(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\request\\_baserequest.py\", line 202, in post\n    result = await self._request_wrapper(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\request\\_baserequest.py\", line 387, in _request_wrapper\n    raise NetworkError(description or \"Bad Gateway\")\ntelegram.error.NetworkError: Bad Gateway", "taskName": "Task-548"}
{"asctime": "2024-12-03 12:22:21", "name": "handlers", "levelname": "ERROR", "message": "Exception while handling an update:", "exc_info": "Traceback (most recent call last):\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\ext\\_updater.py\", line 743, in _network_loop_retry\n    if not await do_action():\n           ^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\ext\\_updater.py\", line 737, in do_action\n    return action_cb_task.result()\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\ext\\_updater.py\", line 367, in polling_action_cb\n    updates = await self.bot.get_updates(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\ext\\_extbot.py\", line 650, in get_updates\n    updates = await super().get_updates(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\_bot.py\", line 4480, in get_updates\n    await self._post(\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\_bot.py\", line 619, in _post\n    return await self._do_post(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\ext\\_extbot.py\", line 354, in _do_post\n    return await super()._do_post(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\_bot.py\", line 648, in _do_post\n    result = await request.post(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\request\\_baserequest.py\", line 202, in post\n    result = await self._request_wrapper(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\request\\_baserequest.py\", line 387, in _request_wrapper\n    raise NetworkError(description or \"Bad Gateway\")\ntelegram.error.NetworkError: Bad Gateway", "taskName": "Task-551"}
{"asctime": "2024-12-03 12:26:47", "name": "decorators", "levelname": "DEBUG", "message": "Initialized DatabaseService for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 12:26:47", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully for user_id=571915781.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 12:26:47", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 12:26:47", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 12:26:48", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 12:26:48", "name": "decorators", "levelname": "DEBUG", "message": "Initialized LLMService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 12:26:48", "name": "decorators", "levelname": "DEBUG", "message": "Set user_id: 571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 12:26:48", "name": "decorators", "levelname": "DEBUG", "message": "Set user_name: \u0421\u0443\u0440\u043e\u0432\u044b\u0439 \u0415\u0432\u0433\u0435\u043d\u0438\u0439", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 12:26:48", "name": "decorators", "levelname": "DEBUG", "message": "Set language_code: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 12:26:48", "name": "decorators", "levelname": "DEBUG", "message": "Initialized language for user_id=571915781: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 12:26:48", "name": "decorators", "levelname": "ERROR", "message": "Error ensuring documents are indexed for user_id 571915781: 'ru'", "exc_info": "Traceback (most recent call last):\n  File \"E:\\Python_Projects\\pdflyx\\decorators.py\", line 254, in wrapper\n    system_response = text.ContextErrors.documents_not_indexed(language=language)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\text.py\", line 1032, in documents_not_indexed\n    return messages[language]\n           ~~~~~~~~^^^^^^^^^^\nKeyError: 'ru'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 12:26:48", "name": "handlers", "levelname": "ERROR", "message": "Exception while handling an update:", "exc_info": "Traceback (most recent call last):\n  File \"E:\\Python_Projects\\pdflyx\\decorators.py\", line 254, in wrapper\n    system_response = text.ContextErrors.documents_not_indexed(language=language)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\text.py\", line 1032, in documents_not_indexed\n    return messages[language]\n           ~~~~~~~~^^^^^^^^^^\nKeyError: 'ru'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\ext\\_application.py\", line 1319, in process_update\n    await coroutine\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\ext\\_handlers\\basehandler.py\", line 158, in handle_update\n    return await self.callback(update, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\decorators.py\", line 179, in wrapper\n    return await func(self, update, context, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\decorators.py\", line 238, in wrapper\n    return await func(self, update, context, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\decorators.py\", line 266, in wrapper\n    system_response = text.Responses.generic_error(language=context.user_data.get(\"language\", \"English\"))\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\text.py\", line 741, in generic_error\n    return messages[language]\n           ~~~~~~~~^^^^^^^^^^\nKeyError: 'ru'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 12:27:01", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=571915781: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 12:27:01", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=571915781, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 12:27:01", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x0000016828EC11F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='\u0421\u0443\u0440\u043e\u0432\u044b\u0439', id=571915781, last_name='\u0415\u0432\u0433\u0435\u043d\u0438\u0439', type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 9, 27, 1, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='\u0421\u0443\u0440\u043e\u0432\u044b\u0439', id=571915781, is_bot=False, language_code='ru', last_name='\u0415\u0432\u0433\u0435\u043d\u0438\u0439'), group_chat_created=False, message_id=2919, supergroup_chat_created=False, text='/start'), update_id=881193892), <telegram.ext._callbackcontext.CallbackContext object at 0x00000168A1563CB0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 12:27:01", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x00000168A40FC740>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 12:27:02", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 12:27:02", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=571915781, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 12:27:44", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully for user_id=571915781.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 12:27:44", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 12:27:44", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 12:27:44", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=571915781: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 12:27:44", "name": "decorators", "levelname": "ERROR", "message": "Error ensuring documents are indexed for user_id 571915781: 'ru'", "exc_info": "Traceback (most recent call last):\n  File \"E:\\Python_Projects\\pdflyx\\decorators.py\", line 254, in wrapper\n    system_response = text.ContextErrors.documents_not_indexed(language=language)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\text.py\", line 1032, in documents_not_indexed\n    return messages[language]\n           ~~~~~~~~^^^^^^^^^^\nKeyError: 'ru'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 12:27:44", "name": "handlers", "levelname": "ERROR", "message": "Exception while handling an update:", "exc_info": "Traceback (most recent call last):\n  File \"E:\\Python_Projects\\pdflyx\\decorators.py\", line 254, in wrapper\n    system_response = text.ContextErrors.documents_not_indexed(language=language)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\text.py\", line 1032, in documents_not_indexed\n    return messages[language]\n           ~~~~~~~~^^^^^^^^^^\nKeyError: 'ru'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\ext\\_application.py\", line 1319, in process_update\n    await coroutine\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\ext\\_handlers\\basehandler.py\", line 158, in handle_update\n    return await self.callback(update, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\decorators.py\", line 179, in wrapper\n    return await func(self, update, context, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\decorators.py\", line 238, in wrapper\n    return await func(self, update, context, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\decorators.py\", line 266, in wrapper\n    system_response = text.Responses.generic_error(language=context.user_data.get(\"language\", \"English\"))\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\text.py\", line 741, in generic_error\n    return messages[language]\n           ~~~~~~~~^^^^^^^^^^\nKeyError: 'ru'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:43", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully for user_id=244732168.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:43", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:43", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:43", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:43", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=244732168, message='\u041c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u0430\u0442\u044c? \n\u0418\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0433 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u043f\u0440\u0438 \u0448\u0430\u0433\u0435 \u043e\u043f\u043e\u0440\u044b 1.5 \u043c.\n\u0421\u043f\u0430\u0441\u0438\u0431\u043e \ud83d\ude4f'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:43", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x0000016828EC11F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 11, 22, 42, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2923, supergroup_chat_created=False, text='\u041c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u0430\u0442\u044c? \\n\u0418\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0433 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u043f\u0440\u0438 \u0448\u0430\u0433\u0435 \u043e\u043f\u043e\u0440\u044b 1.5 \u043c.\\n\u0421\u043f\u0430\u0441\u0438\u0431\u043e \ud83d\ude4f'), update_id=881193894), <telegram.ext._callbackcontext.CallbackContext object at 0x00000168A3AC44B0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:43", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x000001684E486980>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:43", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='925dc073-d3b9-4799-8fad-a52fb2370bc9' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:44", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='925dc073-d3b9-4799-8fad-a52fb2370bc9'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:44", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:44", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x000001684E4696A0>, '\u041c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u0430\u0442\u044c? \\n\u0418\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0433 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u043f\u0440\u0438 \u0448\u0430\u0433\u0435 \u043e\u043f\u043e\u0440\u044b 1.5 \u043c.\\n\u0421\u043f\u0430\u0441\u0438\u0431\u043e \ud83d\ude4f'), kwargs: {'chat_history': [HumanMessage(content='\u041c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u0430\u0442\u044c? \\n\u0418\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0433 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u043f\u0440\u0438 \u0448\u0430\u0433\u0435 \u043e\u043f\u043e\u0440\u044b 1.5 \u043c.\\n\u0421\u043f\u0430\u0441\u0438\u0431\u043e \ud83d\ude4f', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u041a\u0430\u043a \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u0443\u044e \u043c\u0435\u043c\u0431\u0440\u0430\u043d\u0443, \u0447\u0442\u043e\u0431\u044b \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442\u044c \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u0443\u044e \u0437\u0430\u0449\u0438\u0442\u0443 \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u0435\u043b\u044f \u043e\u0442 \u0432\u043b\u0430\u0433\u0438?', additional_kwargs={}, response_metadata={}), AIMessage(content='\u041a\u0430\u043a \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u0443\u044e \u043c\u0435\u043c\u0431\u0440\u0430\u043d\u0443, \u0447\u0442\u043e\u0431\u044b \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442\u044c \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u0443\u044e \u0437\u0430\u0449\u0438\u0442\u0443 \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u0435\u043b\u044f \u043e\u0442 \u0432\u043b\u0430\u0433\u0438?\\n-----------\\n\u0414\u043b\u044f \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0439 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u043e\u0439 \u043c\u0435\u043c\u0431\u0440\u0430\u043d\u044b \u0438 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0439 \u0437\u0430\u0449\u0438\u0442\u044b \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u0435\u043b\u044f \u043e\u0442 \u0432\u043b\u0430\u0433\u0438 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u043f\u0440\u0438\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044c\u0441\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0439:\\n\\n1. <b>\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u0435 \u0441\u0442\u043e\u0440\u043e\u043d\u0443 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438</b>: \u041f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u0430\u044f \u043c\u0435\u043c\u0431\u0440\u0430\u043d\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430 \u0441 \u0442\u0435\u043f\u043b\u043e\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u044b \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u0435\u043b\u044f, \u0442\u043e \u0435\u0441\u0442\u044c ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001689ED1B420>, 'json_data': {'input': [[39091, 21956, 8341, 1532, 40842, 2297, 52674, 18482, 30, 720, 31274, 2156, 58060, 23297, 73181, 69471, 54570, 7820, 15752, 21477, 7094, 58669, 9542, 7952, 23630, 13433, 220, 1135, 10693, 1049, 37405, 55617, 34493, 1532, 46339, 9239, 4655, 220, 16, 13, 20, 11562, 627, 19871, 8164, 18437, 1840, 10124, 1482, 11410, 247, 237]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:45", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:22:44 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '52', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999947', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_48421f070fc8bcc2f3edf47099294ecb', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=Not8pHJm60Gw0eZcepPcA1mTeGEA9mdB8Rz8BLCNrBw-1733224964-1.0.1.1-OXSndEK8tGq9xqtX0pF_U8mTFcfIw86hOy4nVVmqbMQi8U6xuolhclHmo2_eh8xGUVQ5_r74LZu6i... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:45", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_48421f070fc8bcc2f3edf47099294ecb", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:45", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:45", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A38DCFE0>, 'json_data': {'input': [[39091, 21956, 8341, 1532, 40842, 2297, 52674, 18482, 30, 720, 31274, 2156, 58060, 23297, 73181, 69471, 54570, 7820, 15752, 21477, 7094, 58669, 9542, 7952, 23630, 13433, 220, 1135, 10693, 1049, 37405, 55617, 34493, 1532, 46339, 9239, 4655, 220, 16, 13, 20, 11562, 627, 19871, 8164, 18437, 1840, 10124, 1482, 11410, 247, 237]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:45", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:45", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:22:45 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '117', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999947', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_154568fbef74154aaa65f0638874d4b4', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec32e3d6b6aefcd-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:45", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_154568fbef74154aaa65f0638874d4b4", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:45", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A38DCFE0>, 'json_data': {'input': [[5925, 33006, 20976, 8164, 9239, 1506, 20440, 720, 8164, 7753, 10298, 4655, 6148, 17165, 720, 34604, 19188, 64134, 720, 2297, 56857, 18999, 720, 8164, 7753, 10298, 4655, 6148, 17165, 11, 11562, 6578, 720, 39091, 94178, 92091, 34613, 12561, 7975, 8341, 11, 11562, 720, 20807, 17721, 56999, 44065, 18868, 79686, 720, 34604, 18437, 64322, 44858, 5524, 2156, 25698, 6856, 36497, 6850, 34493, 67024, 13433, 11, 7820, 17279, 1506, 720, 16, 11, 15, 720, 16, 11, 20, 720, 17, 11, 15, 720, 17, 11, 20, 720, 18, 11, 15, 720, 8164, 7753, 15298, 39103, 23311, 1532, 7740, 11047, 31203, 720, 68506, 1830, 38657, 1506, 2355, 17, 78086, 112, 7, 1987, 78086, 112, 6860, 8, 720, 16, 11, 2790, 720, 16, 11, 2137, 720, 16, 11, 1644, 720, 16, 11, 1591, 720, 16, 11, 1419, 720, 17, 78086, 112, 7, 1987, 78086, 112, 10336, 8, 720, 16, 11, 249... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:45", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:46", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:22:45 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '88', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998530', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '17ms', 'x-request-id': 'req_0645c5835f6a7fd37f4fb15d1d8ad58f', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec32e414f49efcd-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:46", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_0645c5835f6a7fd37f4fb15d1d8ad58f", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:46", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A38DCFE0>, 'json_data': {'input': [[1954, 33006, 20807, 34493, 67024, 13433, 13373, 18868, 5372, 3865, 720, 34604, 19188, 64134, 720, 2297, 56857, 18999, 720, 8164, 7753, 10298, 4655, 6148, 17165, 11, 720, 6578, 6578, 720, 39091, 94178, 92091, 34613, 12561, 7975, 8341, 11, 11562, 720, 20807, 17721, 56999, 44065, 18868, 79686, 720, 16604, 2156, 38521, 2233, 5372, 23446, 1532, 720, 6735, 79686, 720, 34604, 18437, 64322, 44858, 5524, 2156, 25698, 6856, 36497, 6850, 34493, 67024, 13433, 11, 7820, 17279, 1506, 720, 16, 11, 15, 720, 16, 11, 20, 720, 17, 11, 15, 720, 17, 11, 20, 720, 18, 11, 15, 720, 17, 78086, 112, 7, 1987, 78086, 112, 17361, 8, 720, 17, 11, 2970, 720, 17, 11, 1927, 720, 17, 11, 868, 720, 16, 11, 4161, 720, 16, 11, 5932, 720, 16, 11, 2287, 720, 27435, 39103, 12426, 1506, 11, 720, 6148, 7753, 40590, 6148, 48150, 720, 8164, 7753, 1529... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:46", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:46", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:22:46 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '91', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998367', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '19ms', 'x-request-id': 'req_c1e096475f7511405191251e55b12d26', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec32e44eaa3efcd-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:46", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_c1e096475f7511405191251e55b12d26", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:46", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A38DCFE0>, 'json_data': {'input': [[3076, 33006, 16604, 48262, 13373, 20346, 17394, 39988, 21923, 67222, 6856, 17165, 46177, 720, 13337, 59030, 17165, 720, 39091, 19479, 92091, 44858, 720, 7094, 11320, 14525, 25756, 5591, 35387, 4329, 46177, 720, 66144, 51973, 11, 11562, 6578, 720, 39091, 19479, 92091, 48150, 720, 4898, 99714, 720, 15752, 5591, 35387, 21708, 46177, 69471, 14082, 11, 720, 12426, 1830, 13, 720, 39091, 94178, 92091, 48150, 720, 2233, 18437, 6735, 61390, 23446, 1532, 11562, 50436, 7094, 3865, 720, 15752, 5591, 35387, 4329, 64880, 46177, 720, 66144, 14082, 4898, 50807, 11, 11562, 6578, 720, 74339, 67222, 6856, 13433, 5173, 64292, 12507, 8131, 7753, 1840, 16331, 50807, 720, 1840, 11320, 5173, 3114, 9542, 12648, 64880, 96573, 7753, 1840, 16331, 50807, 720, 14525, 81376, 47805, 1532, 7952, 2233, 33742, 23297, 1840, 12648, 720, 1135, 7... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:46", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:47", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:22:46 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '69', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998763', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '14ms', 'x-request-id': 'req_6fd91add44dc7fd6723424912a500d78', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec32e485df8efcd-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:47", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_6fd91add44dc7fd6723424912a500d78", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:47", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A38DCFE0>, 'json_data': {'input': [[54745, 1482, 41873, 49899, 56008, 5927, 49520, 23630, 2297, 47273, 25, 35448, 20976, 20976, 12769, 16604, 7753, 23311, 13433, 29118, 13289, 198, 19871, 13433, 6148, 18482, 11047, 98285, 13, 53280, 27717, 198, 20, 13, 22, 49520, 19188, 64134, 12561, 25262, 49907, 21708, 26539, 37277, 23446, 10589, 11, 18154, 6735, 61390, 2156, 13999, 90795, 3865, 10298, 63233, 18154, 2297, 8341, 9542, 44100, 64880, 11, 56449, 5372, 62731, 220, 15, 11, 18, 11562, 198, 7, 7094, 29256, 44155, 13433, 50819, 20879, 220, 15, 11, 1591, 57297, 220, 15, 11, 1758, 11562, 705, 21022, 100147, 40842, 6735, 49907, 5372, 15088, 1389, 220, 15, 11, 868, 11562, 320, 7094, 29256, 44155, 13433, 50819, 20879, 220, 15, 11, 1032, 57297, 220, 15, 11, 1114, 11562, 4390, 74598, 49907, 9882, 26539, 37277, 23446, 10589, 56449, 12648, 62731, 18600, 6856,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:47", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:47", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:22:47 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '220', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998401', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '19ms', 'x-request-id': 'req_dc771a8a63c032a207c498f5602fdc31', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec32e4ac83eefcd-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:47", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_dc771a8a63c032a207c498f5602fdc31", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:47", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-03, 14:22:47. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retrieved context to answer the question.\\n\\n91 \\n \\n\u041e\u043f\u043e\u0440\u0430 \u0434\u043b\u044f \\n\u043f\u0435\u0440\u0435\u043c\u044b\u0447\u043a\u0438 \\n\u0420\u0430\u0437\u043c\u0435\u0440 \\n\u0441\u0435\u0447\u0435\u043d\u0438\u044f \\n\u043f\u0435\u0440\u0435\u043c\u044b\u0447\u043a\u0438, \u043c\u043c \\n\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u0440\u043e\u043b\u0435\u0442, \u043c \\n\u041d\u0430\u0440\u0443\u0436\u043d\u044b\u0435 \u0441\u0442\u0435\u043d\u044b \\n\u0420\u0430\u0441\u0447\u0435\u0442\u043d\u0430\u044f \u0441\u043d\u0435\u0433\u043e\u0432\u0430\u044f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0430, \u043a\u041f\u0430 \\n1,0 \\n1,5 \\n2,0 \\n2,5 \\n3,0 \\n\u043f\u0435\u0440\u0435\u043a\u0440\u044b\u0442\u0438\u0435 \u0438 \u0442\u0440\u0438 \\n\u044d\u0442\u0430\u0436\u0430  \\n2\\uf0b4(38\\uf0... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:47", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:51", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:22:51 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '2922', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '791593', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '630ms', 'x-request-id': 'req_f712a0bf7db7f5425f95f1edb65fb9a7', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=r0YJZCPRdnS6ZL_gf5dXJoDNcnE.nwEydpheRYY989I-1733224971-1.0.1.1-MCoj9_qIWYtzYJkxD0yDawBRFMtcKvCiYOwRVPTPMpihVOOlcsDA0Dw6u_gL60VF5MQcbrDsWxpnuFJoKNg1AA; path=/; expires=Tue, 03-Dec-24 11:52:51 GMT; domain=.api.o... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:51", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_f712a0bf7db7f5425f95f1edb65fb9a7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:51", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.8369568853492821, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:51", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:51", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:51", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"Given the following user prompt and LLM response, determine if additional information is needed to help the user fulfill their request and continue the conversation effectively. If yes, provide up to 3 additional prompts based on key concepts in the response, such as 'learn more about ...', 'how to determine ...', 'how to calculate ...', etc., that the user can use to gather more information. If no additional prompts are needed, respond with 'No suggestions needed'.\\n\\nUser Prompt: \u041c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u0430\u0442\u044c? \\n\u0418\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0433 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u043f\u0440\u0438 \u0448\u0430\u0433\u0435 \u043e\u043f\u043e\u0440\u044b 1.5 \u043c.\\n\u0421\u043f\u0430\u0441\u0438\u0431\u043e \ud83d\ude4f\\n\\nLLM Response: \u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u044f \u043d\u0435 \u043c\u043e\u0433\u0443 \u0442\u043e\u0447\u043d\u043e \u0441\u043a\u0430\u0437\u0430\u0442\u044c, \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0438\u043b\u043e\u0433\u0440\u0430\u043c\u043c\u043e\u0432 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c 50\u0445200 \u043c\u043c \u043f\u0440\u0438 \u0448\u0430\u0433\u0435 \u043e\u043f\u043e\u0440\u044b 1,5 \u043c \u0431\u0435\u0437 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438. \u041d\u0430 \u0433\u0440\u0443\u0437\u043e\u043f\u043e\u0434\u044a\u0435\u043c\u043d\u043e\u0441\u0442\u044c \u0432\u043b\u0438\u044f\u044e\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0442\u0438\u043f \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438, \u0432\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u0438 \u0445\u0430\u0440\u0430\u043a\u0442\u0435... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:51", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:22:53 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '2186', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799560', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '33ms', 'x-request-id': 'req_460f18f500440869907aa7ed738ae03c', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec32e65098befb5-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_460f18f500440869907aa7ed738ae03c", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:53", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0442\u0438\u043f\u0430\u0445 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0438 \u0438\u0445 \u0433\u0440\u0443\u0437\u043e\u043f\u043e\u0434\u044a\u0435\u043c\u043d\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u0442\u043e\u0447\u043d\u043e\u0433\u043e \u0440\u0430\u0441\u0447\u0435\u0442\u0430.', '\u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u043b\u0438\u044f\u043d\u0438\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u0439 \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438 \u0438 \u0432\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u0433\u0440\u0443\u0437\u043e\u043f\u043e\u0434\u044a\u0435\u043c\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0441\u043a\u0438?', '\u041a\u0430\u043a\u0438\u0435 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b \u0434\u043b\u044f \u0440\u0430\u0441\u0447\u0435\u0442\u043e\u0432 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0439 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u043b\u044f \u043e\u0446\u0435\u043d\u043a\u0438 \u043d\u0435\u0441\u0443\u0449\u0435\u0439 \u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u0438 \u0434\u043e\u0441\u043e\u043a?']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:53", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u044f \u043d\u0435 \u043c\u043e\u0433\u0443 \u0442\u043e\u0447\u043d\u043e \u0441\u043a\u0430\u0437\u0430\u0442\u044c, \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0438\u043b\u043e\u0433\u0440\u0430\u043c\u043c\u043e\u0432 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c 50\u0445200 \u043c\u043c \u043f\u0440\u0438 \u0448\u0430\u0433\u0435 \u043e\u043f\u043e\u0440\u044b 1,5 \u043c \u0431\u0435\u0437 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438. \u041d\u0430 \u0433\u0440\u0443\u0437\u043e\u043f\u043e\u0434\u044a\u0435\u043c\u043d\u043e\u0441\u0442\u044c \u0432\u043b\u0438\u044f\u044e\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0442\u0438\u043f \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438, \u0432\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u0438 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 (\u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u0430\u044f \u0438\u043b\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f).\\n\\n\u0414\u043b\u044f \u0442\u043e\u0447\u043d\u043e\u0433\u043e \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u043d\u0435\u0441\u0443\u0449\u0435\u0439 \u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u0438 \u0434\u043e\u0441\u043a\u0438 \u043b\u0443\u0447\u0448\u0435 \u0432\u0441\u0435\u0433\u043e \u043f\u0440\u043e\u043a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043e\u043c-\u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u0435\u043c \u0438\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b \u0434\u043b\u044f \u0440\u0430\u0441\u0447\u0435\u0442\u043e\u0432 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u044e\u0442 \u0432\u0441\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0438 \u0443\u0441\u043b\u043e\u0432\u0438\u044f.\\n\\n------------------\\nReferences (/references):\\n\u041a\u0430\u0440\u043a\u0430\u0441\u043d\u044b\u0435 \u0414\u043e\u043c\u0430_\u0421\u041f 31-105-2002 .pdf, pages: 68, 89, 90\\n\u041e\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0437\u0434\u0430\u043d\u0438\u044f \u0438 \u0441\u043e\u043e\u0440\u0443\u0436\u0435\u043d\u0438\u044f_\u0421\u041f 118.13330.2022.pdf, pages: 19\\n', {'\u041e\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0437\u0434\u0430\u043d\u0438\u044f \u0438 \u0441\u043e\u043e\u0440\u0443\u0436\u0435\u043d\u0438\u044f_\u0421\u041f 118.13330.2022.pdf', '\u041a\u0430\u0440\u043a\u0430\u0441\u043d\u044b\u0435 \u0414\u043e\u043c\u0430_\u0421\u041f 31-105-2002 .pdf'}, ['\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0442\u0438\u043f\u0430\u0445 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0438 \u0438\u0445 \u0433\u0440\u0443\u0437\u043e\u043f\u043e\u0434\u044a\u0435\u043c\u043d\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u0442\u043e\u0447\u043d\u043e\u0433\u043e \u0440\u0430\u0441\u0447\u0435\u0442\u0430.', '\u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u043b\u0438\u044f\u043d\u0438\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u0439 \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438 \u0438... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:53", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:54", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='925dc073-d3b9-4799-8fad-a52fb2370bc9'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:54", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:54", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:22:54", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:26", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully for user_id=571915781.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:26", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:26", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:26", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=571915781: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:26", "name": "decorators", "levelname": "ERROR", "message": "Error ensuring documents are indexed for user_id 571915781: 'ru'", "exc_info": "Traceback (most recent call last):\n  File \"E:\\Python_Projects\\pdflyx\\decorators.py\", line 254, in wrapper\n    system_response = text.ContextErrors.documents_not_indexed(language=language)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\text.py\", line 1032, in documents_not_indexed\n    return messages[language]\n           ~~~~~~~~^^^^^^^^^^\nKeyError: 'ru'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:26", "name": "handlers", "levelname": "ERROR", "message": "Exception while handling an update:", "exc_info": "Traceback (most recent call last):\n  File \"E:\\Python_Projects\\pdflyx\\decorators.py\", line 254, in wrapper\n    system_response = text.ContextErrors.documents_not_indexed(language=language)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\text.py\", line 1032, in documents_not_indexed\n    return messages[language]\n           ~~~~~~~~^^^^^^^^^^\nKeyError: 'ru'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\ext\\_application.py\", line 1319, in process_update\n    await coroutine\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\ext\\_handlers\\basehandler.py\", line 158, in handle_update\n    return await self.callback(update, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\decorators.py\", line 179, in wrapper\n    return await func(self, update, context, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\decorators.py\", line 238, in wrapper\n    return await func(self, update, context, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\decorators.py\", line 266, in wrapper\n    system_response = text.Responses.generic_error(language=context.user_data.get(\"language\", \"English\"))\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\text.py\", line 741, in generic_error\n    return messages[language]\n           ~~~~~~~~^^^^^^^^^^\nKeyError: 'ru'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:35", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully for user_id=244732168.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:35", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:36", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:36", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:36", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=244732168, message='\u041f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u0430\u044f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0430, \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u0430 \u0445\u0432\u043e\u0439\u043d\u043e\u0435 \u0434\u0435\u0440\u0435\u0432\u043e'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:36", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x0000016828EC11F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 11, 24, 35, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2927, supergroup_chat_created=False, text='\u041f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u0430\u044f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0430, \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u0430 \u0445\u0432\u043e\u0439\u043d\u043e\u0435 \u0434\u0435\u0440\u0435\u0432\u043e'), update_id=881193896), <telegram.ext._callbackcontext.CallbackContext object at 0x00000168A3AC42F0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:36", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x000001684EA62200>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:36", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='8575f231-704c-44bf-8637-3cb3c4146653' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:36", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='8575f231-704c-44bf-8637-3cb3c4146653'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:36", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:36", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x000001684E4696A0>, '\u041f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u0430\u044f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0430, \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u0430 \u0445\u0432\u043e\u0439\u043d\u043e\u0435 \u0434\u0435\u0440\u0435\u0432\u043e'), kwargs: {'chat_history': [HumanMessage(content='\u041f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u0430\u044f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0430, \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u0430 \u0445\u0432\u043e\u0439\u043d\u043e\u0435 \u0434\u0435\u0440\u0435\u0432\u043e', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u041c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u0430\u0442\u044c? \\n\u0418\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0433 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u043f\u0440\u0438 \u0448\u0430\u0433\u0435 \u043e\u043f\u043e\u0440\u044b 1.5 \u043c.\\n\u0421\u043f\u0430\u0441\u0438\u0431\u043e \ud83d\ude4f', additional_kwargs={}, response_metadata={}), AIMessage(content='\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u044f \u043d\u0435 \u043c\u043e\u0433\u0443 \u0442\u043e\u0447\u043d\u043e \u0441\u043a\u0430\u0437\u0430\u0442\u044c, \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0438\u043b\u043e\u0433\u0440\u0430\u043c\u043c\u043e\u0432 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c 50\u0445200 \u043c\u043c \u043f\u0440\u0438 \u0448\u0430\u0433\u0435 \u043e\u043f\u043e\u0440\u044b 1,5 \u043c \u0431\u0435\u0437 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438. \u041d\u0430 \u0433\u0440\u0443\u0437\u043e\u043f\u043e\u0434\u044a\u0435\u043c\u043d\u043e\u0441\u0442\u044c \u0432\u043b\u0438\u044f\u044e\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0442\u0438\u043f \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438, \u0432\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u0438 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 (\u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u0430\u044f \u0438\u043b\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f).\\n\\n\u0414\u043b\u044f \u0442\u043e\u0447\u043d\u043e\u0433\u043e \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u043d\u0435\u0441\u0443\u0449\u0435\u0439 \u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u0438 \u0434\u043e\u0441\u043a\u0438 \u043b\u0443\u0447\u0448\u0435 \u0432\u0441\u0435\u0433\u043e \u043f\u0440\u043e\u043a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043e\u043c-\u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u0435\u043c \u0438\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b \u0434\u043b\u044f \u0440\u0430\u0441\u0447\u0435\u0442\u043e\u0432 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u044e\u0442 \u0432\u0441\u0435 \u043d\u0435... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001689ED1B420>, 'json_data': {'input': [[17279, 25262, 61390, 2156, 44858, 6850, 34493, 67024, 13433, 11, 7952, 2233, 33742, 23297, 69775, 45658, 5591, 16742, 48150, 7952, 7753, 33742, 1482]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:24:37 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '123', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999976', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_80b23e717f5a740829d4522fb7d7f7c5', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec330f4bee62df8-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_80b23e717f5a740829d4522fb7d7f7c5", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:37", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A155D8A0>, 'json_data': {'input': [[17279, 25262, 61390, 2156, 44858, 6850, 34493, 67024, 13433, 11, 7952, 2233, 33742, 23297, 69775, 45658, 5591, 16742, 48150, 7952, 7753, 33742, 1482]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:24:38 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '74', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999977', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_36e62ba324ab688603a710d9d5926cd2', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec330fbdb652df8-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_36e62ba324ab688603a710d9d5926cd2", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A155D8A0>, 'json_data': {'input': [[19871, 17279, 220, 508, 13, 9423, 966, 13, 679, 21, 198, 41682, 25079, 27435, 220, 3076, 25, 11030, 25, 18384, 720, 20976, 27435, 19871, 220, 5925, 13, 12505, 13, 1721, 198, 27435, 40571, 33742, 51736, 92207, 1506, 25, 6850, 34493, 67024, 13433, 11, 5927, 35387, 77628, 50306, 11, 34943, 64322, 27717, 6850, 34493, 67024, 15088, 11, 18154, 6735, 61390, 2156, 44858, 11, 7952, 3114, 56008, 44858, 11, 7820, 81659, 90877, 50681, 5372, 5879, 198, 44858, 11, 81376, 14082, 36497, 6850, 34493, 67024, 13433, 11, 12561, 14837, 1840, 10124, 11, 71901, 86610, 17618, 198, 5958]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:39", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:24:39 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '36', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999906', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_986ee1c3112252cb9578b40ff95e7018', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec331026f432df8-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:39", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_986ee1c3112252cb9578b40ff95e7018", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:39", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A155D8A0>, 'json_data': {'input': [[74598, 96256, 1506, 220, 9992, 23934, 220, 14815, 33006, 49899, 4655, 11, 12561, 38438, 12648, 6578, 7740, 19175, 39479, 20346, 12426, 98781, 13373, 25756, 3114, 64569, 19479, 1532, 20879, 7952, 18226, 62776, 25756, 20346, 2156, 44613, 13, 23784, 7820, 50223, 35034, 1532, 21923, 7753, 25657, 6148, 39900, 720, 6578, 8131, 7753, 1840, 97065, 90795, 34148, 1830, 84714, 1532, 15458, 39127, 12648, 6578, 21923, 89554, 12507, 21923, 67186, 7486, 77495, 14391, 40211, 34493, 3865, 7740, 77738, 4898, 7486, 51736, 96573, 7753, 1840, 16331, 4655, 11, 720, 41873, 15752, 13337, 6856, 61498, 44065, 23934, 29619, 48445, 2233, 29256, 64292, 51412, 11, 29619, 1840, 68506, 6735, 91883, 11, 29619, 1840, 68506, 23311, 3114, 51412, 13, 720, 74339, 9239, 37013, 6856, 27717, 20440, 5173, 14837, 20346, 17394, 18999, 5927, 25756, 203... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:39", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:40", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:24:40 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '147', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998763', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '14ms', 'x-request-id': 'req_4820cdb39de0724c1d5e0c3fd8a58cb3', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec33108eb2d2df8-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:40", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_4820cdb39de0724c1d5e0c3fd8a58cb3", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:40", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A155D8A0>, 'json_data': {'input': [[74598, 96256, 1506, 220, 10559, 23934, 220, 14815, 33006, 15752, 11320, 23446, 6735, 63233, 25756, 20346, 2156, 1830, 6856, 11047, 7975, 14476, 19479, 16742, 14391, 7975, 50506, 220, 18, 11562, 13, 23784, 20219, 79104, 13999, 50945, 59138, 14257, 8164, 3114, 13337, 2156, 17618, 65811, 5372, 39988, 37405, 15752, 67024, 4898, 16742, 720, 23630, 47805, 39280, 84699, 12426, 21708, 11047, 7975, 14476, 1840, 12648, 92457, 12561, 16494, 5372, 18999, 7952, 2233, 5372, 13, 72731, 10124, 9239, 5927, 17721, 1840, 7486, 44613, 14257, 8164, 3114, 13337, 2156, 18999, 46339, 44075, 44100, 50819, 13373, 720, 23630, 47805, 1532, 11047, 98285, 23446, 48199, 12, 68506, 4898, 17766, 12507, 81301, 17165, 10693, 78876, 64322, 6856, 7740, 5524, 2233, 15088, 6856, 30392, 1482, 56008, 94071, 13, 720, 1114, 13, 17, 13, 22, 23227, 440... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:40", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:41", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:24:40 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '145', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998626', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '16ms', 'x-request-id': 'req_ebaade53ce0f07d26bdf9b594d686079', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec3310e2e5a2df8-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:41", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_ebaade53ce0f07d26bdf9b594d686079", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:41", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A155D8A0>, 'json_data': {'input': [[19871, 17279, 220, 20385, 13, 9413, 18216, 15, 13, 679, 24, 33006, 8011, 33006, 35095, 21022, 14391, 26539, 7740, 39233, 21022, 220, 1301, 244, 13, 22, 1389, 35448, 8164, 92582, 17618, 64362, 61390, 1830, 68742, 39479, 17394, 1840, 17394, 18999, 5173, 23297, 90877, 37405, 720, 71438, 24697, 81301, 17165, 10693, 6850, 34493, 67024, 13433, 10693, 720, 2233, 67, 11, 45458, 17279, 1506, 720, 16604, 7753, 61390, 1830, 61379, 39479, 17394, 1840, 17394, 18999, 5173, 23297, 90877, 37405, 720, 71438, 24697, 81301, 17165, 10693, 720, 2156, 34493, 67024, 13433, 10693, 720, 19871, 44075, 2156, 50506, 2355, 39091, 19479, 92091, 48150, 720, 39091, 5372, 50506, 220, 16, 11, 20, 720, 39091, 5372, 50506, 220, 15, 11, 20, 2355, 61432, 17461, 12426, 36497, 64362, 61390, 1830, 61379, 39479, 17394, 1840, 17394, 18999, 320, 8164,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:41", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:42", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:24:41 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '78', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999571', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_51e8e481967d3b7538f86f70e8956d63', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec33113fa462df8-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:42", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_51e8e481967d3b7538f86f70e8956d63", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:42", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-03, 14:24:42. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retrieved context to answer the question.\\n\\n\u0421\u041f 20.13330.2016\\n\u0423\u0414\u041a 69:006:354 \\n\u041e\u041a\u0421 91.040.01\\n\u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0441\u043b\u043e\u0432\u0430: \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0430, \u0432\u043e\u0437\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435, \u0441\u043e\u0447\u0435\u0442\u0430\u043d\u0438\u0435 \u043d\u0430\u0433\u0440\u0443\u0437\u043e\u043a, \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u0430\u044f, \u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f, \u043a\u0440\u0430\u0442\u043a\u043e\u0432\u0440\u0435\u043c\u0435\u043d\\xad\\n\u043d\u0430\u044f, \u043e\u0441\u043e\u0431\u0430\u044f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0430, \u043f\u0440\u043e\u0433\u0438\u0431, \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435\\n73\\n\\n\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 155 \u0438\u0437 ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:42", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:46", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:24:46 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '3099', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '793815', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '463ms', 'x-request-id': 'req_d189be57f24cd3414e08b7f9bdaafcc2', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec33119aa519185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:46", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_d189be57f24cd3414e08b7f9bdaafcc2", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:46", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.8236109468912006, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:46", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:46", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:46", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"Given the following user prompt and LLM response, determine if additional information is needed to help the user fulfill their request and continue the conversation effectively. If yes, provide up to 3 additional prompts based on key concepts in the response, such as 'learn more about ...', 'how to determine ...', 'how to calculate ...', etc., that the user can use to gather more information. If no additional prompts are needed, respond with 'No suggestions needed'.\\n\\nUser Prompt: \u041f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u0430\u044f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0430, \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u0430 \u0445\u0432\u043e\u0439\u043d\u043e\u0435 \u0434\u0435\u0440\u0435\u0432\u043e\\n\\nLLM Response: \u0414\u043b\u044f \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0445\u0432\u043e\u0439\u043d\u044b\u0445 \u043f\u043e\u0440\u043e\u0434 \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u044b\u0435 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0437\u0430\u0432\u0438\u0441\u044f\u0442 \u043e\u0442 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u0442\u0438\u043f\u0430 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0435\u0435 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430 \u0438 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a. \u0427\u0442\u043e\u0431\u044b \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c, \u043a\u0430\u043a\u0443\u044e \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044c \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u0430 \u0445\u0432\u043e\u0439\u043d\u044b\u0445 \u043f\u043e\u0440\u043e\u0434, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u043f\u043b\u043e\u0442\u043d\u043e\u0441\u0442\u044c \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438 \u0438 \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043e\u043d\u0430 \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:46", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:48", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:24:47 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1222', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799480', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '39ms', 'x-request-id': 'req_f836d23a5dd790c93806b52d940ca76b', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec331341c4c9185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:48", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_f836d23a5dd790c93806b52d940ca76b", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:48", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['\u0423\u0437\u043d\u0430\u0439\u0442\u0435, \u043a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u043f\u043b\u043e\u0442\u043d\u043e\u0441\u0442\u044c \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0445\u0432\u043e\u0439\u043d\u044b\u0445 \u043f\u043e\u0440\u043e\u0434 \u0438 \u043a\u0430\u043a\u0438\u0435 \u0444\u0430\u043a\u0442\u043e\u0440\u044b \u043d\u0430 \u043d\u0435\u0435 \u0432\u043b\u0438\u044f\u044e\u0442.', '\u0418\u0437\u0443\u0447\u0438\u0442\u0435, \u043a\u0430\u043a \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u0432\u043b\u0438\u044f\u0442\u044c \u043d\u0430 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u044c \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0445\u0432\u043e\u0439\u043d\u044b\u0445 \u043f\u043e\u0440\u043e\u0434.', '\u0423\u0437\u043d\u0430\u0439\u0442\u0435, \u043a\u0430\u043a\u0438\u0435 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043d\u043e\u0440\u043c\u044b \u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u044e\u0442\u0441\u044f \u0434\u043b\u044f \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u044b\u0445 \u043d\u0430\u0433\u0440\u0443\u0437\u043e\u043a \u043d\u0430 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u0443 \u0445\u0432\u043e\u0439\u043d\u044b\u0445 \u043f\u043e\u0440\u043e\u0434.']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:48", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u0414\u043b\u044f \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0445\u0432\u043e\u0439\u043d\u044b\u0445 \u043f\u043e\u0440\u043e\u0434 \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u044b\u0435 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0437\u0430\u0432\u0438\u0441\u044f\u0442 \u043e\u0442 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u0442\u0438\u043f\u0430 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0435\u0435 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430 \u0438 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a. \u0427\u0442\u043e\u0431\u044b \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c, \u043a\u0430\u043a\u0443\u044e \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044c \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u0430 \u0445\u0432\u043e\u0439\u043d\u044b\u0445 \u043f\u043e\u0440\u043e\u0434, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u043f\u043b\u043e\u0442\u043d\u043e\u0441\u0442\u044c \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438 \u0438 \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043e\u043d\u0430 \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f.\\n\\n\u041a\u0430\u043a \u043f\u0440\u0430\u0432\u0438\u043b\u043e, \u0434\u043b\u044f \u0440\u0430\u0441\u0447\u0435\u0442\u043e\u0432 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u044e\u0442\u0441\u044f \u043d\u043e\u0440\u043c\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043b\u043e\u0442\u043d\u043e\u0441\u0442\u0438 \u0438 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043e\u0442\u0440\u0430\u0436\u0430\u044e\u0442 \u0441\u0440\u0435\u0434\u043d\u0438\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b. \u042d\u0442\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u0431\u044b\u0447\u043d\u043e \u043f\u0440\u0438\u0432\u043e\u0434\u044f\u0442\u0441\u044f \u0432 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043d\u043e\u0440\u043c\u0430\u0445 \u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u0445.\\n\\n\u0415\u0441\u043b\u0438 \u0432\u0430\u043c \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0442\u043e\u0447\u043d\u044b\u0439 \u0440\u0430\u0441\u0447\u0435\u0442 \u043d\u0430 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u044c \u0434\u043b\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430, \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u0443 \u2014 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u0443-\u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044e, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u043c\u043e\u0436\u0435\u0442 \u0443\u0447\u0435\u0441\u0442\u044c \u0432\u0441\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0438 \u043f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u0440\u0430\u0441\u0447\u0435\u0442\u044b.\\n\\n------------------\\nReferences (/references):\\n\u041d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438 \u0432\u043e\u0437\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f_\u0421\u041f 20.13330.2016.pdf, pages: 76\\n\u0424\u0443\u043d\u0434\u0430\u043c\u0435\u043d\u0442\u044b_\u0421\u041f 45.13330.2017.pdf, pages: 153, 154\\n\u0418\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u043e \u0433\u0435\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0438\u0437\u044b\u0441\u043a\u0430\u043d... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:48", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:48", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='8575f231-704c-44bf-8637-3cb3c4146653'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:48", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:48", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:24:48", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:27:50", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully for user_id=571915781.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:27:50", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:27:50", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:27:50", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=571915781: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:27:51", "name": "decorators", "levelname": "WARNING", "message": "Documents not indexed for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:27:58", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully for user_id=571915781.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:27:58", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:27:58", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:27:58", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=571915781: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:27:58", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=571915781, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:27:58", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x0000016828EC11F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='\u0421\u0443\u0440\u043e\u0432\u044b\u0439', id=571915781, last_name='\u0415\u0432\u0433\u0435\u043d\u0438\u0439', type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 11, 27, 57, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='\u0421\u0443\u0440\u043e\u0432\u044b\u0439', id=571915781, is_bot=False, language_code='ru', last_name='\u0415\u0432\u0433\u0435\u043d\u0438\u0439'), group_chat_created=False, message_id=2931, supergroup_chat_created=False, text='/knowledge_base'), update_id=881193898), <telegram.ext._callbackcontext.CallbackContext object at 0x00000168A1563A80>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:27:58", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x000001684EA2B1C0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:27:59", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:27:59", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=571915781, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:01", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully for user_id=571915781.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:01", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:01", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:01", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=571915781: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:01", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=571915781, message='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:01", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_knowledge_base with args: (<handlers.BotHandlers object at 0x0000016828EC11F0>, Update(callback_query=CallbackQuery(chat_instance='5955451112623345649', data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', from_user=User(first_name='\u0421\u0443\u0440\u043e\u0432\u044b\u0439', id=571915781, is_bot=False, language_code='ru', last_name='\u0415\u0432\u0433\u0435\u043d\u0438\u0439'), id='2456359578380199113', message=Message(channel_chat_created=False, chat=Chat(first_name='\u0421\u0443\u0440\u043e\u0432\u044b\u0439', id=571915781, last_name='\u0415\u0432\u0433\u0435\u043d\u0438\u0439', type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 11, 27, 58, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=2932, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', text='\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'),), (InlineKeyboardButton(callback_data='set_knowledge:Indonesian Regulations', text='Indonesian Regulations'),), (InlineKe... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:01", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_knowledge_base with result: <coroutine object BotHandlers.set_knowledge_base at 0x000001684E4571C0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:01", "name": "handlers", "levelname": "DEBUG", "message": "Set folder_path='E:\\knowledge_base\\russian_regulations' for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:01", "name": "handlers", "levelname": "DEBUG", "message": "Found 28 valid files in folder_path='E:\\knowledge_base\\russian_regulations' for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:01", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_and_index_documents with args: (<llm_service.LLMService object at 0x00000168A15699A0>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:01", "name": "llm_service", "levelname": "DEBUG", "message": "Starting load_and_index_documents for folder_path='E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:01", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_vector_store with args: (<llm_service.LLMService object at 0x00000168A15699A0>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:01", "name": "llm_service", "levelname": "INFO", "message": "Loaded vector store from E:\\knowledge_base\\russian_regulations\\vector_store", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:01", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_vector_store with result: True", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:01", "name": "llm_service", "levelname": "INFO", "message": "Vector store loaded from existing files in 'E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:01", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_and_index_documents with result: (True, 'Vector store loaded from existing files.')", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:02", "name": "handlers", "levelname": "INFO", "message": "Knowledge base '\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b' set successfully for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:02", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=571915781, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:12", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully for user_id=571915781.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:12", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:12", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:12", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=571915781: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:12", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=571915781, message='\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043c\u0435\u0442\u0440\u043e\u0432 \u043d\u0443\u0436\u043d\u043e \u043e\u0442\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u043e\u0442 \u0441\u0432\u0430\u0439\u043d\u043e\u0433\u043e \u0444\u0443\u043d\u0434\u0430\u043c\u0435\u043d\u0442\u0430 \u0433\u043b\u0443\u0431\u0438\u043d\u043e\u0439 3 \u043c\u0435\u0442\u0440\u0430 \u0434\u043b\u044f \u0440\u044b\u0442\u044c\u044f \u043a\u043e\u0442\u043b\u043e\u0432\u0430\u043d\u0430 \u043f\u043e\u0434 \u0431\u0430\u0441\u0441\u0435\u0439\u043d?'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:12", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x0000016828EC11F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='\u0421\u0443\u0440\u043e\u0432\u044b\u0439', id=571915781, last_name='\u0415\u0432\u0433\u0435\u043d\u0438\u0439', type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 11, 28, 11, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='\u0421\u0443\u0440\u043e\u0432\u044b\u0439', id=571915781, is_bot=False, language_code='ru', last_name='\u0415\u0432\u0433\u0435\u043d\u0438\u0439'), group_chat_created=False, message_id=2934, supergroup_chat_created=False, text='\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043c\u0435\u0442\u0440\u043e\u0432 \u043d\u0443\u0436\u043d\u043e \u043e\u0442\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u043e\u0442 \u0441\u0432\u0430\u0439\u043d\u043e\u0433\u043e \u0444\u0443\u043d\u0434\u0430\u043c\u0435\u043d\u0442\u0430 \u0433\u043b\u0443\u0431\u0438\u043d\u043e\u0439 3 \u043c\u0435\u0442\u0440\u0430 \u0434\u043b\u044f \u0440\u044b\u0442\u044c\u044f \u043a\u043e\u0442\u043b\u043e\u0432\u0430\u043d\u0430 \u043f\u043e\u0434 \u0431\u0430\u0441\u0441\u0435\u0439\u043d?'), update_id=881193900), <telegram.ext._callbackcontext.CallbackContext object at 0x00000168A1563A80>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:12", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x000001684EAD3E20>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:12", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='ab6df964-8d98-4382-b88f-203c46743ba8' for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:12", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='ab6df964-8d98-4382-b88f-203c46743ba8'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:12", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:12", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x00000168A15699A0>, '\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043c\u0435\u0442\u0440\u043e\u0432 \u043d\u0443\u0436\u043d\u043e \u043e\u0442\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u043e\u0442 \u0441\u0432\u0430\u0439\u043d\u043e\u0433\u043e \u0444\u0443\u043d\u0434\u0430\u043c\u0435\u043d\u0442\u0430 \u0433\u043b\u0443\u0431\u0438\u043d\u043e\u0439 3 \u043c\u0435\u0442\u0440\u0430 \u0434\u043b\u044f \u0440\u044b\u0442\u044c\u044f \u043a\u043e\u0442\u043b\u043e\u0432\u0430\u043d\u0430 \u043f\u043e\u0434 \u0431\u0430\u0441\u0441\u0435\u0439\u043d?'), kwargs: {'chat_history': [HumanMessage(content='\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043c\u0435\u0442\u0440\u043e\u0432 \u043d\u0443\u0436\u043d\u043e \u043e\u0442\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u043e\u0442 \u0441\u0432\u0430\u0439\u043d\u043e\u0433\u043e \u0444\u0443\u043d\u0434\u0430\u043c\u0435\u043d\u0442\u0430 \u0433\u043b\u0443\u0431\u0438\u043d\u043e\u0439 3 \u043c\u0435\u0442\u0440\u0430 \u0434\u043b\u044f \u0440\u044b\u0442\u044c\u044f \u043a\u043e\u0442\u043b\u043e\u0432\u0430\u043d\u0430 \u043f\u043e\u0434 \u0431\u0430\u0441\u0441\u0435\u0439\u043d?', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u0421\u043f \u043f\u043e \u043a\u0430\u0440\u043a\u0430\u0441\u043d\u044b\u043c \u0434\u043e\u043c\u0430\u043c', additional_kwargs={}, response_metadata={}), AIMessage(content='\u0421\u0432\u043e\u0434 \u043f\u0440\u0430\u0432\u0438\u043b \u043f\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044e \u0438 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0443 \u043a\u0430\u0440\u043a\u0430\u0441\u043d\u044b\u0445 \u0434\u043e\u043c\u043e\u0432, \u043e\u0431\u043e\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044b\u0439 \u043a\u0430\u043a \"\u0421\u041f 31-105-2002,\" \u0440\u0435\u0433\u0443\u043b\u0438\u0440\u0443\u0435\u0442 \u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u044d\u043d\u0435\u0440\u0433\u043e\u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u043e\u0434\u043d\u043e\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u043d\u044b\u0445 \u0436\u0438\u043b\u044b\u0445 \u0434\u043e\u043c\u043e\u0432 \u0441 \u0434\u0435\u0440\u0435\u0432\u044f\u043d\u043d\u044b\u043c \u043a\u0430\u0440\u043a\u0430\u0441\u043e\u043c. \u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u044f\u0435\u0442\u0441\u044f \u043d\u0430 \u0434\u043e\u043c\u0430 \u0441 \u043a\u0430\u0440\u043a\u0430\u0441\u043d\u043e-\u043e\u0431\u0448\u0438\u0432\u043d\u043e\u0439 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0435\u0439 \u0441\u0442\u0435\u043d, \u0438 \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u043b\u044f \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438, \u0443\u0441\u0442\u043e\u0439\u0447\u0438\u0432\u043e\u0441\u0442\u0438, \u043f\u043e\u0436\u0430\u0440\u043d\u043e\u0439 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0441\u0430\u043d\u0438\u0442\u0430\u0440\u043d\u043e-\u044d\u043f\u0438\u0434\u0435\u043c\u0438\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u043d\u043e\u0440\u043c, \u044d\u043d\u0435\u0440\u0433\u043e\u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438 \u0438 \u0434\u043e\u043b\u0433\u043e\u0432\u0435\u0447\u043d\u043e\u0441\u0442\u0438. \u0412 \u0442\u0430\u043a\u0438\u0445 \u0434\u043e\u043c\u0430\u0445 \u043f\u0440\u0435\u0434\u043f\u043e\u043b\u0430\u0433\u0430\u0435\u0442\u0441... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A155D6C0>, 'json_data': {'input': [[66144, 54570, 11562, 8341, 24803, 77083, 13999, 20879, 6735, 49907, 18264, 20879, 45916, 19039, 39900, 18034, 35297, 7094, 24697, 88831, 25756, 3114, 64569, 19479, 16742, 220, 18, 11562, 8341, 22911, 20440, 18600, 4655, 29893, 4329, 7820, 13337, 3114, 6856, 7486, 1506, 40842, 14391, 29500, 21708, 2156, 30]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers([('date', 'Tue, 03 Dec 2024 11:28:12 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-allow-origin', '*'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-model', 'text-embedding-ada-002'), ('openai-organization', 'nuanu-wimbwa'), ('openai-processing-ms', '81'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '5000000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '4999953'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', 'req_62d5e2a002c3052c9775efa75e6ba88e'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=dda6Y7brnZascyx3Sscjt7mU.dR01HoM8LsDclghkNs-1733225292-1.0.1.1-BfVx6BdgLJaRl4q0AvJPLqKgKl.LjGF8IjS55_... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_62d5e2a002c3052c9775efa75e6ba88e", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:13", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A155D6C0>, 'json_data': {'input': [[66144, 54570, 11562, 8341, 24803, 77083, 13999, 20879, 6735, 49907, 18264, 20879, 45916, 19039, 39900, 18034, 35297, 7094, 24697, 88831, 25756, 3114, 64569, 19479, 16742, 220, 18, 11562, 8341, 22911, 20440, 18600, 4655, 29893, 4329, 7820, 13337, 3114, 6856, 7486, 1506, 40842, 14391, 29500, 21708, 2156, 30]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:28:13 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '124', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999953', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_33716569ab9163a7ff03fba9217f527f', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec33640d865b584-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_33716569ab9163a7ff03fba9217f527f", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A155D6C0>, 'json_data': {'input': [[4643, 33006, 720, 34604, 13810, 35297, 15088, 220, 1032, 13, 17, 482, 49520, 18437, 6735, 61390, 23446, 1532, 20879, 18868, 5372, 15088, 7820, 50807, 14525, 57297, 7820, 17721, 13433, 2297, 1506, 11122, 7094, 39280, 720, 1032, 13, 18, 13, 18, 39903, 8341, 48355, 7740, 38098, 79370, 57186, 23934, 25756, 9239, 12182, 6148, 47295, 96573, 7753, 1840, 97065, 11, 78876, 8164, 7975, 21956, 5372, 44065, 13373, 64362, 10693, 2156, 21708, 720, 8164, 6856, 7753, 10693, 68742, 7820, 50807, 14525, 46177, 18600, 98073, 12507, 5524, 11047, 29256, 38438, 12648, 6578, 41291, 10298, 12507, 11, 93129, 73181, 39479, 6578, 86610, 18482, 13373, 78876, 6735, 61390, 23446, 1840, 720, 79862, 69844, 50506, 220, 3965, 11562, 6578, 20879, 7820, 22911, 4329, 11047, 29256, 38438, 39900, 41291, 10298, 1506, 13, 720, 16604, 90226, 1506, 15... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:28:13 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '84', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999385', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '7ms', 'x-request-id': 'req_b189fd5f8d26dca48c5abe14a7cbc6d1', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec336436a7eb584-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_b189fd5f8d26dca48c5abe14a7cbc6d1", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A155D6C0>, 'json_data': {'input': [[22, 33006, 20, 13, 17, 23227, 9706, 15752, 13337, 6856, 13433, 5173, 39865, 14476, 23680, 17165, 720, 20, 13, 17, 13, 16, 28599, 5173, 39865, 14476, 23680, 17165, 40842, 44946, 77911, 36352, 7952, 12507, 1506, 56449, 12648, 62731, 58491, 79686, 5173, 3114, 9706, 9239, 9706, 34613, 35875, 16742, 720, 8164, 38438, 5591, 4655, 7740, 18600, 84350, 56008, 61379, 11, 5927, 52520, 36497, 67969, 23446, 11, 5173, 23446, 7740, 7952, 2233, 33742, 23297, 44065, 20879, 31101, 4655, 11, 21022, 50945, 59138, 11562, 44155, 9239, 13, 720, 20, 13, 17, 13, 17, 35889, 1506, 14257, 6148, 84350, 13433, 10693, 11, 44946, 11001, 114, 5372, 44786, 11562, 3865, 28086, 4929, 4329, 64880, 320, 5591, 4655, 20346, 10124, 17165, 11, 12561, 23630, 15298, 1840, 7740, 12561, 25390, 61813, 1532, 67969, 6148, 33742, 17165, 720, 8164, 2156, 217... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:28:14 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '137', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998519', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '17ms', 'x-request-id': 'req_2f6a8cf183bcab69f8dc37ce922b22a4', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec33645ecf8b584-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_2f6a8cf183bcab69f8dc37ce922b22a4", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A155D6C0>, 'json_data': {'input': [[74598, 96256, 1506, 220, 2397, 23934, 220, 14815, 33006, 10124, 8, 64362, 10693, 8379, 15752, 11001, 114, 7094, 62491, 7820, 13337, 3114, 6856, 7486, 6856, 19175, 89159, 1482, 78876, 8164, 7975, 34493, 18482, 19175, 69844, 50506, 17756, 10298, 13373, 220, 15, 11, 22, 11562, 6850, 23680, 25190, 109, 38438, 16494, 720, 3865, 24803, 2156, 10298, 5927, 9706, 4655, 5524, 14257, 64322, 12507, 21477, 2297, 13337, 4655, 5927, 7975, 12648, 7740, 6850, 34493, 74828, 46177, 13373, 220, 15, 11, 18, 11562, 6850, 23680, 14257, 24803, 2156, 10298, 26539, 13404, 25262, 18226, 1506, 13, 53677, 1506, 25190, 109, 38438, 44938, 720, 3865, 24803, 52429, 5927, 9706, 4655, 320, 3114, 13404, 25262, 18226, 1506, 8, 5927, 23227, 17279, 34604, 93129, 73181, 12561, 19479, 16494, 18482, 13373, 28089, 4655, 2297, 30480, 12415, 86291, 791... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:28:14 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '107', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998697', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '15ms', 'x-request-id': 'req_870c8609158b1f26aff902e73d67ce81', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec336486f38b584-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_870c8609158b1f26aff902e73d67ce81", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A155D6C0>, 'json_data': {'input': [[74598, 96256, 1506, 220, 1227, 23934, 220, 14815, 33006, 8164, 15088, 39103, 23311, 1532, 320, 5591, 11047, 12507, 41176, 3114, 1532, 23934, 41291, 19916, 1840, 11320, 24803, 28241, 10693, 11562, 10298, 10124, 35682, 11, 55617, 1830, 29471, 44786, 7740, 81842, 67745, 96573, 7753, 1840, 16331, 6856, 570, 720, 806, 13, 2148, 53677, 18437, 4655, 8164, 36352, 5173, 19188, 3865, 10693, 18600, 15298, 12507, 5372, 7094, 3865, 50819, 7952, 6856, 9706, 18264, 57297, 20879, 6578, 8341, 15088, 11, 25756, 17721, 7486, 23311, 20346, 90457, 67745, 6850, 23680, 50436, 34613, 20879, 49899, 720, 8164, 6856, 7753, 10693, 13999, 6735, 44786, 5927, 9706, 13, 23784, 11122, 16494, 23446, 10693, 97991, 6856, 40231, 10693, 25756, 20346, 2156, 1830, 20440, 11122, 18437, 4655, 8164, 17165, 5173, 19188, 3865, 10693, 56449, 5372, 62731... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:28:15 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '98', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998856', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '13ms', 'x-request-id': 'req_77a3599c990a7289ee6551477d6d98bd', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec3364be9feb584-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_77a3599c990a7289ee6551477d6d98bd", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'You are a project assistant from the consultant side on design and construction projects. If you don\\'t know the answer, say that you don\\'t know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-03, 14:28:15. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retrieved context to answer the question.\\n\\n79 \\n \\n \\n\u0420\u0438\u0441\u0443\u043d\u043e\u043a 13.2 - \u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043e\u0442 \u0441\u0442\u0435\u043d\u043e\u043a \u043a\u0430\u043c\u0438\u043d\u0430 \u0434\u043e \u043a\u0430\u0440\u043a\u0430\u0441\u0430 \u0437\u0434\u0430\u043d\u0438\u044f \\n13.3.3 \u0414\u0435\u0442\u0430\u043b\u0438 \u0438 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438 \u0438\u0437 \u0433\u043e\u0440\u044e\u0447\u0435\u0433\u043e \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430, \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u043d\u0430 \u0432\u0435\u0440\u0445\u043d\u0435\u0439 \\n\u043f\u043e\u0432\u0435\u0440\u0445\u043d\u043e\u0441\u0442\u0438 \u043a\u0430\u043c\u0438\u043d\u0430 \u0438\u043b\u0438 \u0440\u044f\u0434\u043e\u043c \u0441 \u0442\u043e\u043f\u043e\u0447\u043d\u044b\u043c \u043f\u0440\u043e\u0435\u043c\u043e\u043c, \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0440\u0430\u0437\u043c\u0435... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:15", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:17", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers([('date', 'Tue, 03 Dec 2024 11:28:17 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'nuanu-wimbwa'), ('openai-processing-ms', '1554'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '800000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '794676'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '399ms'), ('x-request-id', 'req_95f98e251e41e7708a2c507d2218e63d'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=uV9ehypgGLnwwL9REmTfcmE38G.l9.ao_yPe3oYsfxQ-1733225297-1.0.1.1-J2kpE1v8RwE9DvYDzyzGb2yGYcYafSaOhNXTxN8QtFGl1fm6_aO4ASTfU9qE6BxOE9gIWOjuKLlBm5RjcyOmow; path=/; expires=Tue, 03... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:17", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_95f98e251e41e7708a2c507d2218e63d", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:17", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.8779753371070461, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:17", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:17", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:17", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"Given the following user prompt and LLM response, determine if additional information is needed to help the user fulfill their request and continue the conversation effectively. If yes, provide up to 3 additional prompts based on key concepts in the response, such as 'learn more about ...', 'how to determine ...', 'how to calculate ...', etc., that the user can use to gather more information. If no additional prompts are needed, respond with 'No suggestions needed'.\\n\\nUser Prompt: \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043c\u0435\u0442\u0440\u043e\u0432 \u043d\u0443\u0436\u043d\u043e \u043e\u0442\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u043e\u0442 \u0441\u0432\u0430\u0439\u043d\u043e\u0433\u043e \u0444\u0443\u043d\u0434\u0430\u043c\u0435\u043d\u0442\u0430 \u0433\u043b\u0443\u0431\u0438\u043d\u043e\u0439 3 \u043c\u0435\u0442\u0440\u0430 \u0434\u043b\u044f \u0440\u044b\u0442\u044c\u044f \u043a\u043e\u0442\u043b\u043e\u0432\u0430\u043d\u0430 \u043f\u043e\u0434 \u0431\u0430\u0441\u0441\u0435\u0439\u043d?\\n\\nLLM Response: \u042f \u043d\u0435 \u043c\u043e\u0433\u0443 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0447\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u043c \u0440\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0438 \u0434\u043b\u044f \u043e\u0442\u0441\u0442\u0443\u043f\u0430 \u043e\u0442 \u0441\u0432\u0430\u0439\u043d\u043e\u0433\u043e \u0444\u0443\u043d\u0434\u0430\u043c\u0435\u043d\u0442\u0430 \u043f\u0440\u0438 \u0440\u044b\u0442\u044c\u0435 \u043a\u043e\u0442\u043b\u043e\u0432\u0430\u043d\u0430 \u043f\u043e\u0434 \u0431\u0430\u0441\u0441\u0435\u0439\u043d, \u0442\u0430\u043a \u043a\u0430\u043a \u044d\u0442\u043e \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0430 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0442\u0438\u043f \u0433\u0440\u0443\u043d\u0442\u0430, \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044e \u0437\u0434\u0430\u043d\u0438\u044f \u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u044b\u0435 \u0440\u0430\u0441\u0447\u0435\u0442\u044b. \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c\u0441\u044f \u043a \u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:17", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:18", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:28:18 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '826', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799629', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '27ms', 'x-request-id': 'req_46cba8413c96aabc191bbd63ff69d85d', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec3365b28c4efe3-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:18", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_46cba8413c96aabc191bbd63ff69d85d", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:18", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0442\u0438\u043f\u0430\u0445 \u0433\u0440\u0443\u043d\u0442\u0430 \u0438 \u0438\u0445 \u0432\u043b\u0438\u044f\u043d\u0438\u0438 \u043d\u0430 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e.', '\u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0435 \u0440\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043e\u0442 \u0444\u0443\u043d\u0434\u0430\u043c\u0435\u043d\u0442\u0430 \u0434\u043b\u044f \u0440\u044b\u0442\u044c\u044f \u043a\u043e\u0442\u043b\u043e\u0432\u0430\u043d\u0430?', '\u041a\u0430\u043a \u043f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u044b\u0435 \u0440\u0430\u0441\u0447\u0435\u0442\u044b \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0431\u0430\u0441\u0441\u0435\u0439\u043d\u0430 \u0440\u044f\u0434\u043e\u043c \u0441 \u0444\u0443\u043d\u0434\u0430\u043c\u0435\u043d\u0442\u043e\u043c?']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:18", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u042f \u043d\u0435 \u043c\u043e\u0433\u0443 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0447\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u043c \u0440\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0438 \u0434\u043b\u044f \u043e\u0442\u0441\u0442\u0443\u043f\u0430 \u043e\u0442 \u0441\u0432\u0430\u0439\u043d\u043e\u0433\u043e \u0444\u0443\u043d\u0434\u0430\u043c\u0435\u043d\u0442\u0430 \u043f\u0440\u0438 \u0440\u044b\u0442\u044c\u0435 \u043a\u043e\u0442\u043b\u043e\u0432\u0430\u043d\u0430 \u043f\u043e\u0434 \u0431\u0430\u0441\u0441\u0435\u0439\u043d, \u0442\u0430\u043a \u043a\u0430\u043a \u044d\u0442\u043e \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0430 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0442\u0438\u043f \u0433\u0440\u0443\u043d\u0442\u0430, \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044e \u0437\u0434\u0430\u043d\u0438\u044f \u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u044b\u0435 \u0440\u0430\u0441\u0447\u0435\u0442\u044b. \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c\u0441\u044f \u043a \u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0449\u0438\u043a\u0430\u043c \u0438\u043b\u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u0430\u043c, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0440\u0430\u0441\u0447\u0435\u0442\u044b \u0438 \u0443\u0447\u0435\u0441\u0442\u044c \u0432\u0441\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u043d\u0430 \u043c\u0435\u0441\u0442\u0435 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430.\\n\\n------------------\\nReferences (/references):\\n\u041a\u0430\u0440\u043a\u0430\u0441\u043d\u044b\u0435 \u0414\u043e\u043c\u0430_\u0421\u041f 31-105-2002 .pdf, pages: 6, 78\\n\u0424\u0443\u043d\u0434\u0430\u043c\u0435\u043d\u0442\u044b_\u0421\u041f 45.13330.2017.pdf, pages: 63, 64\\n', {'\u0424\u0443\u043d\u0434\u0430\u043c\u0435\u043d\u0442\u044b_\u0421\u041f 45.13330.2017.pdf', '\u041a\u0430\u0440\u043a\u0430\u0441\u043d\u044b\u0435 \u0414\u043e\u043c\u0430_\u0421\u041f 31-105-2002 .pdf'}, ['\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0442\u0438\u043f\u0430\u0445 \u0433\u0440\u0443\u043d\u0442\u0430 \u0438 \u0438\u0445 \u0432\u043b\u0438\u044f\u043d\u0438\u0438 \u043d\u0430 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e.', '\u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0435 \u0440\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043e\u0442 \u0444\u0443\u043d\u0434\u0430\u043c\u0435\u043d\u0442\u0430 \u0434\u043b\u044f \u0440\u044b\u0442\u044c\u044f \u043a\u043e\u0442\u043b\u043e\u0432\u0430\u043d\u0430?', '\u041a\u0430\u043a \u043f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u044b\u0435 \u0440\u0430\u0441\u0447\u0435\u0442\u044b \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0431\u0430\u0441\u0441\u0435\u0439\u043d\u0430 \u0440\u044f\u0434\u043e\u043c \u0441 \u0444\u0443\u043d\u0434\u0430\u043c\u0435\u043d\u0442\u043e\u043c?'])", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:18", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:18", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='ab6df964-8d98-4382-b88f-203c46743ba8'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:18", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:19", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:19", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=571915781, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:43", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully for user_id=571915781.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:43", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:43", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:43", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=571915781: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:43", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=571915781, message='\u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u043f\u0440\u0438 \u0448\u0430\u0433\u0435 1.5 \u043c\u0435\u0442\u0440\u0430'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:43", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x0000016828EC11F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='\u0421\u0443\u0440\u043e\u0432\u044b\u0439', id=571915781, last_name='\u0415\u0432\u0433\u0435\u043d\u0438\u0439', type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 11, 28, 42, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='\u0421\u0443\u0440\u043e\u0432\u044b\u0439', id=571915781, is_bot=False, language_code='ru', last_name='\u0415\u0432\u0433\u0435\u043d\u0438\u0439'), group_chat_created=False, message_id=2936, supergroup_chat_created=False, text='\u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u043f\u0440\u0438 \u0448\u0430\u0433\u0435 1.5 \u043c\u0435\u0442\u0440\u0430'), update_id=881193901), <telegram.ext._callbackcontext.CallbackContext object at 0x00000168A38D9FD0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:43", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x000001684EA63970>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:43", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='c3aef308-3509-4426-9efd-258a8aebc0bd' for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:43", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='c3aef308-3509-4426-9efd-258a8aebc0bd'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:43", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:43", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x00000168A15699A0>, '\u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u043f\u0440\u0438 \u0448\u0430\u0433\u0435 1.5 \u043c\u0435\u0442\u0440\u0430'), kwargs: {'chat_history': [HumanMessage(content='\u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u043f\u0440\u0438 \u0448\u0430\u0433\u0435 1.5 \u043c\u0435\u0442\u0440\u0430', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043c\u0435\u0442\u0440\u043e\u0432 \u043d\u0443\u0436\u043d\u043e \u043e\u0442\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u043e\u0442 \u0441\u0432\u0430\u0439\u043d\u043e\u0433\u043e \u0444\u0443\u043d\u0434\u0430\u043c\u0435\u043d\u0442\u0430 \u0433\u043b\u0443\u0431\u0438\u043d\u043e\u0439 3 \u043c\u0435\u0442\u0440\u0430 \u0434\u043b\u044f \u0440\u044b\u0442\u044c\u044f \u043a\u043e\u0442\u043b\u043e\u0432\u0430\u043d\u0430 \u043f\u043e\u0434 \u0431\u0430\u0441\u0441\u0435\u0439\u043d?', additional_kwargs={}, response_metadata={}), AIMessage(content='\u042f \u043d\u0435 \u043c\u043e\u0433\u0443 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0447\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u043c \u0440\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0438 \u0434\u043b\u044f \u043e\u0442\u0441\u0442\u0443\u043f\u0430 \u043e\u0442 \u0441\u0432\u0430\u0439\u043d\u043e\u0433\u043e \u0444\u0443\u043d\u0434\u0430\u043c\u0435\u043d\u0442\u0430 \u043f\u0440\u0438 \u0440\u044b\u0442\u044c\u0435 \u043a\u043e\u0442\u043b\u043e\u0432\u0430\u043d\u0430 \u043f\u043e\u0434 \u0431\u0430\u0441\u0441\u0435\u0439\u043d, \u0442\u0430\u043a \u043a\u0430\u043a \u044d\u0442\u043e \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0430 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0442\u0438\u043f \u0433\u0440\u0443\u043d\u0442\u0430, \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044e \u0437\u0434\u0430\u043d\u0438\u044f \u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u044b\u0435 \u0440\u0430\u0441\u0447\u0435\u0442\u044b. \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c\u0441\u044f \u043a \u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0449\u0438\u043a\u0430\u043c \u0438\u043b\u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u0430\u043c, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0440\u0430\u0441\u0447\u0435\u0442\u044b \u0438 \u0443\u0447\u0435\u0441\u0442\u044c \u0432\u0441\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u043d\u0430 \u043c\u0435\u0441\u0442\u0435 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430.\\n\\n------------------\\nReferences (/references):\\n\u041a\u0430\u0440\u043a\u0430\u0441\u043d\u044b\u0435 \u0414\u043e\u043c\u0430_\u0421\u041f 31-105-2002 .pdf, pages: 6, 78\\n\u0424\u0443\u043d\u0434\u0430\u043c\u0435\u043d... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:43", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A155D8A0>, 'json_data': {'input': [[4898, 16248, 34148, 6850, 34493, 67024, 36352, 21477, 7094, 58669, 9542, 7952, 23630, 13433, 220, 1135, 10693, 1049, 37405, 55617, 34493, 1532, 220, 16, 13, 20, 11562, 8341, 22911]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:43", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:28:44 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '64', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999970', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_086f0b4bbeef4101ba1f17b8bfe68680', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec336fe19342df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_086f0b4bbeef4101ba1f17b8bfe68680", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:44", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A155D8A0>, 'json_data': {'input': [[4898, 16248, 34148, 6850, 34493, 67024, 36352, 21477, 7094, 58669, 9542, 7952, 23630, 13433, 220, 1135, 10693, 1049, 37405, 55617, 34493, 1532, 220, 16, 13, 20, 11562, 8341, 22911]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:45", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:28:45 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '57', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999971', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_14ccd99d4dec67287649ab408cee3d7f', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec33704dd3e2df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:45", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_14ccd99d4dec67287649ab408cee3d7f", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:45", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A155D8A0>, 'json_data': {'input': [[54745, 1482, 41873, 49899, 56008, 5927, 49520, 23630, 2297, 47273, 25, 35448, 20976, 20976, 12769, 16604, 7753, 23311, 13433, 29118, 13289, 198, 19871, 13433, 6148, 18482, 11047, 98285, 13, 53280, 27717, 198, 20, 13, 22, 49520, 19188, 64134, 12561, 25262, 49907, 21708, 26539, 37277, 23446, 10589, 11, 18154, 6735, 61390, 2156, 13999, 90795, 3865, 10298, 63233, 18154, 2297, 8341, 9542, 44100, 64880, 11, 56449, 5372, 62731, 220, 15, 11, 18, 11562, 198, 7, 7094, 29256, 44155, 13433, 50819, 20879, 220, 15, 11, 1591, 57297, 220, 15, 11, 1758, 11562, 705, 21022, 100147, 40842, 6735, 49907, 5372, 15088, 1389, 220, 15, 11, 868, 11562, 320, 7094, 29256, 44155, 13433, 50819, 20879, 220, 15, 11, 1032, 57297, 220, 15, 11, 1114, 11562, 4390, 74598, 49907, 9882, 26539, 37277, 23446, 10589, 56449, 12648, 62731, 18600, 6856,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:45", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:46", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:28:46 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '398', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998401', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '19ms', 'x-request-id': 'req_fc27d491736ba09eb6a3a3f29cc3dcfa', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec3370a384b2df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:46", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_fc27d491736ba09eb6a3a3f29cc3dcfa", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:46", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A155D8A0>, 'json_data': {'input': [[1954, 33006, 20807, 34493, 67024, 13433, 13373, 18868, 5372, 3865, 720, 34604, 19188, 64134, 720, 2297, 56857, 18999, 720, 8164, 7753, 10298, 4655, 6148, 17165, 11, 720, 6578, 6578, 720, 39091, 94178, 92091, 34613, 12561, 7975, 8341, 11, 11562, 720, 20807, 17721, 56999, 44065, 18868, 79686, 720, 16604, 2156, 38521, 2233, 5372, 23446, 1532, 720, 6735, 79686, 720, 34604, 18437, 64322, 44858, 5524, 2156, 25698, 6856, 36497, 6850, 34493, 67024, 13433, 11, 7820, 17279, 1506, 720, 16, 11, 15, 720, 16, 11, 20, 720, 17, 11, 15, 720, 17, 11, 20, 720, 18, 11, 15, 720, 17, 78086, 112, 7, 1987, 78086, 112, 17361, 8, 720, 17, 11, 2970, 720, 17, 11, 1927, 720, 17, 11, 868, 720, 16, 11, 4161, 720, 16, 11, 5932, 720, 16, 11, 2287, 720, 27435, 39103, 12426, 1506, 11, 720, 6148, 7753, 40590, 6148, 48150, 720, 8164, 7753, 1529... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:46", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:47", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:28:46 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '79', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998367', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '19ms', 'x-request-id': 'req_ba2df9848b0f8a3d2ddf2c1fa084502e', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec33710cbdb2df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:47", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_ba2df9848b0f8a3d2ddf2c1fa084502e", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:47", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A155D8A0>, 'json_data': {'input': [[5925, 33006, 20976, 8164, 9239, 1506, 20440, 720, 8164, 7753, 10298, 4655, 6148, 17165, 720, 34604, 19188, 64134, 720, 2297, 56857, 18999, 720, 8164, 7753, 10298, 4655, 6148, 17165, 11, 11562, 6578, 720, 39091, 94178, 92091, 34613, 12561, 7975, 8341, 11, 11562, 720, 20807, 17721, 56999, 44065, 18868, 79686, 720, 34604, 18437, 64322, 44858, 5524, 2156, 25698, 6856, 36497, 6850, 34493, 67024, 13433, 11, 7820, 17279, 1506, 720, 16, 11, 15, 720, 16, 11, 20, 720, 17, 11, 15, 720, 17, 11, 20, 720, 18, 11, 15, 720, 8164, 7753, 15298, 39103, 23311, 1532, 7740, 11047, 31203, 720, 68506, 1830, 38657, 1506, 2355, 17, 78086, 112, 7, 1987, 78086, 112, 6860, 8, 720, 16, 11, 2790, 720, 16, 11, 2137, 720, 16, 11, 1644, 720, 16, 11, 1591, 720, 16, 11, 1419, 720, 17, 78086, 112, 7, 1987, 78086, 112, 10336, 8, 720, 16, 11, 249... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:47", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:47", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:28:46 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '79', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998530', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '17ms', 'x-request-id': 'req_9f6b04ec7eca77ecfd487a983cd0e1f2', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec337133d0c2df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:47", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_9f6b04ec7eca77ecfd487a983cd0e1f2", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:47", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A155D8A0>, 'json_data': {'input': [[5728, 33006, 35095, 72805, 1506, 220, 717, 13, 16, 720, 46710, 2297, 13337, 1506, 18868, 49907, 9882, 11, 11562, 6578, 720, 140, 101, 1840, 31203, 14525, 18868, 49907, 9882, 11, 11562, 6578, 720, 38214, 3114, 64569, 69775, 12561, 25262, 49907, 1840, 11, 11562, 6578, 720, 6578, 94178, 13, 720, 6578, 19479, 13, 720, 6578, 94178, 13, 720, 6578, 19479, 13, 720, 6578, 94178, 13, 720, 6578, 19479, 13, 720, 1049, 720, 6549, 720, 17306, 720, 8848, 720, 17306, 720, 12422, 720, 74598, 49907, 9882, 56449, 12648, 48835, 8341, 4929, 53419, 19479, 16248, 6856, 34148, 21477, 2297, 13337, 3865, 11, 21022, 12561, 25262, 49907, 1840, 482, 53419, 19479, 16248, 6856, 34148, 55617, 78746, 19479, 3865, 5927, 94136, 10124, 12507, 720, 9706, 94962, 26539, 37277, 23446, 6148, 94962, 11562, 17721, 60009, 13, 720, 36551, 16248, 65489,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:47", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:48", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:28:47 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '135', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998967', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '12ms', 'x-request-id': 'req_7d6c83eb3e208cd63cdadfcdc3758e90', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec33715ae132df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:48", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_7d6c83eb3e208cd63cdadfcdc3758e90", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:48", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-03, 14:28:48. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retrieved context to answer the question.\\n\\n\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0432 \u0420\u043e\u0441\u0441\u0438\u0438: \u041e\u041e\u041e \u00ab\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u00bb\\n\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0442\u0435\u0445. \u0437\u0430\u0434\u0430\u043d\u0438\u0435\\n5.7 \u0420\u0430\u0437\u043c\u0435\u0440 \u043f\u0440\u043e\u0441\u0442\u0443\u043f\u0435\u0439 \u043b\u0435\u0441\u0442\u043d\u0438\u0446, \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0445 \u043f\u043e\u0441\u0435\u0442\u0438\u0442\u0435\u043b\u044f\u043c\u0438, \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c 0,3 \u043c\\n(\u0434\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u043e\u0442 0,28 \u0434\u043e 0,35 \u043c), \u0430 \u0440\u0430\u0437\u043c\u0435\u0440 \u043f\u043e\u0434\u0441\u0442\u0443\u043f\u0435\u043d\u043e\u043a \u2013 0,15 \u043c (\u0434\u043e\u043f... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:48", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:51", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:28:51 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '2582', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '794389', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '420ms', 'x-request-id': 'req_0a56967b28f81051ad16c8d7c7cdef93', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec3371adb70c02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:51", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_0a56967b28f81051ad16c8d7c7cdef93", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:51", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.850279375810446, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:51", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:51", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:51", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"Given the following user prompt and LLM response, determine if additional information is needed to help the user fulfill their request and continue the conversation effectively. If yes, provide up to 3 additional prompts based on key concepts in the response, such as 'learn more about ...', 'how to determine ...', 'how to calculate ...', etc., that the user can use to gather more information. If no additional prompts are needed, respond with 'No suggestions needed'.\\n\\nUser Prompt: \u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u043f\u0440\u0438 \u0448\u0430\u0433\u0435 1.5 \u043c\u0435\u0442\u0440\u0430\\n\\nLLM Response: \u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u044f \u043d\u0435 \u043c\u043e\u0433\u0443 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0447\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0442\u043e\u043c, \u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 \u0441 \u0441\u0435\u0447\u0435\u043d\u0438\u0435\u043c 50\u0445200 \u043c\u043c \u043f\u0440\u0438 \u0448\u0430\u0433\u0435 1,5 \u043c\u0435\u0442\u0440\u0430 \u0431\u0435\u0437 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445. \u041d\u0430\u0433\u0440\u0443\u0437\u043a\u0430, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u0430\u043a\u0430\u044f \u0434\u043e\u0441\u043a\u0430, \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u043c\u043d\u043e\u0433\u0438\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043e\u0441\u043a\u0438 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0442\u0438\u043f \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b), \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0432\u043b\u0430\u0436\u043d\u043e... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:51", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:28:52 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1106', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799549', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '33ms', 'x-request-id': 'req_3d1c1d4337711e98f190b9d21c62b643', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec33731bdebc02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_3d1c1d4337711e98f190b9d21c62b643", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:53", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0442\u043e\u043c, \u043a\u0430\u043a \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043e\u0441\u043a\u0438 \u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u0435\u0451 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u043d\u044b\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438.', '\u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u0432\u043b\u0438\u044f\u0442\u044c \u043d\u0430 \u043d\u0430\u0433\u0440\u0443\u0437\u043e\u0447\u043d\u0443\u044e \u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0441\u043a\u0438?', '\u041a\u0430\u043a \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u043d\u0430 \u0434\u043e\u0441\u043a\u0443 \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0442\u0438\u043f\u0430 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 (\u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u0430\u044f, \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f, \u0440\u0430\u0432\u043d\u043e\u043c\u0435\u0440\u043d\u043e \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u0430\u044f \u0438\u043b\u0438 \u0441\u043e\u0441\u0440\u0435\u0434\u043e\u0442\u043e\u0447\u0435\u043d\u043d\u0430\u044f)?']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:53", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u044f \u043d\u0435 \u043c\u043e\u0433\u0443 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0447\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0442\u043e\u043c, \u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 \u0441 \u0441\u0435\u0447\u0435\u043d\u0438\u0435\u043c 50\u0445200 \u043c\u043c \u043f\u0440\u0438 \u0448\u0430\u0433\u0435 1,5 \u043c\u0435\u0442\u0440\u0430 \u0431\u0435\u0437 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445. \u041d\u0430\u0433\u0440\u0443\u0437\u043a\u0430, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u0430\u043a\u0430\u044f \u0434\u043e\u0441\u043a\u0430, \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u043c\u043d\u043e\u0433\u0438\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043e\u0441\u043a\u0438 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0442\u0438\u043f \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b), \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0432\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c, \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u043d\u044b\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f), \u0438 \u0442\u0438\u043f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 (\u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u0430\u044f \u0438\u043b\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f, \u0440\u0430\u0432\u043d\u043e\u043c\u0435\u0440\u043d\u043e \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u0430\u044f \u0438\u043b\u0438 \u0441\u043e\u0441\u0440\u0435\u0434\u043e\u0442\u043e\u0447\u0435\u043d\u043d\u0430\u044f).\\n\\n\u0414\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0442\u043e\u0447\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u0440\u0430\u0441\u0447\u0435\u0442 \u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u0432\u0441\u0435\u0445 \u044d\u0442\u0438\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432 \u0438\u043b\u0438 \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u0430\u043c, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u044b\u0435 \u0440\u0430\u0441\u0447\u0435\u0442\u044b.\\n\\n------------------\\nReferences (/references):\\n\u041e\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0437\u0434\u0430\u043d\u0438\u044f \u0438 \u0441\u043e\u043e\u0440\u0443\u0436\u0435\u043d\u0438\u044f_\u0421\u041f 118.13330.2022.pdf, pages: 19\\n\u041a\u0430\u0440\u043a\u0430\u0441\u043d\u044b\u0435 \u0414\u043e\u043c\u0430_\u0421\u041f 31-105-2002 .pdf, pages: 73, 89, 90\\n', {'\u041e\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0437\u0434\u0430\u043d\u0438\u044f \u0438 \u0441\u043e\u043e\u0440\u0443\u0436\u0435\u043d\u0438\u044f_\u0421\u041f 118.13330.2022.pdf', '\u041a\u0430\u0440\u043a\u0430\u0441\u043d\u044b\u0435 \u0414\u043e\u043c\u0430_\u0421\u041f 31-105-2002 .pdf'}, ['\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0442\u043e\u043c, \u043a\u0430\u043a \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043e\u0441\u043a\u0438 \u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u0435\u0451 ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:53", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:53", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='c3aef308-3509-4426-9efd-258a8aebc0bd'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:53", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:54", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:28:54", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=571915781, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:29:58", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully for user_id=571915781.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:29:58", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:29:58", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:29:58", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=571915781: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:29:58", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=571915781, message='suggestion:suggestion_0'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:29:58", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_inline_buttons with args: (<handlers.BotHandlers object at 0x0000016828EC11F0>, Update(callback_query=CallbackQuery(chat_instance='5955451112623345649', data='suggestion:suggestion_0', from_user=User(first_name='\u0421\u0443\u0440\u043e\u0432\u044b\u0439', id=571915781, is_bot=False, language_code='ru', last_name='\u0415\u0432\u0433\u0435\u043d\u0438\u0439'), id='2456359575638502957', message=Message(channel_chat_created=False, chat=Chat(first_name='\u0421\u0443\u0440\u043e\u0432\u044b\u0439', id=571915781, last_name='\u0415\u0432\u0433\u0435\u043d\u0438\u0439', type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 11, 28, 53, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=11, offset=650, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=2937, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='suggestion:suggestion_0', text='\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0442\u043e\u043c, \u043a\u0430\u043a \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043e\u0441\u043a\u0438 \u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u0435\u0451 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u043d\u044b\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:29:58", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_inline_buttons with result: <coroutine object BotHandlers.handle_inline_buttons at 0x000001684E4836E0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:29:59", "name": "handlers", "levelname": "INFO", "message": "User_id=571915781 clicked on suggestion '\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0442\u043e\u043c, \u043a\u0430\u043a \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043e\u0441\u043a\u0438 \u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u0435\u0451 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u043d\u044b\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438.'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:29:59", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='7b4e1abe-4c9e-4b0d-8083-8d04aab13581' for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:29:59", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='7b4e1abe-4c9e-4b0d-8083-8d04aab13581'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:29:59", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:29:59", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x00000168A15699A0>, '\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0442\u043e\u043c, \u043a\u0430\u043a \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043e\u0441\u043a\u0438 \u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u0435\u0451 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u043d\u044b\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438.'), kwargs: {'chat_history': [HumanMessage(content='\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0442\u043e\u043c, \u043a\u0430\u043a \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043e\u0441\u043a\u0438 \u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u0435\u0451 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u043d\u044b\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438.', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u043f\u0440\u0438 \u0448\u0430\u0433\u0435 1.5 \u043c\u0435\u0442\u0440\u0430', additional_kwargs={}, response_metadata={}), AIMessage(content='\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u044f \u043d\u0435 \u043c\u043e\u0433\u0443 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0447\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0442\u043e\u043c, \u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 \u0441 \u0441\u0435\u0447\u0435\u043d\u0438\u0435\u043c 50\u0445200 \u043c\u043c \u043f\u0440\u0438 \u0448\u0430\u0433\u0435 1,5 \u043c\u0435\u0442\u0440\u0430 \u0431\u0435\u0437 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445. \u041d\u0430\u0433\u0440\u0443\u0437\u043a\u0430, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u0430\u043a\u0430\u044f \u0434\u043e\u0441\u043a\u0430, \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u043c\u043d\u043e\u0433\u0438\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043e\u0441\u043a\u0438 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0442\u0438\u043f \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b), \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0432\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c, \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u043d\u044b\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f), \u0438 \u0442\u0438\u043f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 (\u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u0430\u044f \u0438\u043b\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f, \u0440\u0430\u0432\u043d\u043e\u043c\u0435\u0440\u043d\u043e \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u0430\u044f \u0438\u043b\u0438 \u0441\u043e\u0441\u0440\u0435\u0434\u043e\u0442\u043e\u0447\u0435\u043d\u043d\u0430\u044f).\\n\\n\u0414\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0442\u043e\u0447\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:29:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A40E3F60>, 'json_data': {'input': [[41682, 9136, 2156, 19039, 51627, 84699, 60009, 8379, 11047, 12507, 11, 52770, 96573, 7753, 1840, 16331, 7952, 23630, 17165, 5927, 11320, 4329, 8341, 13373, 22918, 45122, 12561, 38438, 13999, 6735, 44065, 45658, 1506, 11001, 118, 58060, 35111, 1840, 17165, 13]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:29:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:29:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:29:59 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '131', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999960', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_b60424a8c75edac95f96038df48bb46b', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec338d73952b5ee-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:29:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_b60424a8c75edac95f96038df48bb46b", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:29:59", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:29:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A40E3EC0>, 'json_data': {'input': [[41682, 9136, 2156, 19039, 51627, 84699, 60009, 8379, 11047, 12507, 11, 52770, 96573, 7753, 1840, 16331, 7952, 23630, 17165, 5927, 11320, 4329, 8341, 13373, 22918, 45122, 12561, 38438, 13999, 6735, 44065, 45658, 1506, 11001, 118, 58060, 35111, 1840, 17165, 13]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:29:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:29:59 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '111', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999960', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_2558ced12b47a8403f84f90386781aeb', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec338d9bb54b5ee-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_2558ced12b47a8403f84f90386781aeb", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A40E3EC0>, 'json_data': {'input': [[74598, 96256, 1506, 220, 6330, 23934, 220, 14815, 33006, 8164, 6856, 13404, 18999, 13373, 57319, 8164, 39900, 96573, 7753, 1840, 97065, 13, 720, 972, 13, 17, 13, 1187, 59842, 4898, 80230, 36352, 7740, 39479, 28086, 23446, 5591, 27717, 13373, 57319, 8164, 39900, 96573, 7753, 1840, 97065, 93129, 73181, 72060, 7975, 40251, 29893, 63780, 16331, 3114, 26503, 13999, 720, 14082, 67222, 6856, 53671, 46177, 96034, 7753, 10693, 68742, 20879, 4898, 23630, 1506, 13, 720, 972, 13, 17, 13, 914, 35448, 2297, 14082, 44867, 5927, 2156, 16494, 27717, 93129, 73181, 14257, 7094, 44100, 29893, 11047, 72952, 11, 82250, 21022, 2233, 64880, 20346, 90457, 50306, 46088, 4655, 7740, 21923, 67222, 6856, 13433, 19175, 720, 8164, 6856, 2233, 50436, 40590, 11320, 2297, 4929, 5927, 1482, 92878, 14257, 4898, 80230, 17165, 11, 39479, 28086, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:30:00 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '144', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999042', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '11ms', 'x-request-id': 'req_f8587a9f3519b4f7da0636d6515e56f9', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec338dc4e03b5ee-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_f8587a9f3519b4f7da0636d6515e56f9", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A40E3EC0>, 'json_data': {'input': [[1758, 33006, 720, 34604, 13810, 35297, 15088, 220, 22, 13, 19, 482, 39903, 8341, 39127, 14257, 68462, 17165, 7952, 23630, 17165, 20440, 7820, 2233, 67124, 62776, 5927, 2156, 38521, 2233, 5372, 2156, 21708, 21923, 12426, 28089, 17165, 720, 22, 13, 18, 80798, 12426, 28089, 13433, 18868, 5372, 720, 22, 13, 18, 13, 16, 80798, 12426, 28089, 13433, 7820, 17721, 13433, 2297, 1506, 13373, 20346, 17394, 44786, 18868, 5372, 34943, 18868, 9239, 1482, 12648, 76401, 86610, 62491, 11, 5927, 2156, 38521, 2233, 5372, 23446, 10693, 18868, 5372, 7740, 720, 8164, 7753, 25698, 9239, 9706, 15088, 5524, 21923, 1532, 67745, 18868, 9239, 17766, 56449, 14525, 72060, 7975, 40251, 29893, 21204, 23934, 58317, 37277, 17165, 10693, 5173, 3114, 9542, 44786, 46177, 26539, 35111, 6856, 63233, 720, 6578, 8131, 7753, 1840, 16331, 6856, 46177,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:30:00 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '132', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999084', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '10ms', 'x-request-id': 'req_3615f5ad8b6ba5433b8ab5441911c9de', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec338df38a8b5ee-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_3615f5ad8b6ba5433b8ab5441911c9de", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A40E3EC0>, 'json_data': {'input': [[19871, 17279, 220, 1682, 13, 9423, 966, 13, 679, 16, 33006, 605, 33006, 5996, 220, 21, 23227, 42057, 3114, 16742, 13433, 720, 5996, 220, 220, 21, 13, 16, 72731, 10124, 9239, 64933, 1506, 12561, 23630, 3114, 16742, 17165, 93129, 73181, 41291, 41873, 49899, 18264, 5927, 93323, 13810, 16494, 85864, 20879, 5927, 1840, 40590, 5927, 35387, 77628, 44938, 13373, 720, 8164, 7975, 4655, 5524, 14837, 3114, 18437, 13999, 37405, 82941, 9882, 12182, 61565, 13, 720, 256, 220, 21, 13, 17, 36479, 3114, 1532, 33742, 51736, 77573, 20219, 1840, 57186, 56449, 12648, 34943, 13337, 48074, 20812, 6856, 18482, 96573, 7753, 1840, 16331, 24697, 5173, 15088, 39103, 23311, 4329, 29619, 1506, 7740, 720, 14082, 23297, 8164, 56857, 28089, 18482, 12561, 38438, 61379, 5524, 10589, 67124, 62776, 320, 23680, 15752, 32985, 1840, 12182, 8, 5173,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:30:00 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '59', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999227', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '9ms', 'x-request-id': 'req_70db3da27c7deac31ceef05d0df1c947', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec338e20b00b5ee-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_70db3da27c7deac31ceef05d0df1c947", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A40E3EC0>, 'json_data': {'input': [[20, 33006, 19, 13, 18, 80798, 14476, 50306, 86995, 50693, 6856, 39280, 7820, 90795, 3865, 10298, 4655, 6578, 96573, 7753, 1840, 16331, 24697, 720, 19, 13, 18, 13, 16, 35889, 23297, 43293, 50306, 38098, 79370, 57186, 320, 68506, 39244, 4655, 7820, 17721, 13433, 2297, 1506, 8, 7952, 12507, 6856, 98599, 39988, 93099, 4655, 720, 41873, 15752, 13337, 6856, 14009, 70129, 21204, 23934, 5173, 64292, 12507, 8131, 7753, 1840, 16331, 6856, 45658, 5591, 16742, 44786, 91146, 9706, 11, 21477, 2297, 3865, 12426, 5372, 44786, 7740, 44946, 14476, 1840, 14476, 5372, 44786, 20879, 720, 3865, 5591, 3114, 38657, 2156, 18999, 5927, 41291, 10589, 94520, 1532, 45658, 35682, 18999, 13, 720, 19, 13, 18, 13, 17, 39903, 7753, 33742, 4329, 2156, 44065, 46088, 4655, 38098, 79370, 15458, 12415, 11, 20879, 6578, 8341, 13433, 6850, 41873, 1... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:30:01 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '148', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998468', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '18ms', 'x-request-id': 'req_976551f58ab0e0037d4e4c19afe122c2', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec338e48d14b5ee-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_976551f58ab0e0037d4e4c19afe122c2", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'You are a project assistant from the consultant side on design and construction projects. If you don\\'t know the answer, say that you don\\'t know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-03, 14:30:01. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retrieved context to answer the question.\\n\\n\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 160 \u0438\u0437 239 \\n \\n\u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043d\u0430\u0441\u044b\u043f\u043d\u043e\u0433\u043e \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430. \\n18.2.24 \u0423\u043a\u043b\u0430\u0434\u043a\u0443 \u0438 \u0440\u0430\u0437\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435 \u043d\u0430\u0441\u044b\u043f\u043d\u043e\u0433\u043e \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e \\n\u043e\u0431\u043b\u0438\u0446\u043e\u0432\u043a\u0435 \u0438\u043b\u0438 \u043f\u043e\u0432\u0435\u0440\u0445\u043d\u043e\u0441\u0442\u0438 \u043e\u0442\u043a\u043e\u0441\u0430. \\n18.2.25 \u041e\u0441\u043e\u0431\u043e\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0443\u0434\u0435\u043b... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:30:08 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '6879', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '794399', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '420ms', 'x-request-id': 'req_9c450b5229adaed25191c6a8abe30fb3', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec338e7ffaaee18-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_9c450b5229adaed25191c6a8abe30fb3", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:09", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.8314837556683247, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:09", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:09", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"Given the following user prompt and LLM response, determine if additional information is needed to help the user fulfill their request and continue the conversation effectively. If yes, provide up to 3 additional prompts based on key concepts in the response, such as 'learn more about ...', 'how to determine ...', 'how to calculate ...', etc., that the user can use to gather more information. If no additional prompts are needed, respond with 'No suggestions needed'.\\n\\nUser Prompt: \u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0442\u043e\u043c, \u043a\u0430\u043a \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043e\u0441\u043a\u0438 \u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u0435\u0451 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u043d\u044b\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438.\\n\\nLLM Response: \u041f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u043d\u044b\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438 \u0434\u043e\u0441\u043a\u0438 \u0437\u0430\u0432\u0438\u0441\u044f\u0442 \u043e\u0442 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0430 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0445 \u0441 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u043e\u043c, \u0438\u0437 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u043e\u043d\u0430 \u0438\u0437\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u0430. \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0438\u0437 \u043d\u0438\u0445 \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0442:\\n\\n1. **\u0422\u0438\u043f \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b**: \u0420\u0430\u0437\u043d\u044b\u0435 \u043f\u043e\u0440\u043e\u0434\u044b \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0438\u043c\u0435\u044e\u0442 \u0440\u0430\u0437\u043d\u0443\u044e \u043f\u043b\u043e\u0442\u043d\u043e\u0441\u0442\u044c \u0438 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u044c. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0445\u0432\u043e\u0439\u043d\u044b\u0435 \u043f\u043e\u0440\u043e\u0434\u044b, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u0441\u043e\u0441\u043d\u0430 \u0438 \u0435\u043b\u044c, \u043e\u0431\u044b\u0447\u043d\u043e \u043c\u0435\u043d\u0435\u0435 \u043f\u0440\u043e\u0447\u043d... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:10", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:30:10 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '866', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799185', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '61ms', 'x-request-id': 'req_262d664dc9251082a8838379c66ccae9', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec339158c5fee18-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:10", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_262d664dc9251082a8838379c66ccae9", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:10", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u043f\u043e\u0440\u043e\u0434\u0430\u0445 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0438 \u0438\u0445 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u043d\u044b\u0445 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0430\u0445.', '\u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u043e\u043f\u0442\u0438\u043c\u0430\u043b\u044c\u043d\u0443\u044e \u0432\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0434\u043b\u044f \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0439 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438?', '\u041a\u0430\u043a\u0438\u0435 \u043c\u0435\u0442\u043e\u0434\u044b \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0438 \u0437\u0430\u0449\u0438\u0442\u044b \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u043d\u0430\u0438\u0431\u043e\u043b\u0435\u0435 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u044b \u0434\u043b\u044f \u043f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u044f \u0435\u0451 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u043d\u044b\u0445 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a?']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:10", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u041f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u043d\u044b\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438 \u0434\u043e\u0441\u043a\u0438 \u0437\u0430\u0432\u0438\u0441\u044f\u0442 \u043e\u0442 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0430 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0445 \u0441 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u043e\u043c, \u0438\u0437 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u043e\u043d\u0430 \u0438\u0437\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u0430. \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0438\u0437 \u043d\u0438\u0445 \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0442:\\n\\n1. <b>\u0422\u0438\u043f \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b</b>: \u0420\u0430\u0437\u043d\u044b\u0435 \u043f\u043e\u0440\u043e\u0434\u044b \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0438\u043c\u0435\u044e\u0442 \u0440\u0430\u0437\u043d\u0443\u044e \u043f\u043b\u043e\u0442\u043d\u043e\u0441\u0442\u044c \u0438 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u044c. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0445\u0432\u043e\u0439\u043d\u044b\u0435 \u043f\u043e\u0440\u043e\u0434\u044b, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u0441\u043e\u0441\u043d\u0430 \u0438 \u0435\u043b\u044c, \u043e\u0431\u044b\u0447\u043d\u043e \u043c\u0435\u043d\u0435\u0435 \u043f\u0440\u043e\u0447\u043d\u044b\u0435, \u0447\u0435\u043c \u043b\u0438\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043f\u043e\u0440\u043e\u0434\u044b, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u0434\u0443\u0431 \u0438 \u044f\u0441\u0435\u043d\u044c.\\n\\n2. <b>\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c</b>: \u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u0432\u043b\u0430\u0433\u0438 \u0432 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u0435\u0451 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u044c. \u0421\u0443\u0445\u0430\u044f \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u0430 \u043e\u0431\u044b\u0447\u043d\u043e \u043f\u0440\u043e\u0447\u043d\u0435\u0435, \u0447\u0435\u043c \u0432\u043b\u0430\u0436\u043d\u0430\u044f, \u0442\u0430\u043a \u043a\u0430\u043a \u0432\u043e\u0434\u0430 \u043c\u043e\u0436\u0435\u0442 \u0441\u043d\u0438\u0436\u0430\u0442\u044c \u043c\u0435\u0436\u043c\u043e\u043b\u0435\u043a\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u0441\u0432\u044f\u0437\u0438 \u0432 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0435 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b.\\n\\n3. <b>\u041a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438</b>: \u041f\u0438\u043b\u043e\u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b, \u043f\u0440\u043e\u0448\u0435\u0434\u0448\u0438\u0435 \u0445\u043e\u0440\u043e\u0448\u0443\u044e \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0448\u043b\u0438\u0444\u043e\u0432\u043a\u0443 \u0438 \u0441\u0443\u0448\u043a\u0443, \u0431\u0443\u0434\u0443\u0442 \u043e\u0431\u043b\u0430\u0434\u0430\u0442\u044c \u0431\u043e\u043b\u0435\u0435 \u0432\u044b\u0441\u043e\u043a\u0438\u043c\u0438 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u043d\u044b\u043c\u0438 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0430\u043c\u0438.\\n\\n4. <b>\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u043e\u043b\u043e\u043a\u043e\u043d</b>: \u041f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u044c \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0432\u044b\u0448\u0435 \u0432\u0434\u043e\u043b\u044c \u0432\u043e\u043b\u043e\u043a\u043e\u043d, \u0447\u0435\u043c \u043f\u043e\u043f\u0435\u0440\u0435\u043a. \u041f\u043e\u044d\u0442\u043e\u043c\u0443 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u043e\u043b\u043e\u043a\u043e\u043d \u043e\u0442\u043d\u043e\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u043d\u043e\u0439 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438\u0433\u0440\u0430\u0435\u0442 \u0432\u0430\u0436\u043d\u0443\u044e \u0440\u043e\u043b\u044c.\\n\\n5. <b>\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0438 \u0437\u0430\u0449\u0438\u0442\u0430</b>: \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0430\u043d\u0442\u0438\u0441\u0435\u043f\u0442\u0438\u043a\u043e\u0432,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:10", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:10", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='7b4e1abe-4c9e-4b0d-8083-8d04aab13581'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:10", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:11", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:30:11", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=571915781, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:10", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully for user_id=571915781.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:10", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:10", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:10", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=571915781: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:10", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=571915781, message='\u043f\u0440\u0435\u0434\u0435\u043b\u044c\u043d\u0430 \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u0430\u044f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u0430 \u043f\u0435\u0440\u0435\u043a\u0440\u044b\u0442\u0438\u0435 \u0438\u0437 \u0434\u043e\u0441\u043e\u043a \u0441\u043e\u0441\u043d\u044b \u0441 \u0441\u0435\u0447\u0435\u043d\u0438\u0435\u043c 50 \u043d\u0430 200 \u043f\u0440\u0438 \u043f\u0440\u043e\u043b\u0451\u0442\u0435 3 \u043c\u0435\u0442\u0440\u0430 \u0438 \u0448\u0430\u0433\u0435 \u043b\u0430\u0433 1.5 \u043c\u0435\u0442\u0440\u0430'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:10", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x0000016828EC11F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='\u0421\u0443\u0440\u043e\u0432\u044b\u0439', id=571915781, last_name='\u0415\u0432\u0433\u0435\u043d\u0438\u0439', type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 11, 35, 9, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='\u0421\u0443\u0440\u043e\u0432\u044b\u0439', id=571915781, is_bot=False, language_code='ru', last_name='\u0415\u0432\u0433\u0435\u043d\u0438\u0439'), group_chat_created=False, message_id=2939, supergroup_chat_created=False, text='\u043f\u0440\u0435\u0434\u0435\u043b\u044c\u043d\u0430 \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u0430\u044f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u0430 \u043f\u0435\u0440\u0435\u043a\u0440\u044b\u0442\u0438\u0435 \u0438\u0437 \u0434\u043e\u0441\u043e\u043a \u0441\u043e\u0441\u043d\u044b \u0441 \u0441\u0435\u0447\u0435\u043d\u0438\u0435\u043c 50 \u043d\u0430 200 \u043f\u0440\u0438 \u043f\u0440\u043e\u043b\u0451\u0442\u0435 3 \u043c\u0435\u0442\u0440\u0430 \u0438 \u0448\u0430\u0433\u0435 \u043b\u0430\u0433 1.5 \u043c\u0435\u0442\u0440\u0430'), update_id=881193903), <telegram.ext._callbackcontext.CallbackContext object at 0x00000168A38DACF0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:10", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x000001684EA63970>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:10", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='070691f0-7d2f-424d-b8ff-e77bc438e381' for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:10", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='070691f0-7d2f-424d-b8ff-e77bc438e381'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:10", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:10", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x00000168A15699A0>, '\u043f\u0440\u0435\u0434\u0435\u043b\u044c\u043d\u0430 \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u0430\u044f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u0430 \u043f\u0435\u0440\u0435\u043a\u0440\u044b\u0442\u0438\u0435 \u0438\u0437 \u0434\u043e\u0441\u043e\u043a \u0441\u043e\u0441\u043d\u044b \u0441 \u0441\u0435\u0447\u0435\u043d\u0438\u0435\u043c 50 \u043d\u0430 200 \u043f\u0440\u0438 \u043f\u0440\u043e\u043b\u0451\u0442\u0435 3 \u043c\u0435\u0442\u0440\u0430 \u0438 \u0448\u0430\u0433\u0435 \u043b\u0430\u0433 1.5 \u043c\u0435\u0442\u0440\u0430'), kwargs: {'chat_history': [HumanMessage(content='\u043f\u0440\u0435\u0434\u0435\u043b\u044c\u043d\u0430 \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u0430\u044f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u0430 \u043f\u0435\u0440\u0435\u043a\u0440\u044b\u0442\u0438\u0435 \u0438\u0437 \u0434\u043e\u0441\u043e\u043a \u0441\u043e\u0441\u043d\u044b \u0441 \u0441\u0435\u0447\u0435\u043d\u0438\u0435\u043c 50 \u043d\u0430 200 \u043f\u0440\u0438 \u043f\u0440\u043e\u043b\u0451\u0442\u0435 3 \u043c\u0435\u0442\u0440\u0430 \u0438 \u0448\u0430\u0433\u0435 \u043b\u0430\u0433 1.5 \u043c\u0435\u0442\u0440\u0430', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0442\u043e\u043c, \u043a\u0430\u043a \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043e\u0441\u043a\u0438 \u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u0435\u0451 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u043d\u044b\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438.', additional_kwargs={}, response_metadata={}), AIMessage(content='\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0442\u043e\u043c, \u043a\u0430\u043a \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b \u0434\u043e\u0441\u043a\u0438 \u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u0435\u0451 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u043d\u044b\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438.\\n-----------\\n\u041f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u043d\u044b\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438 \u0434\u043e\u0441\u043a\u0438 \u0437\u0430\u0432\u0438\u0441\u044f\u0442 \u043e\u0442 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0430 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0445 \u0441 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u043e\u043c, \u0438\u0437 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u043e\u043d\u0430 \u0438\u0437\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u0430. \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0438\u0437 \u043d\u0438\u0445 \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0442:\\n\\n1. <b>\u0422\u0438\u043f \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b</b>: \u0420\u0430\u0437\u043d\u044b\u0435 \u043f\u043e\u0440\u043e\u0434\u044b \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0438\u043c\u0435\u044e\u0442 \u0440\u0430\u0437\u043d\u0443\u044e \u043f\u043b\u043e\u0442\u043d\u043e\u0441\u0442\u044c \u0438 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u044c. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0445\u0432\u043e\u0439\u043d\u044b\u0435 \u043f\u043e\u0440\u043e\u0434\u044b, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u0441\u043e\u0441\u043d\u0430 \u0438 \u0435\u043b\u044c, \u043e\u0431\u044b\u0447\u043d\u043e \u043c\u0435... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:10", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A155D8A0>, 'json_data': {'input': [[8164, 44075, 26503, 14525, 7952, 29256, 61613, 16494, 36497, 6850, 34493, 67024, 13433, 13373, 28114, 15298, 39103, 23311, 1532, 23934, 7952, 23630, 15088, 5524, 23630, 12648, 5524, 5524, 56857, 9882, 10298, 220, 1135, 13373, 220, 1049, 37405, 12561, 7975, 45122, 51627, 220, 18, 11562, 8341, 22911, 7740, 55617, 34493, 1532, 26539, 34493, 220, 16, 13, 20, 11562, 8341, 22911]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:10", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:35:11 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '72', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999940', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_15678035694815c36b81bc07149d82cb', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec340722a9f9185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_15678035694815c36b81bc07149d82cb", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:11", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A155D8A0>, 'json_data': {'input': [[8164, 44075, 26503, 14525, 7952, 29256, 61613, 16494, 36497, 6850, 34493, 67024, 13433, 13373, 28114, 15298, 39103, 23311, 1532, 23934, 7952, 23630, 15088, 5524, 23630, 12648, 5524, 5524, 56857, 9882, 10298, 220, 1135, 13373, 220, 1049, 37405, 12561, 7975, 45122, 51627, 220, 18, 11562, 8341, 22911, 7740, 55617, 34493, 1532, 26539, 34493, 220, 16, 13, 20, 11562, 8341, 22911]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:11", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:35:11 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '67', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999940', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_8ed5db0d37f12d3cc5570c885574ed44', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec34077ee579185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_8ed5db0d37f12d3cc5570c885574ed44", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A155D8A0>, 'json_data': {'input': [[5925, 33006, 20976, 8164, 9239, 1506, 20440, 720, 8164, 7753, 10298, 4655, 6148, 17165, 720, 34604, 19188, 64134, 720, 2297, 56857, 18999, 720, 8164, 7753, 10298, 4655, 6148, 17165, 11, 11562, 6578, 720, 39091, 94178, 92091, 34613, 12561, 7975, 8341, 11, 11562, 720, 20807, 17721, 56999, 44065, 18868, 79686, 720, 34604, 18437, 64322, 44858, 5524, 2156, 25698, 6856, 36497, 6850, 34493, 67024, 13433, 11, 7820, 17279, 1506, 720, 16, 11, 15, 720, 16, 11, 20, 720, 17, 11, 15, 720, 17, 11, 20, 720, 18, 11, 15, 720, 8164, 7753, 15298, 39103, 23311, 1532, 7740, 11047, 31203, 720, 68506, 1830, 38657, 1506, 2355, 17, 78086, 112, 7, 1987, 78086, 112, 6860, 8, 720, 16, 11, 2790, 720, 16, 11, 2137, 720, 16, 11, 1644, 720, 16, 11, 1591, 720, 16, 11, 1419, 720, 17, 78086, 112, 7, 1987, 78086, 112, 10336, 8, 720, 16, 11, 249... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:12", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:35:12 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '195', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998530', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '17ms', 'x-request-id': 'req_f0224bb5cf234e44471fa2b434474c20', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec34079ef7f9185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_f0224bb5cf234e44471fa2b434474c20", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A155D8A0>, 'json_data': {'input': [[1954, 33006, 20807, 34493, 67024, 13433, 13373, 18868, 5372, 3865, 720, 34604, 19188, 64134, 720, 2297, 56857, 18999, 720, 8164, 7753, 10298, 4655, 6148, 17165, 11, 720, 6578, 6578, 720, 39091, 94178, 92091, 34613, 12561, 7975, 8341, 11, 11562, 720, 20807, 17721, 56999, 44065, 18868, 79686, 720, 16604, 2156, 38521, 2233, 5372, 23446, 1532, 720, 6735, 79686, 720, 34604, 18437, 64322, 44858, 5524, 2156, 25698, 6856, 36497, 6850, 34493, 67024, 13433, 11, 7820, 17279, 1506, 720, 16, 11, 15, 720, 16, 11, 20, 720, 17, 11, 15, 720, 17, 11, 20, 720, 18, 11, 15, 720, 17, 78086, 112, 7, 1987, 78086, 112, 17361, 8, 720, 17, 11, 2970, 720, 17, 11, 1927, 720, 17, 11, 868, 720, 16, 11, 4161, 720, 16, 11, 5932, 720, 16, 11, 2287, 720, 27435, 39103, 12426, 1506, 11, 720, 6148, 7753, 40590, 6148, 48150, 720, 8164, 7753, 1529... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:35:13 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '135', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998367', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '19ms', 'x-request-id': 'req_16d939d8b570e95feb9ffe356dc4c732', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec340803c0f9185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_16d939d8b570e95feb9ffe356dc4c732", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A155D8A0>, 'json_data': {'input': [[17279, 23297, 17165, 11562, 12394, 4898, 20219, 7753, 23446, 6735, 51736, 5524, 12561, 1532, 14082, 80230, 1506, 90457, 16494, 198, 89554, 64134, 12507, 17756, 1506, 55523, 10589, 220, 15, 11, 16, 12, 15, 11, 914, 11562, 6578, 320, 10124, 7975, 50506, 220, 1135, 14062, 6578, 18437, 29275, 55258, 1840, 53628, 39103, 18868, 58669, 2156, 33742, 51736, 7740, 11047, 20346, 10124, 6148, 8131, 51736, 5524, 5927, 9706, 29256, 31203, 10298, 39988, 96034, 7753, 10693, 61379, 12182, 198, 41873, 62315, 7975, 38438, 39988, 21923, 82224, 17165, 11, 5524, 8341, 15088, 25756, 16331, 35297, 39900, 5173, 3114, 8341, 18999, 345, 12426, 1830, 24697, 8164, 6856, 7486, 39900, 26539, 35111, 1506, 23934, 6850, 58669, 18226, 1532, 90457, 21708, 18868, 48355, 5524, 53419, 13999, 41036, 16742, 39988, 46177, 198, 7094, 5591, 3865, 1069... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:35:13 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '105', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998235', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '21ms', 'x-request-id': 'req_267dd41fdadc951ed2d77565f2aec1bb', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec34085cf679185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_267dd41fdadc951ed2d77565f2aec1bb", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000168A155D8A0>, 'json_data': {'input': [[23, 13, 605, 13, 19, 23784, 7952, 49284, 44786, 41291, 10298, 1506, 10693, 5524, 6578, 50436, 44786, 76401, 86610, 62491, 93129, 73181, 14257, 52037, 18226, 11320, 5591, 18482, 14257, 30480, 2233, 5372, 77495, 26539, 34493, 3865, 345, 5591, 4655, 6735, 49907, 1506, 90457, 34148, 44946, 28114, 25698, 9239, 9706, 36352, 19175, 69844, 50506, 17756, 10298, 13373, 220, 1135, 11562, 6578, 5524, 89666, 16742, 18868, 9239, 1482, 12648, 627, 23, 13, 605, 13, 20, 39903, 23630, 17165, 57297, 14476, 8131, 22885, 5173, 15088, 39103, 23311, 4329, 11, 63780, 4898, 8341, 44065, 7952, 23630, 17165, 11, 34943, 13404, 19479, 90875, 51736, 11562, 50436, 7094, 3865, 5524, 14082, 16742, 14391, 15088, 6856, 4655, 64880, 198, 4898, 2233, 12507, 4898, 50807, 5927, 55617, 8164, 35297, 1830, 320, 8164, 17721, 4898, 8341, 44065, 9015, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:35:14 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '123', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998638', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '16ms', 'x-request-id': 'req_330f971c062e8d1d90a4413b2b4cd0ff', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec3408818af9185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_330f971c062e8d1d90a4413b2b4cd0ff", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'You are a project assistant from the consultant side on design and construction projects. If you don\\'t know the answer, say that you don\\'t know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-03, 14:35:14. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retrieved context to answer the question.\\n\\n91 \\n \\n\u041e\u043f\u043e\u0440\u0430 \u0434\u043b\u044f \\n\u043f\u0435\u0440\u0435\u043c\u044b\u0447\u043a\u0438 \\n\u0420\u0430\u0437\u043c\u0435\u0440 \\n\u0441\u0435\u0447\u0435\u043d\u0438\u044f \\n\u043f\u0435\u0440\u0435\u043c\u044b\u0447\u043a\u0438, \u043c\u043c \\n\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u0440\u043e\u043b\u0435\u0442, \u043c \\n\u041d\u0430\u0440\u0443\u0436\u043d\u044b\u0435 \u0441\u0442\u0435\u043d\u044b \\n\u0420\u0430\u0441\u0447\u0435\u0442\u043d\u0430\u044f \u0441\u043d\u0435\u0433\u043e\u0432\u0430\u044f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0430, \u043a\u041f\u0430 \\n1,0 \\n1,5 \\n2,0 \\n2,5 \\n3,0 \\n\u043f\u0435\u0440\u0435\u043a\u0440\u044b\u0442\u0438\u0435 \u0438 \u0442\u0440\u0438 \\n\u044d\u0442\u0430\u0436\u0430  \\n2\\uf0b4(38\\u... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:14", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:19", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:35:19 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '3567', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '792879', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '534ms', 'x-request-id': 'req_762fde3ddfc1118a411a237a8180ab7c', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec3408ad9f92df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:19", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_762fde3ddfc1118a411a237a8180ab7c", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:19", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.8747583077913327, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:19", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:19", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:19", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"Given the following user prompt and LLM response, determine if additional information is needed to help the user fulfill their request and continue the conversation effectively. If yes, provide up to 3 additional prompts based on key concepts in the response, such as 'learn more about ...', 'how to determine ...', 'how to calculate ...', etc., that the user can use to gather more information. If no additional prompts are needed, respond with 'No suggestions needed'.\\n\\nUser Prompt: \u043f\u0440\u0435\u0434\u0435\u043b\u044c\u043d\u0430 \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u0430\u044f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u0430 \u043f\u0435\u0440\u0435\u043a\u0440\u044b\u0442\u0438\u0435 \u0438\u0437 \u0434\u043e\u0441\u043e\u043a \u0441\u043e\u0441\u043d\u044b \u0441 \u0441\u0435\u0447\u0435\u043d\u0438\u0435\u043c 50 \u043d\u0430 200 \u043f\u0440\u0438 \u043f\u0440\u043e\u043b\u0451\u0442\u0435 3 \u043c\u0435\u0442\u0440\u0430 \u0438 \u0448\u0430\u0433\u0435 \u043b\u0430\u0433 1.5 \u043c\u0435\u0442\u0440\u0430\\n\\nLLM Response: \u042f \u043d\u0435 \u043c\u043e\u0433\u0443 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0447\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043f\u0440\u0435\u0434\u0435\u043b\u044c\u043d\u043e \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e\u0439 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043d\u0430 \u043f\u0435\u0440\u0435\u043a\u0440\u044b\u0442\u0438\u0435 \u0438\u0437 \u0434\u043e\u0441\u043e\u043a \u0441\u043e\u0441\u043d\u044b \u0441 \u0441\u0435\u0447\u0435\u043d\u0438\u0435\u043c 50\u0445200 \u043c\u043c \u043f\u0440\u0438 \u0437\u0430\u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u0445 \u0431\u0435\u0437 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0440\u0430\u0441\u0447\u0451\u0442\u043e\u0432. \\n\\n\u041e\u0431\u044b\u0447\u043d\u043e \u0434\u043b\u044f \u0442\u0430\u043a\u0438\u0445 \u0440\u0430\u0441\u0447\u0451\u0442\u043e\u0432 \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u044e\u0442\u0441\u044f:\\n- \u0442\u0438\u043f \u0438 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:19", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:21", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 11:35:20 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1341', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799510', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '36ms', 'x-request-id': 'req_871a1596d758661c68062fdb016cf747', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec340a879632df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:21", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_871a1596d758661c68062fdb016cf747", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:21", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['\u0423\u0437\u043d\u0430\u0439\u0442\u0435, \u043a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0442\u0438\u043f \u0438 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0434\u043b\u044f \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0446\u0435\u043b\u0435\u0439.', '\u0418\u0437\u0443\u0447\u0438\u0442\u0435, \u043a\u0430\u043a \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438 (\u0432\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c, \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u043d\u044b\u0435 \u043a\u043e\u043b\u0435\u0431\u0430\u043d\u0438\u044f) \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u0432\u043b\u0438\u044f\u0442\u044c \u043d\u0430 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u0443.', '\u041d\u0430\u0443\u0447\u0438\u0442\u0435\u0441\u044c \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u043d\u0430 \u043f\u0435\u0440\u0435\u043a\u0440\u044b\u0442\u0438\u0435, \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u044f \u0440\u0430\u0432\u043d\u043e\u043c\u0435\u0440\u043d\u043e \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u044b\u0435, \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0438 \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u044b\u0435 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438.']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:21", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u042f \u043d\u0435 \u043c\u043e\u0433\u0443 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0447\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043f\u0440\u0435\u0434\u0435\u043b\u044c\u043d\u043e \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e\u0439 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043d\u0430 \u043f\u0435\u0440\u0435\u043a\u0440\u044b\u0442\u0438\u0435 \u0438\u0437 \u0434\u043e\u0441\u043e\u043a \u0441\u043e\u0441\u043d\u044b \u0441 \u0441\u0435\u0447\u0435\u043d\u0438\u0435\u043c 50\u0445200 \u043c\u043c \u043f\u0440\u0438 \u0437\u0430\u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u0445 \u0431\u0435\u0437 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0440\u0430\u0441\u0447\u0451\u0442\u043e\u0432.\\n\\n\u041e\u0431\u044b\u0447\u043d\u043e \u0434\u043b\u044f \u0442\u0430\u043a\u0438\u0445 \u0440\u0430\u0441\u0447\u0451\u0442\u043e\u0432 \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u044e\u0442\u0441\u044f:\\n\u2022 \u0442\u0438\u043f \u0438 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b;\\n\u2022 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438 (\u0432\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c, \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u043d\u044b\u0435 \u043a\u043e\u043b\u0435\u0431\u0430\u043d\u0438\u044f);\\n\u2022 \u0432\u0438\u0434 \u0438 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 (\u0440\u0430\u0432\u043d\u043e\u043c\u0435\u0440\u043d\u043e \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u0430\u044f, \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f, \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u0430\u044f);\\n\u2022 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0438 \u0441\u043f\u043e\u0441\u043e\u0431 \u043a\u0440\u0435\u043f\u043b\u0435\u043d\u0438\u044f \u043b\u0430\u0433.\\n\\n\u0414\u043b\u044f \u0442\u043e\u0447\u043d\u043e\u0433\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043f\u0440\u0435\u0434\u0435\u043b\u044c\u043d\u043e \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e\u0439 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u044b\u0439 \u0440\u0430\u0441\u0447\u0435\u0442 \u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u0432\u0441\u0435\u0445 \u044d\u0442\u0438\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432 \u0438\u043b\u0438 \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u0430\u043c \u0432 \u043e\u0431\u043b\u0430\u0441\u0442\u0438 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f.\\n\\n------------------\\nReferences (/references):\\n\u041a\u0430\u0440\u043a\u0430\u0441\u043d\u044b\u0435 \u0414\u043e\u043c\u0430_\u0421\u041f 31-105-2002 .pdf, pages: 89, 90\\n\u0412\u043e\u0434\u043e\u0441\u043d\u0430\u0431\u0436\u0435\u043d\u0438\u0435. \u041d\u0430\u0440\u0443\u0436\u043d\u044b\u0435 \u0441\u0435\u0442\u0438_\u0421\u041f 31.13330.2021.pdf, pages: 16\\n\u0418\u0437\u043e\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u044b\u0435_\u0438_\u043e\u0442\u0434\u0435\u043b\u043e\u0447\u043d\u044b\u0435_\u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f_\u0421\u041f_71_13330_2017.pdf, pages: 42\\n', {'\u0412\u043e\u0434\u043e\u0441\u043d\u0430\u0431\u0436\u0435\u043d\u0438\u0435. \u041d\u0430\u0440\u0443\u0436\u043d\u044b\u0435 \u0441\u0435\u0442\u0438_\u0421\u041f 31.13330.2021.pdf', '\u0418\u0437\u043e\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u044b\u0435_\u0438_\u043e\u0442... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:21", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:21", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='070691f0-7d2f-424d-b8ff-e77bc438e381'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:21", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:21", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 14:35:21", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=571915781, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:25:41", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": null}
{"asctime": "2024-12-03 19:25:41", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": null}
{"asctime": "2024-12-03 19:25:42", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-5"}
{"asctime": "2024-12-03 19:25:42", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-5"}
{"asctime": "2024-12-03 19:25:43", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-5"}
{"asctime": "2024-12-03 19:26:10", "name": "decorators", "levelname": "DEBUG", "message": "Initialized DatabaseService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:26:12", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:26:12", "name": "decorators", "levelname": "DEBUG", "message": "Initialized LLMService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:26:12", "name": "decorators", "levelname": "DEBUG", "message": "Set user_id: 244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:26:12", "name": "decorators", "levelname": "DEBUG", "message": "Set user_name: Andrey", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:26:12", "name": "decorators", "levelname": "DEBUG", "message": "Set language_code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:26:12", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:26:12", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:26:12", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x000001EED11B11F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 26, 10, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2941, supergroup_chat_created=False, text='/start'), update_id=881193904), <telegram.ext._callbackcontext.CallbackContext object at 0x000001EEF675BBD0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:26:12", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x000001EEF6929340>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:26:12", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:26:12", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:26:18", "name": "db_service", "levelname": "ERROR", "message": "Error saving user info for user_id 244732168: \u041e\u0428\u0418\u0411\u041a\u0410:  \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \"language_name\" \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \"users\" \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442\nLINE 6:                     language_name, \n                            ^\n", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:26:18", "name": "decorators", "levelname": "ERROR", "message": "Failed to save user info for user_id 244732168: \u041e\u0428\u0418\u0411\u041a\u0410:  \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \"language_name\" \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \"users\" \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442\nLINE 6:                     language_name, \n                            ^\n", "exc_info": "Traceback (most recent call last):\n  File \"E:\\Python_Projects\\pdflyx\\decorators.py\", line 136, in wrapper\n    db_service.save_user_info(user_id, user_name, language_code)\n  File \"E:\\Python_Projects\\pdflyx\\db_service.py\", line 514, in save_user_info\n    raise e  # Re-raise exception if necessary\n    ^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\db_service.py\", line 464, in save_user_info\n    cursor.execute(\npsycopg2.errors.UndefinedColumn: \u041e\u0428\u0418\u0411\u041a\u0410:  \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \"language_name\" \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \"users\" \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442\nLINE 6:                     language_name, \n                            ^\n", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:13", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": null}
{"asctime": "2024-12-03 19:31:13", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": null}
{"asctime": "2024-12-03 19:31:14", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-5"}
{"asctime": "2024-12-03 19:31:15", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-5"}
{"asctime": "2024-12-03 19:31:15", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-5"}
{"asctime": "2024-12-03 19:31:18", "name": "decorators", "levelname": "DEBUG", "message": "Initialized DatabaseService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:19", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:19", "name": "decorators", "levelname": "DEBUG", "message": "Initialized LLMService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:19", "name": "decorators", "levelname": "DEBUG", "message": "Set user_id: 244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:19", "name": "decorators", "levelname": "DEBUG", "message": "Set user_name: Andrey", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:19", "name": "decorators", "levelname": "DEBUG", "message": "Set language_code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:19", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:19", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:19", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x0000024D5FA811F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 31, 18, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2945, supergroup_chat_created=False, text='/start'), update_id=881193906), <telegram.ext._callbackcontext.CallbackContext object at 0x0000024D050FB8C0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:19", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x0000024D05235340>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:20", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:20", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:28", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:31:28", "last_active": "2024-12-03, 19:31:28", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:31:28", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:28", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:28", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:28", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/language'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:28", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: language with args: (<handlers.BotHandlers object at 0x0000024D5FA811F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 31, 27, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=9, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2947, supergroup_chat_created=False, text='/language'), update_id=881193907), <telegram.ext._callbackcontext.CallbackContext object at 0x0000024D050FBD20>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:28", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: language with result: <coroutine object BotHandlers.language at 0x0000024D0510E570>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:29", "name": "handlers", "levelname": "INFO", "message": "Prompted language selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:29", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:31", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:31:31", "last_active": "2024-12-03, 19:31:31", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:31:31", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:32", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:32", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:32", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_language:Russian'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:32", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_language with args: (<handlers.BotHandlers object at 0x0000024D5FA811F0>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_language:Russian', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116658005111531', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 31, 28, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=2948, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_language:English', text='English'),), (InlineKeyboardButton(callback_data='set_language:Russian', text='\u0420\u0443\u0441\u0441\u043a\u0438\u0439'),), (InlineKeyboardButton(callback_data='set_language:Indonesian', text='Indone... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:32", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_language with result: <coroutine object BotHandlers.set_language at 0x0000024D04FA7E00>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:32", "name": "handlers", "levelname": "DEBUG", "message": "Updated language to 'Russian' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:32", "name": "handlers", "levelname": "INFO", "message": "User_id=244732168 set language to 'Russian'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:32", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:43", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:31:43", "last_active": "2024-12-03, 19:31:43", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:31:43", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:43", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:43", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:43", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/language'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:43", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: language with args: (<handlers.BotHandlers object at 0x0000024D5FA811F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 31, 42, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=9, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2950, supergroup_chat_created=False, text='/language'), update_id=881193909), <telegram.ext._callbackcontext.CallbackContext object at 0x0000024D052603D0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:43", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: language with result: <coroutine object BotHandlers.language at 0x0000024D0510E570>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:44", "name": "handlers", "levelname": "INFO", "message": "Prompted language selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:44", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:46", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:31:46", "last_active": "2024-12-03, 19:31:46", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:31:46", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:46", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:46", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:46", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_language:English'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:46", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_language with args: (<handlers.BotHandlers object at 0x0000024D5FA811F0>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_language:English', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116659251926568', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 31, 43, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=2951, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_language:English', text='English'),), (InlineKeyboardButton(callback_data='set_language:Russian', text='\u0420\u0443\u0441\u0441\u043a\u0438\u0439'),), (InlineKeyboardButton(callback_data='set_language:Indonesian', text='Indone... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:46", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_language with result: <coroutine object BotHandlers.set_language at 0x0000024D04FA7A70>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:47", "name": "handlers", "levelname": "DEBUG", "message": "Updated language to 'English' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:47", "name": "handlers", "levelname": "INFO", "message": "User_id=244732168 set language to 'English'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:47", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:53", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:31:53", "last_active": "2024-12-03, 19:31:53", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:31:53", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:53", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:53", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:53", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/language'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:53", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: language with args: (<handlers.BotHandlers object at 0x0000024D5FA811F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 31, 52, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=9, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2953, supergroup_chat_created=False, text='/language'), update_id=881193911), <telegram.ext._callbackcontext.CallbackContext object at 0x0000024D05260A60>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:53", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: language with result: <coroutine object BotHandlers.language at 0x0000024D051D0E10>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:54", "name": "handlers", "levelname": "INFO", "message": "Prompted language selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:31:54", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:01", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:01", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:01", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x0000024D5FA811F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 32, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2955, supergroup_chat_created=False, text='/start'), update_id=881193912), <telegram.ext._callbackcontext.CallbackContext object at 0x0000024D050FBE00>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:01", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x0000024D05124A40>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:01", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:01", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:07", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:32:07", "last_active": "2024-12-03, 19:32:07", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:32:07", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:07", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:07", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:07", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/language'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:07", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: language with args: (<handlers.BotHandlers object at 0x0000024D5FA811F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 32, 7, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=9, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2957, supergroup_chat_created=False, text='/language'), update_id=881193913), <telegram.ext._callbackcontext.CallbackContext object at 0x0000024D050FBE00>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:07", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: language with result: <coroutine object BotHandlers.language at 0x0000024D051D0D00>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:08", "name": "handlers", "levelname": "INFO", "message": "Prompted language selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:08", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:10", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:32:10", "last_active": "2024-12-03, 19:32:10", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:32:10", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:10", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:10", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:10", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_language:Russian'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:10", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_language with args: (<handlers.BotHandlers object at 0x0000024D5FA811F0>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_language:Russian', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116659555268662', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 32, 7, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=2958, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_language:English', text='English'),), (InlineKeyboardButton(callback_data='set_language:Russian', text='\u0420\u0443\u0441\u0441\u043a\u0438\u0439'),), (InlineKeyboardButton(callback_data='set_language:Indonesian', text='Indones... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:10", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_language with result: <coroutine object BotHandlers.set_language at 0x0000024D04FA7A70>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:11", "name": "handlers", "levelname": "DEBUG", "message": "Updated language to 'Russian' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:11", "name": "handlers", "levelname": "INFO", "message": "User_id=244732168 set language to 'Russian'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:11", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:15", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:15", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:15", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x0000024D5FA811F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 32, 14, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2960, supergroup_chat_created=False, text='/start'), update_id=881193915), <telegram.ext._callbackcontext.CallbackContext object at 0x0000024D050FAA50>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:15", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x0000024D05124A40>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:15", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:15", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:21", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:21", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:21", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x0000024D5FA811F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 32, 21, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2962, supergroup_chat_created=False, text='/start'), update_id=881193916), <telegram.ext._callbackcontext.CallbackContext object at 0x0000024D050FBC40>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:21", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x0000024D05124A40>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:22", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:22", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:27", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:32:27", "last_active": "2024-12-03, 19:32:27", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:32:27", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:27", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:27", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:27", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/status'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:27", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: status with args: (<handlers.BotHandlers object at 0x0000024D5FA811F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 32, 26, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=7, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2964, supergroup_chat_created=False, text='/status'), update_id=881193917), <telegram.ext._callbackcontext.CallbackContext object at 0x0000024D050F9EF0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:27", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: status with result: <coroutine object BotHandlers.status at 0x0000024D04FAB370>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:28", "name": "handlers", "levelname": "INFO", "message": "Provided status to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:28", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:56", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:56", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:56", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x0000024D5FA811F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 32, 55, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2966, supergroup_chat_created=False, text='/start'), update_id=881193918), <telegram.ext._callbackcontext.CallbackContext object at 0x0000024D052612B0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:56", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x0000024D05124540>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:57", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:32:57", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:07", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:33:07", "last_active": "2024-12-03, 19:33:07", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:33:07", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:07", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:07", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:07", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/clear_context'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:07", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: clear_context with args: (<handlers.BotHandlers object at 0x0000024D5FA811F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 33, 6, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=14, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2968, supergroup_chat_created=False, text='/clear_context'), update_id=881193919), <telegram.ext._callbackcontext.CallbackContext object at 0x0000024D05261240>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:07", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: clear_context with result: <coroutine object BotHandlers.clear_context at 0x0000024D04DCB1C0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:07", "name": "handlers", "levelname": "INFO", "message": "User_id=244732168 initiated /clear_context command.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:07", "name": "handlers", "levelname": "DEBUG", "message": "Cleared context key 'folder_path' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:07", "name": "handlers", "levelname": "DEBUG", "message": "Cleared context key 'vector_store_loaded' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:07", "name": "handlers", "levelname": "DEBUG", "message": "Cleared context key 'valid_files_in_folder' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:07", "name": "handlers", "levelname": "DEBUG", "message": "Cleared context key 'context_source' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:07", "name": "handlers", "levelname": "DEBUG", "message": "Cleared context key 'file_id_map' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:07", "name": "handlers", "levelname": "DEBUG", "message": "Cleared context key 'conversation_id' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:07", "name": "handlers", "levelname": "DEBUG", "message": "Cleared vector_store for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:07", "name": "handlers", "levelname": "DEBUG", "message": "Cleared folder path in database for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:07", "name": "handlers", "levelname": "INFO", "message": "Context cleared for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:07", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:12", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:12", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:12", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x0000024D5FA811F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 33, 12, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2970, supergroup_chat_created=False, text='/start'), update_id=881193920), <telegram.ext._callbackcontext.CallbackContext object at 0x0000024D052609F0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:12", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x0000024D05127B40>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:13", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:13", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:27", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:33:27", "last_active": "2024-12-03, 19:33:27", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:33:27", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:27", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:28", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:28", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:28", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x0000024D5FA811F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 33, 26, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2972, supergroup_chat_created=False, text='/knowledge_base'), update_id=881193921), <telegram.ext._callbackcontext.CallbackContext object at 0x0000024D050FAA50>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:28", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x0000024D0514C4C0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:28", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:28", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:32", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:33:32", "last_active": "2024-12-03, 19:33:32", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:33:32", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:32", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:32", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:32", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:32", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_knowledge_base with args: (<handlers.BotHandlers object at 0x0000024D5FA811F0>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116658234155748', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 33, 28, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=2973, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', text='\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'),), (InlineKeyboardButton(callback_data='set_knowledge:Indonesian Regulations', text='Indonesian Regulations'),... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:32", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_knowledge_base with result: <coroutine object BotHandlers.set_knowledge_base at 0x0000024D04DCB1C0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:32", "name": "handlers", "levelname": "DEBUG", "message": "Set folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:32", "name": "handlers", "levelname": "DEBUG", "message": "Found 29 valid files in folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:32", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_and_index_documents with args: (<llm_service.LLMService object at 0x0000024D05207890>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:32", "name": "llm_service", "levelname": "DEBUG", "message": "Starting load_and_index_documents for folder_path='E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:32", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_vector_store with args: (<llm_service.LLMService object at 0x0000024D05207890>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:32", "name": "faiss.loader", "levelname": "DEBUG", "message": "Environment variable FAISS_OPT_LEVEL is not set, so let's pick the instruction set according to the current CPU", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:32", "name": "faiss.loader", "levelname": "INFO", "message": "Loading faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:32", "name": "faiss.loader", "levelname": "INFO", "message": "Successfully loaded faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:32", "name": "llm_service", "levelname": "INFO", "message": "Loaded vector store from E:\\knowledge_base\\russian_regulations\\vector_store", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:32", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_vector_store with result: True", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:32", "name": "llm_service", "levelname": "INFO", "message": "Vector store loaded from existing files in 'E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:32", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_and_index_documents with result: (True, 'Vector store loaded from existing files.')", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:33", "name": "handlers", "levelname": "INFO", "message": "Knowledge base '\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b' set successfully for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:33", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:33:49", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": null}
{"asctime": "2024-12-03 19:33:49", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": null}
{"asctime": "2024-12-03 19:33:50", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-5"}
{"asctime": "2024-12-03 19:33:50", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-5"}
{"asctime": "2024-12-03 19:33:50", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-5"}
{"asctime": "2024-12-03 19:34:07", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": null}
{"asctime": "2024-12-03 19:34:07", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": null}
{"asctime": "2024-12-03 19:34:08", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-5"}
{"asctime": "2024-12-03 19:34:09", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-5"}
{"asctime": "2024-12-03 19:34:09", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-5"}
{"asctime": "2024-12-03 19:34:17", "name": "decorators", "levelname": "DEBUG", "message": "Initialized DatabaseService for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:17", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:34:17", "last_active": "2024-12-03, 19:34:17", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:34:17", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:17", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:18", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:18", "name": "decorators", "levelname": "DEBUG", "message": "Initialized LLMService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:18", "name": "decorators", "levelname": "DEBUG", "message": "Set user_id: 244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:18", "name": "decorators", "levelname": "DEBUG", "message": "Set user_name: Andrey", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:18", "name": "decorators", "levelname": "DEBUG", "message": "Set language_code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:18", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:18", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/status'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:18", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: status with args: (<handlers.BotHandlers object at 0x000001A608C264B0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 34, 16, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=7, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2975, supergroup_chat_created=False, text='/status'), update_id=881193923), <telegram.ext._callbackcontext.CallbackContext object at 0x000001A608C6BA80>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:18", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: status with result: <coroutine object BotHandlers.status at 0x000001A608B1A8F0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:18", "name": "handlers", "levelname": "INFO", "message": "Provided status to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:18", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:21", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:34:21", "last_active": "2024-12-03, 19:34:21", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:34:21", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:21", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:21", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:21", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:21", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x000001A608C264B0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 34, 20, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2977, supergroup_chat_created=False, text='/knowledge_base'), update_id=881193924), <telegram.ext._callbackcontext.CallbackContext object at 0x000001A608C69EF0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:21", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x000001A608B37880>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:21", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:21", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:24", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:34:24", "last_active": "2024-12-03, 19:34:24", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:34:24", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:24", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:24", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:24", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:24", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_knowledge_base with args: (<handlers.BotHandlers object at 0x000001A608C264B0>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116658684580826', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 34, 21, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=2978, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', text='\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'),), (InlineKeyboardButton(callback_data='set_knowledge:Indonesian Regulations', text='Indonesian Regulations'),... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:24", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_knowledge_base with result: <coroutine object BotHandlers.set_knowledge_base at 0x000001A60796B320>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:25", "name": "handlers", "levelname": "DEBUG", "message": "Set folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:25", "name": "handlers", "levelname": "DEBUG", "message": "Found 29 valid files in folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:25", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_and_index_documents with args: (<llm_service.LLMService object at 0x000001A608ACD9A0>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:25", "name": "llm_service", "levelname": "DEBUG", "message": "Starting load_and_index_documents for folder_path='E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:25", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_vector_store with args: (<llm_service.LLMService object at 0x000001A608ACD9A0>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:25", "name": "faiss.loader", "levelname": "DEBUG", "message": "Environment variable FAISS_OPT_LEVEL is not set, so let's pick the instruction set according to the current CPU", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:25", "name": "faiss.loader", "levelname": "INFO", "message": "Loading faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:25", "name": "faiss.loader", "levelname": "INFO", "message": "Successfully loaded faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:25", "name": "llm_service", "levelname": "ERROR", "message": "Failed to load vector store from E:\\knowledge_base\\russian_regulations\\vector_store: Error in __cdecl faiss::FileIOReader::FileIOReader(const char *) at D:\\a\\faiss-wheels\\faiss-wheels\\faiss\\faiss\\impl\\io.cpp:68: Error: 'f' failed: could not open E:\\knowledge_base\\russian_regulations\\vector_store\\index.faiss for reading: No such file or directory", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:25", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_vector_store with result: False", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:25", "name": "llm_service", "levelname": "DEBUG", "message": "Skipped unsupported file type: arch", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:25", "name": "llm_service", "levelname": "DEBUG", "message": "Skipped unsupported file type: vector_store", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:25", "name": "llm_service", "levelname": "INFO", "message": "Loaded PDF document: \u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u043e\u0433\u0438_\u0421\u041f 78.13330.2012.pdf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:26", "name": "llm_service", "levelname": "INFO", "message": "Loaded PDF document: \u0411\u0435\u0442\u043e\u043d\u043d\u044b\u0435_\u0438_\u0436\u0435\u043b\u0435\u0437\u043e\u0431\u0435\u0442\u043e\u043d\u043d\u044b\u0435_\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438_SP_63_13330_2018.pdf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:26", "name": "llm_service", "levelname": "INFO", "message": "Loaded PDF document: \u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0439 \u0432\u043e\u0434\u043e\u043f\u0440\u043e\u0432\u043e\u0434 \u0438 \u043a\u0430\u043d\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f_\u0421\u041f 30.13330.2020.pdf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:26", "name": "llm_service", "levelname": "INFO", "message": "Loaded PDF document: \u0412\u043e\u0434\u043e\u0441\u043d\u0430\u0431\u0436\u0435\u043d\u0438\u0435. \u041d\u0430\u0440\u0443\u0436\u043d\u044b\u0435 \u0441\u0435\u0442\u0438_\u0421\u041f 31.13330.2021.pdf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:27", "name": "llm_service", "levelname": "INFO", "message": "Loaded PDF document: \u0413\u0440\u0430\u0434\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u0434\u0435\u043a\u0441 \u0420\u0424.pdf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:28", "name": "llm_service", "levelname": "INFO", "message": "Loaded PDF document: \u0414\u0435\u0440\u0435\u0432\u044f\u043d\u043d\u044b\u0435 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438_\u0421\u041f 64.13330.2017.pdf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:29", "name": "llm_service", "levelname": "INFO", "message": "Loaded PDF document: \u0416\u0438\u043b\u0438\u0449\u043d\u044b\u0439 \u043a\u043e\u0434\u0435\u043a\u0441 \u0420\u0424.pdf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:29", "name": "llm_service", "levelname": "INFO", "message": "Loaded PDF document: \u0417\u0434\u0430\u043d\u0438\u044f \u0438\u0437 \u0434\u0435\u0440\u0435\u0432\u044f\u043d\u043d\u043e\u0433\u043e \u0431\u0440\u0443\u0441\u0430_\u0421\u041f 515.1325800.2022 .pdf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:29", "name": "llm_service", "levelname": "INFO", "message": "Loaded PDF document: \u0417\u0434\u0430\u043d\u0438\u044f \u0438\u0437 \u0434\u0435\u0440\u0435\u0432\u044f\u043d\u043d\u044b\u0445 \u0441\u0440\u0443\u0431\u043d\u044b\u0445 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0439_\u0421\u041f 516.1325800.2022.pdf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:29", "name": "llm_service", "levelname": "INFO", "message": "Loaded PDF document: \u0418\u0437\u043e\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u044b\u0435_\u0438_\u043e\u0442\u0434\u0435\u043b\u043e\u0447\u043d\u044b\u0435_\u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f_\u0421\u041f_71_13330_2017.pdf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:29", "name": "llm_service", "levelname": "INFO", "message": "Loaded PDF document: \u0418\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u043e \u0433\u0435\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0438\u0437\u044b\u0441\u043a\u0430\u043d\u0438\u044f_\u0421\u041f 446.1325800.2019 .pdf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:29", "name": "llm_service", "levelname": "INFO", "message": "Loaded PDF document: \u0418\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u043e \u044d\u043a\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0438\u0437\u044b\u0441\u043a\u0430\u043d\u0438\u044f_\u0421\u041f 502.1325800.2021.pdf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:30", "name": "llm_service", "levelname": "INFO", "message": "Loaded PDF document: \u041a\u0430\u0440\u043a\u0430\u0441\u043d\u044b\u0435 \u0414\u043e\u043c\u0430_\u0421\u041f 31-105-2002 .pdf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:30", "name": "llm_service", "levelname": "INFO", "message": "Loaded PDF document: \u041a\u0440\u043e\u0432\u043b\u0438_\u0421\u041f 17.13330.2017.pdf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:30", "name": "llm_service", "levelname": "INFO", "message": "Loaded PDF document: \u041d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438 \u0432\u043e\u0437\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f_\u0421\u041f 20.13330.2016.pdf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:31", "name": "llm_service", "levelname": "INFO", "message": "Loaded PDF document: \u041d\u0435\u0441\u0443\u0449\u0438\u0435_\u0438_\u043e\u0433\u0440\u0430\u0436\u0434\u0430\u044e\u0449\u0438\u0435_\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438_\u0421\u041f_70_13330_2012.pdf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:31", "name": "llm_service", "levelname": "INFO", "message": "Loaded PDF document: \u041e\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0437\u0434\u0430\u043d\u0438\u044f \u0438 \u0441\u043e\u043e\u0440\u0443\u0436\u0435\u043d\u0438\u044f_\u0421\u041f 118.13330.2022.pdf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:31", "name": "llm_service", "levelname": "INFO", "message": "Loaded PDF document: \u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f_\u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430_\u0421\u041f_48_13330_2011.pdf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:32", "name": "llm_service", "levelname": "INFO", "message": "Loaded PDF document: \u041e\u0442\u043e\u043f\u043b\u0435\u043d\u0438\u0435 \u0432\u0435\u043d\u0442\u0438\u043b\u044f\u0446\u0438\u044f \u0438 \u043a\u043e\u043d\u0434\u0438\u0446\u0438\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u043e\u0437\u0434\u0443\u0445\u0430_\u0421\u041f 60.13330.2020.pdf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:32", "name": "llm_service", "levelname": "INFO", "message": "Loaded PDF document: \u041f\u043e\u043b\u044b_\u0421\u041f 29.13330.2011.pdf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:32", "name": "llm_service", "levelname": "INFO", "message": "Loaded PDF document: \u0421\u0435\u0442\u0438 \u0421\u0432\u044f\u0437\u0438_\u0421\u041f 519.1325800.2023.pdf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:32", "name": "llm_service", "levelname": "INFO", "message": "Loaded PDF document: \u0421\u0438\u0441\u0442\u0435\u043c\u044b \u043f\u0440\u043e\u0442\u0438\u0432\u043e\u043f\u043e\u0436\u0430\u0440\u043d\u043e\u0439 \u0437\u0430\u0449\u0438\u0442\u044b_\u0421\u041f 1.13130.2020.pdf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:32", "name": "llm_service", "levelname": "INFO", "message": "Loaded PDF document: \u0421\u0438\u0441\u0442\u0435\u043c\u044b \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u0441\u0432\u044f\u0437\u0438 \u0437\u0434\u0430\u043d\u0438\u0439 \u0438 \u0441\u043e\u043e\u0440\u0443\u0436\u0435\u043d\u0438\u0439_\u0421\u041f 134.13330.2012.pdf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:33", "name": "llm_service", "levelname": "INFO", "message": "Loaded PDF document: \u0421\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438_\u0421\u041f 16.13330.2017.pdf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:33", "name": "llm_service", "levelname": "INFO", "message": "Loaded PDF document: \u0422\u0435\u043f\u043b\u043e\u0432\u0430\u044f_\u0437\u0430\u0449\u0438\u0442\u0430_\u0437\u0434\u0430\u043d\u0438\u0439_\u0421\u041f_50_13330_2012.pdf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:33", "name": "llm_service", "levelname": "INFO", "message": "Loaded PDF document: \u0422\u0435\u043f\u043b\u043e\u0432\u0430\u044f_\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u044f_\u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f_\u0438_\u0442\u0440\u0443\u0431\u043e\u043f\u0440\u043e\u0432\u043e\u0434\u043e\u0432_\u0421\u041f_61_13330_2012.pdf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:33", "name": "llm_service", "levelname": "INFO", "message": "Loaded PDF document: \u0422\u0435\u043f\u043b\u043e\u0432\u044b\u0435 \u043f\u0443\u043d\u043a\u0442\u044b \u0438 \u0442\u0435\u043f\u043b\u043e\u0441\u043d\u0430\u0431\u0436\u0435\u043d\u0438\u0435_\u0421\u041f 510.1325800.2022.pdf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:34", "name": "llm_service", "levelname": "INFO", "message": "Loaded PDF document: \u0424\u0443\u043d\u0434\u0430\u043c\u0435\u043d\u0442\u044b_\u0421\u041f 45.13330.2017.pdf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:34", "name": "llm_service", "levelname": "INFO", "message": "Loaded PDF document: \u042d\u043b\u0435\u043a\u0442\u0440\u043e\u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430_\u0421\u041f 76.13330.2016.pdf", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:34", "name": "llm_service", "levelname": "INFO", "message": "Split documents into 3493 chunks.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:40", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001A6091AAFC0>, 'json_data': {'input': [[19871, 17279, 220, 9263, 13, 9423, 966, 13, 679, 17, 87927, 19871, 16604, 20976, 25079, 23227, 34604, 37255, 16604, 31274, 65014, 198, 19871, 35095, 34604, 20976, 31274, 35095, 56191, 65014, 140, 105, 20807, 37255, 86491, 36479, 65014, 31274, 39091, 37255, 35095, 20976, 65014, 20976, 38214, 31274, 86491, 720, 31233, 11323, 75014, 720, 37255, 4898, 89348, 72331, 59921, 7486, 44858, 18600, 83586, 71829, 198, 19871, 20807, 1840, 17279, 220, 1419, 12, 1721, 12, 1484, 5736, 20976, 27435, 19871, 220, 6365, 13, 12505, 198, 97641, 5927, 36750, 18999, 220, 679, 18, 12, 1721, 12, 1721, 87927, 23227, 44075, 13810, 3114, 6856, 50306, 198, 16554, 19871, 36750, 18999, 8379, 45916, 9706, 1532, 73226, 64292, 198, 16, 43896, 19871, 17279, 20976, 65014, 20807, 31274, 35095, 56191, 65014, 140, 105, 482, 67891, 13404, 7753, 391... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:34:40", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:35:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers([('date', 'Tue, 03 Dec 2024 16:34:57 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-allow-origin', '*'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-model', 'text-embedding-ada-002'), ('openai-organization', 'nuanu-wimbwa'), ('openai-processing-ms', '11045'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '5000000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '3602571'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '16.769s'), ('x-request-id', 'req_f6663fd0c07f07705c65284ce70ce79b'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=SkFAk2j0P5yyT7YjksBa9eU5D4zfwoDqYI.3cUtKmEc-1733243697-1.0.1.1-9c9SkDK71b4PIeSEeT9Mgc7QKu25Rm... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:35:01", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_f6663fd0c07f07705c65284ce70ce79b", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:35:04", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001A6075719E0>, 'json_data': {'input': [[8164, 67285, 18999, 5524, 14082, 20812, 5372, 70959, 12507, 58317, 64292, 22885, 76401, 86610, 18999, 41291, 30656, 1506, 5524, 14837, 31443, 12426, 18999, 21923, 23934, 34694, 4329, 23311, 1840, 720, 2156, 13404, 5591, 1840, 17394, 16494, 22885, 48835, 86630, 1506, 20440, 25756, 23630, 37013, 17721, 20812, 5372, 44786, 46177, 11562, 3865, 23446, 15458, 8164, 39127, 44786, 77083, 7094, 13, 320, 16604, 720, 44075, 16248, 57186, 67891, 13404, 7753, 39127, 39900, 59313, 74828, 20879, 220, 2148, 13, 717, 13, 679, 19, 97990, 220, 18162, 12, 55258, 36551, 8, 720, 605, 13, 23227, 31203, 9136, 2156, 27717, 5927, 14257, 68462, 61498, 94962, 23227, 28086, 56008, 20812, 12507, 49520, 23630, 2297, 44938, 66144, 16742, 67891, 13404, 7753, 54686, 720, 8164, 9239, 98073, 53671, 11562, 2156, 14837, 15088, 5591, 17721, 23311... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:35:04", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:35:19", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:35:16 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '8966', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4060199', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '11.277s', 'x-request-id': 'req_f0e3cf32b6ff5dcd3972a7390c7c8755', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec4f7bc5a78ee20-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'}... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:35:19", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_f0e3cf32b6ff5dcd3972a7390c7c8755", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:35:22", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001A6075719E0>, 'json_data': {'input': [[19871, 17279, 220, 508, 13, 9423, 966, 13, 679, 21, 198, 41682, 25079, 27435, 220, 3076, 25, 11030, 25, 18384, 720, 20976, 27435, 19871, 220, 5925, 13, 12505, 13, 1721, 198, 27435, 40571, 33742, 51736, 92207, 1506, 25, 6850, 34493, 67024, 13433, 11, 5927, 35387, 77628, 50306, 11, 34943, 64322, 27717, 6850, 34493, 67024, 15088, 11, 18154, 6735, 61390, 2156, 44858, 11, 7952, 3114, 56008, 44858, 11, 7820, 81659, 90877, 50681, 5372, 5879, 198, 44858, 11, 81376, 14082, 36497, 6850, 34493, 67024, 13433, 11, 12561, 14837, 1840, 10124, 11, 71901, 86610, 17618, 198, 5958], [35095, 98285, 23446, 6148, 23297, 17165, 12415, 18600, 83586, 37773, 23784, 13, 20807, 13, 23227, 20346, 2297, 16248, 6856, 1506, 720, 27435, 9239, 2233, 30656, 9239, 1301, 249, 13, 28599, 13, 1301, 100, 7753, 13999, 44155, 6856, 1506, 720, 27435,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:35:22", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:35:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:35:34 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '7987', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4092513', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '10.889s', 'x-request-id': 'req_c78ca6f8a387de89e07a86435f14662f', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec4f82e6e7dee20-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'}... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:35:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_c78ca6f8a387de89e07a86435f14662f", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:35:40", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001A607571BC0>, 'json_data': {'input': [[99674, 15298, 39103, 23311, 1532, 6850, 23680, 40842, 5591, 16331, 12507, 2355, 720, 15, 11, 3971, 198, 24, 49526, 720, 9992, 15, 2355, 720, 16, 11, 2421, 2355, 720, 19140, 2355, 720, 22, 11, 19, 2355, 720, 99674, 15298, 39103, 23311, 1532, 6850, 23680, 41291, 32985, 7094, 12507, 2355, 720, 16, 49526, 720, 5313, 2355, 720, 19, 11, 4218, 2355, 720, 1114, 2355, 720, 15, 11, 18, 2355, 720, 20976, 4898, 14525, 2355, 720, 16, 49526, 720, 10350, 18, 2355, 720, 15, 11, 2397, 2355, 720, 11227, 23, 2355, 720, 1927, 11, 24, 2355, 720, 5996, 720, 15, 11, 5925, 198, 18, 49526, 720, 14245, 2355, 720, 5996, 720, 20354, 2355, 720, 605, 11, 20, 2355, 720, 16604, 31101, 44065, 7952, 49284, 1840, 2355, 720, 15, 11, 5925, 198, 18, 49526, 720, 1227, 2355, 720, 15, 11, 6069, 2355, 720, 2031, 2355, 720, 16, 11, 17, 2355, 720, 198... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:35:40", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:35:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:35:47 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '5038', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4480081', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '6.239s', 'x-request-id': 'req_33fdc128b462e197319ca82bb6145c76', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec4f89cd8a5ee20-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:35:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_33fdc128b462e197319ca82bb6145c76", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:35:50", "name": "llm_service", "levelname": "INFO", "message": "Documents successfully indexed.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:35:50", "name": "llm_service", "levelname": "INFO", "message": "Vector store saved to E:\\knowledge_base\\russian_regulations\\vector_store", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:35:50", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_and_index_documents with result: (True, 'Documents successfully indexed and vector store saved.')", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:35:51", "name": "handlers", "levelname": "INFO", "message": "Knowledge base '\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b' set successfully for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:35:51", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:39", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:36:39", "last_active": "2024-12-03, 19:36:39", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:36:39", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:39", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:39", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:39", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=244732168, message='\u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u043f\u0440\u0438 \u0448\u0430\u0433\u0435 1.5 \u043c\u0435\u0442\u0440\u0430'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:39", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x000001A608C264B0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 36, 38, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2980, supergroup_chat_created=False, text='\u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u043f\u0440\u0438 \u0448\u0430\u0433\u0435 1.5 \u043c\u0435\u0442\u0440\u0430'), update_id=881193926), <telegram.ext._callbackcontext.CallbackContext object at 0x000001A608C69EF0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:39", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x000001A608CA1E40>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:39", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='c604d2f9-c6c6-4416-a156-f6d8dda2c81d' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:39", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='c604d2f9-c6c6-4416-a156-f6d8dda2c81d'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:40", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:40", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x000001A608ACD9A0>, '\u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u043f\u0440\u0438 \u0448\u0430\u0433\u0435 1.5 \u043c\u0435\u0442\u0440\u0430'), kwargs: {'chat_history': [HumanMessage(content='\u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u043f\u0440\u0438 \u0448\u0430\u0433\u0435 1.5 \u043c\u0435\u0442\u0440\u0430', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u041f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u0430\u044f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0430, \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u0430 \u0445\u0432\u043e\u0439\u043d\u043e\u0435 \u0434\u0435\u0440\u0435\u0432\u043e', additional_kwargs={}, response_metadata={}), AIMessage(content='\u0414\u043b\u044f \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0445\u0432\u043e\u0439\u043d\u044b\u0445 \u043f\u043e\u0440\u043e\u0434 \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u044b\u0435 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0437\u0430\u0432\u0438\u0441\u044f\u0442 \u043e\u0442 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u0442\u0438\u043f\u0430 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0435\u0435 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430 \u0438 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a. \u0427\u0442\u043e\u0431\u044b \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c, \u043a\u0430\u043a\u0443\u044e \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044c \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u0430 \u0445\u0432\u043e\u0439\u043d\u044b\u0445 \u043f\u043e\u0440\u043e\u0434, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u043f\u043b\u043e\u0442\u043d\u043e\u0441\u0442\u044c \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438 \u0438 \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043e\u043d\u0430 \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f.\\n\\n\u041a\u0430\u043a \u043f\u0440\u0430\u0432\u0438\u043b\u043e, \u0434\u043b\u044f \u0440\u0430\u0441\u0447\u0435\u0442\u043e\u0432 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u044e\u0442\u0441\u044f \u043d\u043e\u0440\u043c\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043b\u043e\u0442\u043d\u043e\u0441\u0442\u0438 \u0438 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043e\u0442\u0440\u0430\u0436\u0430\u044e\u0442 \u0441\u0440\u0435\u0434\u043d\u0438\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b. \u042d\u0442\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u0431\u044b\u0447\u043d\u043e \u043f\u0440\u0438\u0432\u043e\u0434\u044f\u0442\u0441\u044f \u0432 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043d\u043e\u0440\u043c\u0430\u0445 \u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u0445.\\n\\n\u0415\u0441\u043b\u0438 ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:40", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001A6091A9D00>, 'json_data': {'input': [[4898, 16248, 34148, 6850, 34493, 67024, 36352, 21477, 7094, 58669, 9542, 7952, 23630, 13433, 220, 1135, 10693, 1049, 37405, 55617, 34493, 1532, 220, 16, 13, 20, 11562, 8341, 22911]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:40", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:41", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:36:40 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '133', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999971', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_55e28353fcf050d38da233c543c06727', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec4fa12adb62df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:41", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_55e28353fcf050d38da233c543c06727", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:41", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:41", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001A608D4D080>, 'json_data': {'input': [[4898, 16248, 34148, 6850, 34493, 67024, 36352, 21477, 7094, 58669, 9542, 7952, 23630, 13433, 220, 1135, 10693, 1049, 37405, 55617, 34493, 1532, 220, 16, 13, 20, 11562, 8341, 22911]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:41", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:41", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:36:41 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '135', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999971', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_cea52bc4d9fc32773ebe6a5677e917d2', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec4fa1ab9d02df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:41", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_cea52bc4d9fc32773ebe6a5677e917d2", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:41", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001A608D4D080>, 'json_data': {'input': [[54745, 1482, 41873, 49899, 56008, 5927, 49520, 23630, 2297, 47273, 25, 35448, 20976, 20976, 12769, 16604, 7753, 23311, 13433, 29118, 13289, 198, 19871, 13433, 6148, 18482, 11047, 98285, 13, 53280, 27717, 198, 20, 13, 22, 49520, 19188, 64134, 12561, 25262, 49907, 21708, 26539, 37277, 23446, 10589, 11, 18154, 6735, 61390, 2156, 13999, 90795, 3865, 10298, 63233, 18154, 2297, 8341, 9542, 44100, 64880, 11, 56449, 5372, 62731, 220, 15, 11, 18, 11562, 198, 7, 7094, 29256, 44155, 13433, 50819, 20879, 220, 15, 11, 1591, 57297, 220, 15, 11, 1758, 11562, 705, 21022, 100147, 40842, 6735, 49907, 5372, 15088, 1389, 220, 15, 11, 868, 11562, 320, 7094, 29256, 44155, 13433, 50819, 20879, 220, 15, 11, 1032, 57297, 220, 15, 11, 1114, 11562, 4390, 74598, 49907, 9882, 26539, 37277, 23446, 10589, 56449, 12648, 62731, 18600, 6856,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:41", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:42", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:36:41 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '132', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998401', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '19ms', 'x-request-id': 'req_bbca482a1f5b621a6c08f04076e86dc4', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec4fa1d1b0f2df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:42", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_bbca482a1f5b621a6c08f04076e86dc4", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:42", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001A608D4D080>, 'json_data': {'input': [[1954, 33006, 20807, 34493, 67024, 13433, 13373, 18868, 5372, 3865, 720, 34604, 19188, 64134, 720, 2297, 56857, 18999, 720, 8164, 7753, 10298, 4655, 6148, 17165, 11, 720, 6578, 6578, 720, 39091, 94178, 92091, 34613, 12561, 7975, 8341, 11, 11562, 720, 20807, 17721, 56999, 44065, 18868, 79686, 720, 16604, 2156, 38521, 2233, 5372, 23446, 1532, 720, 6735, 79686, 720, 34604, 18437, 64322, 44858, 5524, 2156, 25698, 6856, 36497, 6850, 34493, 67024, 13433, 11, 7820, 17279, 1506, 720, 16, 11, 15, 720, 16, 11, 20, 720, 17, 11, 15, 720, 17, 11, 20, 720, 18, 11, 15, 720, 17, 78086, 112, 7, 1987, 78086, 112, 17361, 8, 720, 17, 11, 2970, 720, 17, 11, 1927, 720, 17, 11, 868, 720, 16, 11, 4161, 720, 16, 11, 5932, 720, 16, 11, 2287, 720, 27435, 39103, 12426, 1506, 11, 720, 6148, 7753, 40590, 6148, 48150, 720, 8164, 7753, 1529... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:42", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:43", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:36:42 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '153', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998367', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '19ms', 'x-request-id': 'req_98a89aa074b06a4bedc637481d8e0da0', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec4fa1fac3d2df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:43", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_98a89aa074b06a4bedc637481d8e0da0", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:43", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001A608D4D080>, 'json_data': {'input': [[5925, 33006, 20976, 8164, 9239, 1506, 20440, 720, 8164, 7753, 10298, 4655, 6148, 17165, 720, 34604, 19188, 64134, 720, 2297, 56857, 18999, 720, 8164, 7753, 10298, 4655, 6148, 17165, 11, 11562, 6578, 720, 39091, 94178, 92091, 34613, 12561, 7975, 8341, 11, 11562, 720, 20807, 17721, 56999, 44065, 18868, 79686, 720, 34604, 18437, 64322, 44858, 5524, 2156, 25698, 6856, 36497, 6850, 34493, 67024, 13433, 11, 7820, 17279, 1506, 720, 16, 11, 15, 720, 16, 11, 20, 720, 17, 11, 15, 720, 17, 11, 20, 720, 18, 11, 15, 720, 8164, 7753, 15298, 39103, 23311, 1532, 7740, 11047, 31203, 720, 68506, 1830, 38657, 1506, 2355, 17, 78086, 112, 7, 1987, 78086, 112, 6860, 8, 720, 16, 11, 2790, 720, 16, 11, 2137, 720, 16, 11, 1644, 720, 16, 11, 1591, 720, 16, 11, 1419, 720, 17, 78086, 112, 7, 1987, 78086, 112, 10336, 8, 720, 16, 11, 249... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:43", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:36:43 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '91', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998530', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '17ms', 'x-request-id': 'req_7758ca51b9baf972cda89de8f9e14762', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec4fa263f5b2df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_7758ca51b9baf972cda89de8f9e14762", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001A608D4D080>, 'json_data': {'input': [[5728, 33006, 35095, 72805, 1506, 220, 717, 13, 16, 720, 46710, 2297, 13337, 1506, 18868, 49907, 9882, 11, 11562, 6578, 720, 140, 101, 1840, 31203, 14525, 18868, 49907, 9882, 11, 11562, 6578, 720, 38214, 3114, 64569, 69775, 12561, 25262, 49907, 1840, 11, 11562, 6578, 720, 6578, 94178, 13, 720, 6578, 19479, 13, 720, 6578, 94178, 13, 720, 6578, 19479, 13, 720, 6578, 94178, 13, 720, 6578, 19479, 13, 720, 1049, 720, 6549, 720, 17306, 720, 8848, 720, 17306, 720, 12422, 720, 74598, 49907, 9882, 56449, 12648, 48835, 8341, 4929, 53419, 19479, 16248, 6856, 34148, 21477, 2297, 13337, 3865, 11, 21022, 12561, 25262, 49907, 1840, 482, 53419, 19479, 16248, 6856, 34148, 55617, 78746, 19479, 3865, 5927, 94136, 10124, 12507, 720, 9706, 94962, 26539, 37277, 23446, 6148, 94962, 11562, 17721, 60009, 13, 720, 36551, 16248, 65489,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:36:43 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '137', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998967', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '12ms', 'x-request-id': 'req_f5cf9a3eb0cb355559b3356a89741784', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec4fa2bea142df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_f5cf9a3eb0cb355559b3356a89741784", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-03, 19:36:44. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retrieved context to answer the question.\\n\\n\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0432 \u0420\u043e\u0441\u0441\u0438\u0438: \u041e\u041e\u041e \u00ab\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u00bb\\n\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0442\u0435\u0445. \u0437\u0430\u0434\u0430\u043d\u0438\u0435\\n5.7 \u0420\u0430\u0437\u043c\u0435\u0440 \u043f\u0440\u043e\u0441\u0442\u0443\u043f\u0435\u0439 \u043b\u0435\u0441\u0442\u043d\u0438\u0446, \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0445 \u043f\u043e\u0441\u0435\u0442\u0438\u0442\u0435\u043b\u044f\u043c\u0438, \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c 0,3 \u043c\\n(\u0434\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u043e\u0442 0,28 \u0434\u043e 0,35 \u043c), \u0430 \u0440\u0430\u0437\u043c\u0435\u0440 \u043f\u043e\u0434\u0441\u0442\u0443\u043f\u0435\u043d\u043e\u043a \u2013 0,15 \u043c (\u0434\u043e\u043f... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:48", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers([('date', 'Tue, 03 Dec 2024 16:36:47 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'nuanu-wimbwa'), ('openai-processing-ms', '2563'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '800000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '792765'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '542ms'), ('x-request-id', 'req_21f9749a5d9345470ea946c8b50f248e'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=Hl7dumneSwYCqf0BSz1Ij7LN8D4WPdxyOBi0P0xtYw4-1733243807-1.0.1.1-aRyyUwTSZn9QHKLwI_bLX6kai7wWVoApqIHp8UOyO38Y3Nj1.t94r4e4qKvWP7id1pbbn9VQIUhjq81p68i_MA; path=/; expires=Tue, 03... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:48", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_21f9749a5d9345470ea946c8b50f248e", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:48", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.850279375810446, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:48", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:48", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:48", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"Given the following user prompt and LLM response, determine if additional information is needed to help the user fulfill their request and continue the conversation effectively. If yes, provide up to 3 additional prompts based on key concepts in the response, such as 'learn more about ...', 'how to determine ...', 'how to calculate ...', etc., that the user can use to gather more information. If no additional prompts are needed, respond with 'No suggestions needed'.\\n\\nUser Prompt: \u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u043f\u0440\u0438 \u0448\u0430\u0433\u0435 1.5 \u043c\u0435\u0442\u0440\u0430\\n\\nLLM Response: \u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u0431\u0435\u0437 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u0442\u0438\u043f\u0435 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u0445 \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438 \u0438 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0435 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u0430\u044f \u0438\u043b\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0430) \u044f \u043d\u0435 \u043c\u043e\u0433\u0443 \u0442\u043e\u0447\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c, \u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c 50\u0445200 \u043c\u043c \u043f\u0440\u0438 \u0448\u0430\u0433\u0435 \u043e\u043f\u043e\u0440\u044b 1,5 \u043c. \\n\\n\u0414\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0442\u043e\u0447\u043d\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c\u0441\u044f \u043a \u043d\u043e\u0440\u043c\u0430\u0442\u0438\u0432\u043d\u044b\u043c \u0434\u043e... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:48", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:36:49 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1234', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799522', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '35ms', 'x-request-id': 'req_e1f5e8b086a87a14939e8704da5e27cd', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec4fa473e922dee-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_e1f5e8b086a87a14939e8704da5e27cd", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:50", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0430\u0445 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u043f\u043e\u0440\u043e\u0434\u0443 \u0438 \u043a\u043b\u0430\u0441\u0441 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u0432\u043b\u0438\u044f\u0442\u044c \u043d\u0430 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430.', '\u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u0432\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c \u0438 \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u0432\u043b\u0438\u044f\u0442\u044c \u043d\u0430 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u044c \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b.', '\u041a\u0430\u043a \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0442\u0438\u043f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 (\u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u0430\u044f \u0438\u043b\u0438 \u0442\u043e\u0447\u0435\u0447\u043d\u0430\u044f) \u0438 \u0435\u0435 \u0432\u043b\u0438\u044f\u043d\u0438\u0435 \u043d\u0430 \u043d\u0435\u0441\u0443\u0449\u0443\u044e \u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0441\u043a\u0438.']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:50", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u0431\u0435\u0437 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u0442\u0438\u043f\u0435 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u0445 \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438 \u0438 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0435 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u0430\u044f \u0438\u043b\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0430) \u044f \u043d\u0435 \u043c\u043e\u0433\u0443 \u0442\u043e\u0447\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c, \u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c 50\u0445200 \u043c\u043c \u043f\u0440\u0438 \u0448\u0430\u0433\u0435 \u043e\u043f\u043e\u0440\u044b 1,5 \u043c.\\n\\n\u0414\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0442\u043e\u0447\u043d\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c\u0441\u044f \u043a \u043d\u043e\u0440\u043c\u0430\u0442\u0438\u0432\u043d\u044b\u043c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043c \u0438\u043b\u0438 \u043f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u0440\u0430\u0441\u0447\u0435\u0442 \u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u0432\u0441\u0435\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u044f:\\n\\n\u2022 \u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b (\u043f\u043e\u0440\u043e\u0434\u0430, \u043a\u043b\u0430\u0441\u0441 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438).\\n\u2022 \u0423\u0441\u043b\u043e\u0432\u0438\u044f \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438 (\u0432\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c, \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430).\\n\u2022 \u0422\u0438\u043f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 (\u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u0430\u044f \u0438\u043b\u0438 \u0442\u043e\u0447\u0435\u0447\u043d\u0430\u044f).\\n\\n\u041d\u0430\u0438\u0431\u043e\u043b\u0435\u0435 \u043d\u0430\u0434\u0435\u0436\u043d\u044b\u043c \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u043c \u0431\u0443\u0434\u0435\u0442 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0435 \u043a \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u043c\u0443 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u0443, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0440\u0430\u0441\u0447\u0435\u0442\u044b \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0432\u0441\u0435\u0445 \u0434\u0430\u043d\u043d\u044b\u0445.\\n\\n------------------\\nReferences (/references):\\n\u041e\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0437\u0434\u0430\u043d\u0438\u044f \u0438 \u0441\u043e\u043e\u0440\u0443\u0436\u0435\u043d\u0438\u044f_\u0421\u041f 118.13330.2022.pdf, pages: 19\\n\u041a\u0430\u0440\u043a\u0430\u0441\u043d\u044b\u0435 \u0414\u043e\u043c\u0430_\u0421\u041f 31-105-2002 .pdf, pages: 73, 89, 90\\n', {'\u041a\u0430\u0440\u043a\u0430\u0441\u043d\u044b\u0435 \u0414\u043e\u043c\u0430_\u0421\u041f 31-105-2002 .pdf', '\u041e\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0437\u0434\u0430\u043d\u0438\u044f \u0438 \u0441\u043e\u043e\u0440\u0443\u0436\u0435\u043d\u0438\u044f_\u0421\u041f 118.13330.2022.... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:50", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:50", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='c604d2f9-c6c6-4416-a156-f6d8dda2c81d'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:50", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:50", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:36:50", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:17", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:37:17", "last_active": "2024-12-03, 19:37:17", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:37:17", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:18", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:18", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:18", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/status'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:18", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: status with args: (<handlers.BotHandlers object at 0x000001A608C264B0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 37, 17, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=7, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2982, supergroup_chat_created=False, text='/status'), update_id=881193927), <telegram.ext._callbackcontext.CallbackContext object at 0x000001A66154E740>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:18", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: status with result: <coroutine object BotHandlers.status at 0x000001A608B1A8F0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:22", "name": "llm_service", "levelname": "INFO", "message": "Empty content on page 7 of document '\u0418\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u043e \u0433\u0435\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0438\u0437\u044b\u0441\u043a\u0430\u043d\u0438\u044f_\u0421\u041f 446.1325800.2019 .pdf'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:23", "name": "llm_service", "levelname": "INFO", "message": "Empty content on page 86 of document '\u041d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438 \u0432\u043e\u0437\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f_\u0421\u041f 20.13330.2016.pdf'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:23", "name": "llm_service", "levelname": "INFO", "message": "Empty content on page 1 of document '\u041d\u0435\u0441\u0443\u0449\u0438\u0435_\u0438_\u043e\u0433\u0440\u0430\u0436\u0434\u0430\u044e\u0449\u0438\u0435_\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438_\u0421\u041f_70_13330_2012.pdf'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:27", "name": "handlers", "levelname": "INFO", "message": "Provided status to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:27", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:41", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:37:41", "last_active": "2024-12-03, 19:37:41", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:37:41", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:41", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:41", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:41", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='suggestion:suggestion_0'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:41", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_inline_buttons with args: (<handlers.BotHandlers object at 0x000001A608C264B0>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='suggestion:suggestion_0', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116658450097255', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 36, 50, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=11, offset=707, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=2981, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='suggestion:suggestion_0', text='\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0430\u0445 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u043f\u043e\u0440\u043e\u0434\u0443 \u0438 \u043a\u043b\u0430\u0441... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:41", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_inline_buttons with result: <coroutine object BotHandlers.handle_inline_buttons at 0x000001A608CA8E80>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:42", "name": "handlers", "levelname": "INFO", "message": "User_id=244732168 clicked on suggestion '\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0430\u0445 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u043f\u043e\u0440\u043e\u0434\u0443 \u0438 \u043a\u043b\u0430\u0441\u0441 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u0432\u043b\u0438\u044f\u0442\u044c \u043d\u0430 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430.'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:42", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='6f569fd7-44ff-46ac-a6d3-cf14fbec35eb' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:42", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='6f569fd7-44ff-46ac-a6d3-cf14fbec35eb'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:42", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:42", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x000001A608ACD9A0>, '\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0430\u0445 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u043f\u043e\u0440\u043e\u0434\u0443 \u0438 \u043a\u043b\u0430\u0441\u0441 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u0432\u043b\u0438\u044f\u0442\u044c \u043d\u0430 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430.'), kwargs: {'chat_history': [HumanMessage(content='\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0430\u0445 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u043f\u043e\u0440\u043e\u0434\u0443 \u0438 \u043a\u043b\u0430\u0441\u0441 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u0432\u043b\u0438\u044f\u0442\u044c \u043d\u0430 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430.', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u043f\u0440\u0438 \u0448\u0430\u0433\u0435 1.5 \u043c\u0435\u0442\u0440\u0430', additional_kwargs={}, response_metadata={}), AIMessage(content='\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u0431\u0435\u0437 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u0442\u0438\u043f\u0435 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u0445 \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438 \u0438 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0435 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u0430\u044f \u0438\u043b\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0430) \u044f \u043d\u0435 \u043c\u043e\u0433\u0443 \u0442\u043e\u0447\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c, \u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c 50\u0445200 \u043c\u043c \u043f\u0440\u0438 \u0448\u0430\u0433\u0435 \u043e\u043f\u043e\u0440\u044b 1,5 \u043c.\\n\\n\u0414\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0442\u043e\u0447\u043d\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c\u0441\u044f \u043a \u043d\u043e\u0440\u043c\u0430\u0442\u0438\u0432\u043d\u044b\u043c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043c \u0438\u043b\u0438 \u043f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u0440\u0430\u0441\u0447\u0435\u0442 \u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u0432\u0441\u0435\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u0432\u043a\u043b\u044e\u0447\u0430... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:42", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001A6B7FEBA60>, 'json_data': {'input': [[41682, 9136, 2156, 18482, 84699, 60009, 8379, 45658, 1506, 11001, 118, 58060, 35111, 75281, 10693, 7952, 2233, 33742, 23297, 1840, 12648, 11, 5927, 52520, 36497, 91146, 9706, 3865, 7740, 60748, 12561, 38438, 68742, 11, 38153, 51736, 11562, 14837, 38521, 96034, 11320, 94975, 13373, 6850, 34493, 67024, 36352, 11, 38153, 34148, 21477, 7094, 58669, 9542, 7952, 23630, 13433, 13]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:42", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:43", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:37:42 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '106', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999941', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_20ea77c6d3ee5db3eaa9a4f09250e66f', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec4fb9b6f7bbe80-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:43", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_20ea77c6d3ee5db3eaa9a4f09250e66f", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:43", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:43", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001A6B7FEB560>, 'json_data': {'input': [[41682, 9136, 2156, 18482, 84699, 60009, 8379, 45658, 1506, 11001, 118, 58060, 35111, 75281, 10693, 7952, 2233, 33742, 23297, 1840, 12648, 11, 5927, 52520, 36497, 91146, 9706, 3865, 7740, 60748, 12561, 38438, 68742, 11, 38153, 51736, 11562, 14837, 38521, 96034, 11320, 94975, 13373, 6850, 34493, 67024, 36352, 11, 38153, 34148, 21477, 7094, 58669, 9542, 7952, 23630, 13433, 13]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:43", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:43", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:37:43 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '76', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999941', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_8c3d80745545ce375f427a57d0dea03b', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec4fb9f19ffbe80-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:43", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_8c3d80745545ce375f427a57d0dea03b", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:43", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001A6B7FEB560>, 'json_data': {'input': [[19871, 17279, 220, 1227, 13, 9423, 966, 13, 679, 22, 198, 54745, 38438, 61379, 7952, 2233, 33742, 23297, 1840, 12648, 34943, 13337, 48074, 20812, 72119, 67745, 5524, 9239, 1830, 6856, 46177, 60748, 6856, 12561, 38438, 68742, 56449, 14525, 62731, 720, 79862, 6850, 1840, 59138, 6850, 32330, 8131, 28089, 44786, 5524, 29256, 2233, 13337, 28089, 3114, 62491, 11, 12561, 28089, 13404, 5372, 44786, 5927, 37405, 82941, 84198, 23784, 627, 20, 13, 18, 23784, 93323, 13810, 16494, 85864, 20879, 11047, 10298, 8164, 7753, 8131, 56515, 13999, 12, 5591, 3114, 38657, 13999, 6735, 44786, 97991, 6856, 44938, 81757, 33793, 3114, 3865, 8131, 54686, 320, 4898, 3114, 29500, 6856, 720, 3865, 41036, 6856, 44938, 81757, 33793, 3114, 3865, 8131, 54686, 8, 93129, 73181, 57925, 34694, 4329, 5591, 14009, 29893, 86995, 50693, 6856, 39280, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:43", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:37:43 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '214', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998653', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '16ms', 'x-request-id': 'req_9006bd4e9456eaf652fbbe054db54c67', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec4fba16b7abe80-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_9006bd4e9456eaf652fbbe054db54c67", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001A6B7FEB560>, 'json_data': {'input': [[19871, 17279, 220, 1227, 13, 9423, 966, 13, 679, 22, 198, 17279, 31203, 82941, 17618, 57855, 198, 27435, 3114, 29500, 62809, 75281, 71829, 48446, 1532, 5372, 16742, 7952, 2233, 33742, 23297, 1840, 12648, 198, 37255, 13, 16, 39903, 27435, 40842, 89554, 7094, 44100, 70129, 320, 4898, 3114, 29500, 62809, 1840, 15458, 20346, 70129, 8, 18154, 93129, 72119, 16494, 81376, 47805, 12648, 6578, 37405, 9136, 2156, 16248, 24697, 512, 12, 55813, 74828, 29118, 48150, 6850, 19188, 31281, 17618, 280, 12, 97991, 6856, 40231, 81757, 33793, 3114, 3865, 8131, 54686, 280, 12, 5524, 2233, 15088, 35875, 56999, 10124, 4655, 627, 37255, 13, 17, 23227, 1482, 55813, 74828, 29118, 2156, 72952, 6850, 19188, 31281, 9882, 12182, 39903, 27435, 40842, 89554, 7094, 44100, 70129, 13373, 60748, 4655, 5524, 14257, 64322, 12507, 14257, 24803, 40... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:45", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:37:44 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '148', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998817', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '14ms', 'x-request-id': 'req_39af631f28d574a6f58939d1d9c66dde', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec4fba4de17be80-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:45", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_39af631f28d574a6f58939d1d9c66dde", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:45", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001A6B7FEB560>, 'json_data': {'input': [[19871, 17279, 220, 1227, 13, 9423, 966, 13, 679, 22, 198, 17279, 31203, 82941, 17618, 64571, 198, 25079, 29256, 47680, 56008, 44065, 86995, 50693, 6856, 39280, 7820, 7820, 50223, 35034, 3865, 7952, 2233, 33742, 23297, 1840, 12648, 198, 61432, 13, 16, 36479, 7952, 2233, 33742, 23297, 19479, 1532, 39233, 26503, 2156, 9706, 7753, 33742, 4329, 2156, 44786, 46088, 6856, 7740, 35875, 61390, 6578, 48446, 1532, 5372, 63233, 38098, 79370, 15458, 12415, 7820, 2233, 12507, 1532, 720, 1830, 2233, 50693, 6856, 14332, 12415, 61565, 20976, 19871, 35095, 220, 24951, 21, 13373, 5173, 64292, 12507, 8131, 7753, 1840, 16331, 4655, 45658, 5591, 16742, 44786, 91146, 9706, 7740, 61565, 20976, 19871, 35095, 220, 26491, 18, 13373, 7820, 65489, 3114, 51736, 720, 3114, 23297, 12507, 8131, 7753, 1840, 16331, 4655, 93129, 73181, 57925, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:45", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:45", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:37:45 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '116', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999577', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_10a949366c3ca13fea0e53ec8fe9742a', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec4fbaaca48be80-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:45", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_10a949366c3ca13fea0e53ec8fe9742a", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:45", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001A6B7FEB560>, 'json_data': {'input': [[1919, 65, 198, 19871, 17279, 220, 1227, 13, 9423, 966, 13, 679, 22, 198, 17279, 31203, 82941, 17618, 61565, 198, 17279, 3114, 13337, 61379, 7952, 2233, 33742, 23297, 1840, 12648, 7740, 7952, 2233, 33742, 23297, 44786, 96573, 7753, 1840, 16331, 6856, 198, 38214, 13, 220, 16, 39903, 14009, 46339, 92582, 18999, 5524, 14082, 20812, 5372, 39900, 5927, 23297, 1506, 38098, 79370, 15458, 12415, 5173, 3114, 13337, 61379, 7952, 2233, 33742, 23297, 1840, 12648, 39479, 91216, 44786, 720, 8164, 9239, 9706, 93129, 73181, 12561, 19479, 16494, 18482, 18154, 79327, 1532, 61565, 13, 220, 16, 627, 35095, 72805, 1506, 61565, 13, 16, 198, 17279, 9239, 87878, 7952, 2233, 33742, 23297, 1840, 12648, 198, 17279, 3114, 13337, 61379, 7952, 2233, 33742, 23297, 1840, 12648, 11, 7820, 15752, 14, 6578, 18, 11, 5927, 38098, 79370, 71829, 1... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:45", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:46", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:37:45 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '133', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999495', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '6ms', 'x-request-id': 'req_b3b5cbd4cde17da0d5c595ad5be102dd', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec4fbad2bcbbe80-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:46", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_b3b5cbd4cde17da0d5c595ad5be102dd", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:46", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-03, 19:37:46. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retrieved context to answer the question.\\n\\n\u0421\u041f 64.13330.2017\\n\u041f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u044c \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u0441\u043e\u0440\u0442\u043e\u0432 \u0438\u043b\u0438 \u043a\u043b\u0430\u0441\u0441\u043e\u0432 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \\n\u043d\u0435 \u043d\u0438\u0436\u0435 \u043d\u043e\u0440\u043c\u0430\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u043e\u043f\u0440\u043e\u0442\u0438\u0432\u043b\u0435\u043d\u0438\u0439, \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0445 \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 \u0412.\\n5.3 \u0412 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u043d\u043e-\u0432\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u043d\u044b\u0445 \u0443\u0441\u043b\u043e\u0432\u0438\u0439 \u044d... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:46", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:37:55 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '8982', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '794379', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '421ms', 'x-request-id': 'req_dbbce192af591563a3ff49b775687310', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec4fbaffa514ac1-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_dbbce192af591563a3ff49b775687310", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:55", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.8581231517524042, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:55", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:55", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"Given the following user prompt and LLM response, determine if additional information is needed to help the user fulfill their request and continue the conversation effectively. If yes, provide up to 3 additional prompts based on key concepts in the response, such as 'learn more about ...', 'how to determine ...', 'how to calculate ...', etc., that the user can use to gather more information. If no additional prompts are needed, respond with 'No suggestions needed'.\\n\\nUser Prompt: \u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0430\u0445 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u043f\u043e\u0440\u043e\u0434\u0443 \u0438 \u043a\u043b\u0430\u0441\u0441 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u0432\u043b\u0438\u044f\u0442\u044c \u043d\u0430 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430.\\n\\nLLM Response: \u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u043f\u043e\u0440\u043e\u0434\u0430 \u0438 \u043a\u043b\u0430\u0441\u0441 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438, \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u0432\u043b\u0438\u044f\u044e\u0442 \u043d\u0430 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0434\u043e\u0441\u043a\u0430. \u0412\u043e\u0442 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u0437 \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c:\\n\\n1. **\u041f\u043e\u0440\u043e\u0434\u0430 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b**:\\n   - \u0420\u0430\u0437\u043d\u044b\u0435 \u043f\u043e\u0440\u043e\u0434\u044b \u0434\u0440\u0435\u0432... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:55", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:37:56 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '1380', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '798943', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '79ms', 'x-request-id': 'req_f614095f750c3f8bb91475741b388d4e', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec4fbebaf024ac1-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:57", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_f614095f750c3f8bb91475741b388d4e", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:57", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u0430\u0445 \u0438 \u043d\u043e\u0440\u043c\u0430\u0442\u0438\u0432\u0430\u0445, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0445 \u0434\u043b\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043a\u043b\u0430\u0441\u0441\u043e\u0432 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b.', '\u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u043e\u043f\u0442\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0432\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u0438 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0434\u043b\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0445 \u0443\u0441\u043b\u043e\u0432\u0438\u0439 \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438?', '\u041a\u0430\u043a \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0434\u043e\u0441\u043a\u0430, \u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u043f\u043e\u0440\u043e\u0434\u044b \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0438 \u0435\u0451 \u043a\u043b\u0430\u0441\u0441\u0430 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438?']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:57", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u043f\u043e\u0440\u043e\u0434\u0430 \u0438 \u043a\u043b\u0430\u0441\u0441 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438, \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u0432\u043b\u0438\u044f\u044e\u0442 \u043d\u0430 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0434\u043e\u0441\u043a\u0430. \u0412\u043e\u0442 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u0437 \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c:\\n\\n1. <b>\u041f\u043e\u0440\u043e\u0434\u0430 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b</b>:\\n\u2022 \u0420\u0430\u0437\u043d\u044b\u0435 \u043f\u043e\u0440\u043e\u0434\u044b \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0438\u043c\u0435\u044e\u0442 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u0444\u0438\u0437\u0438\u043a\u043e-\u043c\u0435\u0445\u0430\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0442\u0432\u0435\u0440\u0434\u044b\u0435 \u043b\u0438\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043f\u043e\u0440\u043e\u0434\u044b (\u0434\u0443\u0431, \u044f\u0441\u0435\u043d\u044c) \u043e\u0431\u044b\u0447\u043d\u043e \u0438\u043c\u0435\u044e\u0442 \u0431\u043e\u043b\u0435\u0435 \u0432\u044b\u0441\u043e\u043a\u0443\u044e \u043f\u043b\u043e\u0442\u043d\u043e\u0441\u0442\u044c \u0438 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u044c \u043f\u043e \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044e \u0441 \u0445\u0432\u043e\u0439\u043d\u044b\u043c\u0438 \u043f\u043e\u0440\u043e\u0434\u0430\u043c\u0438 (\u0441\u043e\u0441\u043d\u0430, \u0435\u043b\u044c).\\n\u2022 \u0425\u0432\u043e\u0439\u043d\u044b\u0435 \u043f\u043e\u0440\u043e\u0434\u044b, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u0441\u043e\u0441\u043d\u0430 \u0438 \u0435\u043b\u044c, \u0447\u0430\u0441\u0442\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u0432 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0435 \u0438\u0437-\u0437\u0430 \u0438\u0445 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u0438 \u0438 \u0445\u043e\u0440\u043e\u0448\u0435\u0439 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u043c\u043e\u0441\u0442\u0438, \u043d\u043e \u043e\u043d\u0438 \u043c\u043e\u0433\u0443\u0442 \u0438\u043c\u0435\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0443\u044e \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u044c \u043f\u043e \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044e \u0441 \u0442\u0432\u0435\u0440\u0434\u044b\u043c\u0438 \u043b\u0438\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u043c\u0438 \u043f\u043e\u0440\u043e\u0434\u0430\u043c\u0438.\\n\\n2. <b>\u041a\u043b\u0430\u0441\u0441 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438</b>:\\n\u2022 \u041a\u043b\u0430\u0441\u0441\u044b \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u044e\u0442\u0441\u044f \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u044e\u0442 \u0441\u043e\u043f\u0440\u043e\u0442\u0438\u0432\u043b\u0435\u043d\u0438\u0435 \u043a \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c \u0442\u0438\u043f\u0430\u043c \u043d\u0430\u0433\u0440\u0443\u0437\u043e\u043a (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043d\u0430 \u0438\u0437\u0433\u0438\u0431, \u0441\u0436\u0430\u0442\u0438\u0435, \u0440\u0430\u0441\u0442\u044f\u0436\u0435\u043d\u0438\u0435).\\n\u2022 \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043a\u043b\u0430\u0441\u0441 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438 \u042124 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u043d\u0430 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438 \u0438 \u0436\u0435\u0441\u0442\u043a\u043e\u0441\u0442\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:57", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:57", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='6f569fd7-44ff-46ac-a6d3-cf14fbec35eb'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:57", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:58", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:37:58", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:36", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:38:35", "last_active": "2024-12-03, 19:38:35", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:38:36", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:36", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:36", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:36", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='suggestion:suggestion_2'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:36", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_inline_buttons with args: (<handlers.BotHandlers object at 0x000001A608C264B0>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='suggestion:suggestion_2', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116659528233322', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 37, 57, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=16, offset=341, type=<MessageEntityType.BOLD>), MessageEntity(length=15, offset=788, type=<MessageEntityType.BOLD>), MessageEntity(length=19, offset=1120, type=<MessageEntityType.BOLD>), MessageEntity(length=20, offset=1336, type=<MessageEntityType.BOLD>), MessageEntity(length=19, offset=1539, type=<MessageEntityType.BOLD>), MessageEntity(length=11, offset=2014, type=<M... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:36", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_inline_buttons with result: <coroutine object BotHandlers.handle_inline_buttons at 0x000001A608CAB5B0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:36", "name": "handlers", "levelname": "INFO", "message": "User_id=244732168 clicked on suggestion '\u041a\u0430\u043a \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0434\u043e\u0441\u043a\u0430, \u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u043f\u043e\u0440\u043e\u0434\u044b \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0438 \u0435\u0451 \u043a\u043b\u0430\u0441\u0441\u0430 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438?'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:36", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='54727513-d560-42a8-89b2-d24e7a1c5559' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:37", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='54727513-d560-42a8-89b2-d24e7a1c5559'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:37", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:37", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x000001A608ACD9A0>, '\u041a\u0430\u043a \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0434\u043e\u0441\u043a\u0430, \u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u043f\u043e\u0440\u043e\u0434\u044b \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0438 \u0435\u0451 \u043a\u043b\u0430\u0441\u0441\u0430 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438?'), kwargs: {'chat_history': [HumanMessage(content='\u041a\u0430\u043a \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0434\u043e\u0441\u043a\u0430, \u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u043f\u043e\u0440\u043e\u0434\u044b \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0438 \u0435\u0451 \u043a\u043b\u0430\u0441\u0441\u0430 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438?', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0430\u0445 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u043f\u043e\u0440\u043e\u0434\u0443 \u0438 \u043a\u043b\u0430\u0441\u0441 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u0432\u043b\u0438\u044f\u0442\u044c \u043d\u0430 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430.', additional_kwargs={}, response_metadata={}), AIMessage(content='\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0430\u0445 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u043f\u043e\u0440\u043e\u0434\u0443 \u0438 \u043a\u043b\u0430\u0441\u0441 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u0432\u043b\u0438\u044f\u0442\u044c \u043d\u0430 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430.\\n-----------\\n\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u043f\u043e\u0440\u043e\u0434\u0430 \u0438 \u043a\u043b\u0430\u0441\u0441 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438, \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u0432\u043b\u0438\u044f\u044e\u0442 \u043d\u0430 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0434\u043e\u0441\u043a\u0430. \u0412\u043e\u0442 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u0437 \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c:\\n\\n1. <b>\u041f\u043e\u0440\u043e\u0434\u0430 \u0434\u0440\u0435\u0432\u0435\u0441\u0438... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001A6091AB560>, 'json_data': {'input': [[27435, 16248, 18600, 29500, 91353, 18482, 6850, 34493, 67024, 36352, 11, 38153, 34148, 68088, 21477, 7094, 58669, 18482, 7952, 23630, 13433, 11, 5524, 14257, 64322, 12507, 91146, 9706, 4655, 7952, 2233, 33742, 23297, 1840, 12648, 7740, 22918, 45122, 60748, 1506, 12561, 38438, 68742, 30]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:38:37 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '57', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999955', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_ebd725ce1125c461de1dbea2167e4094', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec4fcee395ac02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_ebd725ce1125c461de1dbea2167e4094", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:38", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001A6091AB560>, 'json_data': {'input': [[27435, 16248, 18600, 29500, 91353, 18482, 6850, 34493, 67024, 36352, 11, 38153, 34148, 68088, 21477, 7094, 58669, 18482, 7952, 23630, 13433, 11, 5524, 14257, 64322, 12507, 91146, 9706, 4655, 7952, 2233, 33742, 23297, 1840, 12648, 7740, 22918, 45122, 60748, 1506, 12561, 38438, 68742, 30]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:39", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:38:38 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '47', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999955', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_53937730d3fb9d34b13ba91691a1a41a', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec4fcf43b9ec02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:39", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_53937730d3fb9d34b13ba91691a1a41a", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:39", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001A6091AB560>, 'json_data': {'input': [[19871, 17279, 220, 1227, 13, 9423, 966, 13, 679, 22, 198, 54745, 38438, 61379, 7952, 2233, 33742, 23297, 1840, 12648, 34943, 13337, 48074, 20812, 72119, 67745, 5524, 9239, 1830, 6856, 46177, 60748, 6856, 12561, 38438, 68742, 56449, 14525, 62731, 720, 79862, 6850, 1840, 59138, 6850, 32330, 8131, 28089, 44786, 5524, 29256, 2233, 13337, 28089, 3114, 62491, 11, 12561, 28089, 13404, 5372, 44786, 5927, 37405, 82941, 84198, 23784, 627, 20, 13, 18, 23784, 93323, 13810, 16494, 85864, 20879, 11047, 10298, 8164, 7753, 8131, 56515, 13999, 12, 5591, 3114, 38657, 13999, 6735, 44786, 97991, 6856, 44938, 81757, 33793, 3114, 3865, 8131, 54686, 320, 4898, 3114, 29500, 6856, 720, 3865, 41036, 6856, 44938, 81757, 33793, 3114, 3865, 8131, 54686, 8, 93129, 73181, 57925, 34694, 4329, 5591, 14009, 29893, 86995, 50693, 6856, 39280, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:39", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:39", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:38:39 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '165', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998654', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '16ms', 'x-request-id': 'req_ee07f1c2bd1e7493fbb0d0233aac1cef', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec4fcfa8dc2c02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:39", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_ee07f1c2bd1e7493fbb0d0233aac1cef", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:39", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001A6091AB560>, 'json_data': {'input': [[1919, 65, 198, 19871, 17279, 220, 1227, 13, 9423, 966, 13, 679, 22, 198, 17279, 31203, 82941, 17618, 61565, 198, 17279, 3114, 13337, 61379, 7952, 2233, 33742, 23297, 1840, 12648, 7740, 7952, 2233, 33742, 23297, 44786, 96573, 7753, 1840, 16331, 6856, 198, 38214, 13, 220, 16, 39903, 14009, 46339, 92582, 18999, 5524, 14082, 20812, 5372, 39900, 5927, 23297, 1506, 38098, 79370, 15458, 12415, 5173, 3114, 13337, 61379, 7952, 2233, 33742, 23297, 1840, 12648, 39479, 91216, 44786, 720, 8164, 9239, 9706, 93129, 73181, 12561, 19479, 16494, 18482, 18154, 79327, 1532, 61565, 13, 220, 16, 627, 35095, 72805, 1506, 61565, 13, 16, 198, 17279, 9239, 87878, 7952, 2233, 33742, 23297, 1840, 12648, 198, 17279, 3114, 13337, 61379, 7952, 2233, 33742, 23297, 1840, 12648, 11, 7820, 15752, 14, 6578, 18, 11, 5927, 38098, 79370, 71829, 1... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:39", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:40", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:38:40 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '89', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999496', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '6ms', 'x-request-id': 'req_83d92f871a1b91ab24583ca0d0870799', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec4fcffaff7c02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:40", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_83d92f871a1b91ab24583ca0d0870799", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:40", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001A6091AB560>, 'json_data': {'input': [[19871, 17279, 220, 20385, 13, 9413, 18216, 15, 13, 679, 24, 33006, 8011, 33006, 35095, 21022, 14391, 26539, 7740, 39233, 21022, 220, 1301, 244, 13, 22, 1389, 35448, 8164, 92582, 17618, 64362, 61390, 1830, 68742, 39479, 17394, 1840, 17394, 18999, 5173, 23297, 90877, 37405, 720, 71438, 24697, 81301, 17165, 10693, 6850, 34493, 67024, 13433, 10693, 720, 2233, 67, 11, 45458, 17279, 1506, 720, 16604, 7753, 61390, 1830, 61379, 39479, 17394, 1840, 17394, 18999, 5173, 23297, 90877, 37405, 720, 71438, 24697, 81301, 17165, 10693, 720, 2156, 34493, 67024, 13433, 10693, 720, 19871, 44075, 2156, 50506, 2355, 39091, 19479, 92091, 48150, 720, 39091, 5372, 50506, 220, 16, 11, 20, 720, 39091, 5372, 50506, 220, 15, 11, 20, 2355, 61432, 17461, 12426, 36497, 64362, 61390, 1830, 61379, 39479, 17394, 1840, 17394, 18999, 320, 8164,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:40", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:41", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:38:41 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '218', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999571', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_452e5b6c568fbdfcd29a9da8d9cb12a6', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec4fd04fa2ec02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:41", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_452e5b6c568fbdfcd29a9da8d9cb12a6", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:41", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001A6091AB560>, 'json_data': {'input': [[19871, 17279, 220, 1682, 13, 9423, 966, 13, 679, 16, 33006, 1399, 33006, 35095, 21022, 14391, 26539, 7740, 39233, 21022, 220, 1301, 244, 662, 220, 20, 220, 1389, 220, 1301, 100, 13810, 39865, 7740, 78876, 8164, 7975, 21956, 17618, 78876, 64322, 44786, 39233, 19190, 24803, 720, 140, 98, 1506, 11001, 118, 58060, 35111, 75281, 6850, 34493, 67024, 15088, 720, 15284, 244, 18600, 13810, 35297, 13433, 720, 34604, 18437, 64322, 44065, 39233, 19190, 39103, 720, 6148, 13810, 39865, 720, 2233, 18437, 8164, 7975, 21956, 17618, 5927, 39233, 19190, 2233, 1532, 11047, 4329, 17394, 89338, 720, 41036, 13404, 1506, 720, 20807, 56857, 8341, 48150, 89701, 53419, 19479, 16248, 6856, 63233, 720, 2156, 34493, 67024, 15088, 11, 78876, 8164, 7975, 21956, 5372, 44786, 5927, 53419, 94962, 18600, 98073, 3865, 720, 140, 244, 13, 16, 210... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:41", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:43", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:38:42 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '159', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998896', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '13ms', 'x-request-id': 'req_bd47028e69061fbdebffce1533b912d6', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec4fd0a8befc02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:43", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_bd47028e69061fbdebffce1533b912d6", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:43", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-03, 19:38:43. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retrieved context to answer the question.\\n\\n\u0421\u041f 64.13330.2017\\n\u041f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u044c \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u0441\u043e\u0440\u0442\u043e\u0432 \u0438\u043b\u0438 \u043a\u043b\u0430\u0441\u0441\u043e\u0432 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \\n\u043d\u0435 \u043d\u0438\u0436\u0435 \u043d\u043e\u0440\u043c\u0430\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u043e\u043f\u0440\u043e\u0442\u0438\u0432\u043b\u0435\u043d\u0438\u0439, \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0445 \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 \u0412.\\n5.3 \u0412 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u043d\u043e-\u0432\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u043d\u044b\u0445 \u0443\u0441\u043b\u043e\u0432\u0438\u0439 \u044d... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:38:43", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:39:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:38:59 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '15693', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '794585', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '406ms', 'x-request-id': 'req_46699da34e31981b34243c6f09263afa', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec4fd16ac592df8-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:39:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_46699da34e31981b34243c6f09263afa", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:39:00", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.8661324712875917, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:39:00", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:39:00", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:39:00", "name": "llm_service", "levelname": "ERROR", "message": "Error generating suggestions: 'M'", "exc_info": "Traceback (most recent call last):\n  File \"E:\\Python_Projects\\pdflyx\\llm_service.py\", line 288, in generate_suggestions\n    ).format(n=n)\n      ^^^^^^^^^^^\nKeyError: 'M'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:39:00", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u0414\u043b\u044f \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0434\u043e\u0441\u043a\u0430, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u043f\u043e\u0440\u043e\u0434\u0443 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0435\u0435 \u043a\u043b\u0430\u0441\u0441 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438. \u0412\u043e\u0442 \u043e\u0431\u0449\u0438\u0439 \u043f\u043e\u0434\u0445\u043e\u0434 \u043a \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044e \u0442\u0430\u043a\u043e\u0433\u043e \u0440\u0430\u0441\u0447\u0435\u0442\u0430:\\n\\n1. <b>\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u0435 \u043f\u043e\u0440\u043e\u0434\u0443 \u0438 \u043a\u043b\u0430\u0441\u0441 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b</b>:\\n\u2022 \u041a\u0430\u0436\u0434\u0430\u044f \u043f\u043e\u0440\u043e\u0434\u0430 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0438\u043c\u0435\u0435\u0442 \u0441\u0432\u043e\u0438 \u0444\u0438\u0437\u0438\u043a\u043e-\u043c\u0435\u0445\u0430\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u044e\u0442\u0441\u044f \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u0430\u043c\u0438. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0434\u043b\u044f \u0445\u0432\u043e\u0439\u043d\u044b\u0445 \u043f\u043e\u0440\u043e\u0434, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \u0441\u043e\u0441\u043d\u0430, \u043c\u043e\u0433\u0443\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043a\u043b\u0430\u0441\u0441\u044b \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a C16, C24 \u0438 \u0442.\u0434.\\n\\n2. <b>\u0423\u0447\u0438\u0442\u044b\u0432\u0430\u0439\u0442\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438</b>:\\n\u2022 \u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c \u0438 \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430 \u043e\u043a\u0440\u0443\u0436\u0430\u044e\u0449\u0435\u0439 \u0441\u0440\u0435\u0434\u044b \u043c\u043e\u0433\u0443\u0442 \u0432\u043b\u0438\u044f\u0442\u044c \u043d\u0430 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u044c \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0432 \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u0445 \u043f\u043e\u0432\u044b\u0448\u0435\u043d\u043d\u043e\u0439 \u0432\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u0438 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u0430 \u043c\u043e\u0436\u0435\u0442 \u0438\u043c\u0435\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0443\u044e \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u044c.\\n\\n3. <b>\u0420\u0430\u0441\u0447\u0435\u0442\u043d\u044b\u0435 \u0444\u043e\u0440\u043c\u0443\u043b\u044b</b>:\\n\u2022 \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u0444\u043e\u0440\u043c\u0443\u043b\u044b \u0434\u043b\u044f \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u043d\u0430\u0433\u0440\u0443\u0437\u043e\u043a \u043d\u0430 \u0434\u0435\u0440\u0435\u0432\u044f\u043d\u043d\u044b\u0435 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438. \u042d\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u0440\u0430\u0441\u0447\u0435\u0442 \u043f\u043e \u0438\u0437\u0433\u0438\u0431\u0443, \u0441\u0436\u0430\u0442\u0438\u044e \u0438\u043b\u0438 \u0440\u0430\u0441\u0442\u044f\u0436\u0435\u043d\u0438\u044e, \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0430 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438 \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0434\u043e\u0441\u043a\u0438.\\n\u2022 \u0424\u043e\u0440\u043c\u0443... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:39:00", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:39:00", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='54727513-d560-42a8-89b2-d24e7a1c5559'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:39:01", "name": "handlers", "levelname": "INFO", "message": "Sent response to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:39:01", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:39:52", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:39:52", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:39:52", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x000001A608C264B0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 39, 51, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2986, supergroup_chat_created=False, text='/start'), update_id=881193930), <telegram.ext._callbackcontext.CallbackContext object at 0x000001A66154E970>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:39:52", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x000001A609299140>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:39:53", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:39:53", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:09", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": null}
{"asctime": "2024-12-03 19:51:09", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": null}
{"asctime": "2024-12-03 19:51:10", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-5"}
{"asctime": "2024-12-03 19:51:11", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-5"}
{"asctime": "2024-12-03 19:51:11", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-5"}
{"asctime": "2024-12-03 19:51:26", "name": "decorators", "levelname": "DEBUG", "message": "Initialized DatabaseService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:27", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:27", "name": "decorators", "levelname": "DEBUG", "message": "Initialized LLMService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:27", "name": "decorators", "levelname": "DEBUG", "message": "Set user_id: 244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:27", "name": "decorators", "levelname": "DEBUG", "message": "Set user_name: Andrey", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:27", "name": "decorators", "levelname": "DEBUG", "message": "Set language_code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:27", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:27", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:27", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x000001BC4B8A11F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 51, 25, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2988, supergroup_chat_created=False, text='/start'), update_id=881193931), <telegram.ext._callbackcontext.CallbackContext object at 0x000001BC70E51860>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:27", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x000001BC4DCB8EE0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:27", "name": "handlers", "levelname": "DEBUG", "message": "User ID: 244732168, User Name: Andrey, Language Code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:27", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:28", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:34", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:51:34", "last_active": "2024-12-03, 19:51:34", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:51:34", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:34", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:34", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:34", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/language'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:34", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: language with args: (<handlers.BotHandlers object at 0x000001BC4B8A11F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 51, 33, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=9, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2990, supergroup_chat_created=False, text='/language'), update_id=881193932), <telegram.ext._callbackcontext.CallbackContext object at 0x000001BC70E52A50>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:34", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: language with result: <coroutine object BotHandlers.language at 0x000001BC70E80E10>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:35", "name": "handlers", "levelname": "INFO", "message": "Prompted language selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:35", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:37", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:51:37", "last_active": "2024-12-03, 19:51:37", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:51:37", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:37", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:37", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:37", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_language:Russian'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:37", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_language with args: (<handlers.BotHandlers object at 0x000001BC4B8A11F0>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_language:Russian', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116658579484903', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 51, 34, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=2991, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_language:English', text='English'),), (InlineKeyboardButton(callback_data='set_language:Russian', text='\u0420\u0443\u0441\u0441\u043a\u0438\u0439'),), (InlineKeyboardButton(callback_data='set_language:Indonesian', text='Indone... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:37", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_language with result: <coroutine object BotHandlers.set_language at 0x000001BC70CBBA70>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:37", "name": "handlers", "levelname": "DEBUG", "message": "Updated language to 'Russian' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:38", "name": "handlers", "levelname": "INFO", "message": "User_id=244732168 set language to 'Russian'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:38", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:41", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:41", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:41", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x000001BC4B8A11F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 51, 40, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2993, supergroup_chat_created=False, text='/start'), update_id=881193934), <telegram.ext._callbackcontext.CallbackContext object at 0x000001BC70E51EF0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:41", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x000001BC70CD7880>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:41", "name": "handlers", "levelname": "DEBUG", "message": "User ID: 244732168, User Name: Andrey, Language Code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:41", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:51:42", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:09", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": null}
{"asctime": "2024-12-03 19:53:10", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": null}
{"asctime": "2024-12-03 19:53:11", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-5"}
{"asctime": "2024-12-03 19:53:11", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-5"}
{"asctime": "2024-12-03 19:53:11", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-5"}
{"asctime": "2024-12-03 19:53:17", "name": "decorators", "levelname": "DEBUG", "message": "Initialized DatabaseService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:18", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:18", "name": "decorators", "levelname": "DEBUG", "message": "Initialized LLMService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:18", "name": "decorators", "levelname": "DEBUG", "message": "Set user_id: 244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:18", "name": "decorators", "levelname": "DEBUG", "message": "Set user_name: Andrey", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:18", "name": "decorators", "levelname": "DEBUG", "message": "Set language_code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:18", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:18", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:18", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x00000280026811F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 53, 16, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2995, supergroup_chat_created=False, text='/start'), update_id=881193935), <telegram.ext._callbackcontext.CallbackContext object at 0x0000028027C63690>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:18", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x0000028004AD8EE0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:18", "name": "handlers", "levelname": "DEBUG", "message": "User ID: 244732168, User Name: Andrey, Language Code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:19", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:19", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:25", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:53:25", "last_active": "2024-12-03, 19:53:25", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:53:25", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:25", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:25", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:25", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/status'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:25", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: status with args: (<handlers.BotHandlers object at 0x00000280026811F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 53, 24, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=7, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2997, supergroup_chat_created=False, text='/status'), update_id=881193936), <telegram.ext._callbackcontext.CallbackContext object at 0x0000028027C610F0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:25", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: status with result: <coroutine object BotHandlers.status at 0x0000028027ACB370>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:26", "name": "handlers", "levelname": "INFO", "message": "Provided status to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:26", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:32", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:53:32", "last_active": "2024-12-03, 19:53:32", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:53:32", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:33", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:33", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:33", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/language'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:33", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: language with args: (<handlers.BotHandlers object at 0x00000280026811F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 53, 32, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=9, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=2999, supergroup_chat_created=False, text='/language'), update_id=881193937), <telegram.ext._callbackcontext.CallbackContext object at 0x0000028027D100C0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:33", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: language with result: <coroutine object BotHandlers.language at 0x0000028027C90590>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:34", "name": "handlers", "levelname": "INFO", "message": "Prompted language selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:34", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:35", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:53:35", "last_active": "2024-12-03, 19:53:35", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:53:35", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:35", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:36", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:36", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_language:English'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:36", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_language with args: (<handlers.BotHandlers object at 0x00000280026811F0>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_language:English', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116658069004452', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 53, 33, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3000, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_language:English', text='English'),), (InlineKeyboardButton(callback_data='set_language:Russian', text='\u0420\u0443\u0441\u0441\u043a\u0438\u0439'),), (InlineKeyboardButton(callback_data='set_language:Indonesian', text='Indone... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:36", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_language with result: <coroutine object BotHandlers.set_language at 0x0000028027AC7E00>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:36", "name": "handlers", "levelname": "DEBUG", "message": "Updated language to 'English' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:36", "name": "handlers", "levelname": "INFO", "message": "User_id=244732168 set language to 'English'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:36", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:40", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:40", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:40", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x00000280026811F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 53, 39, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3002, supergroup_chat_created=False, text='/start'), update_id=881193939), <telegram.ext._callbackcontext.CallbackContext object at 0x0000028027C63D90>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:40", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x0000028004AD8EE0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:40", "name": "handlers", "levelname": "DEBUG", "message": "User ID: 244732168, User Name: Andrey, Language Code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:40", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:40", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:44", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:53:44", "last_active": "2024-12-03, 19:53:44", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:53:44", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:44", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:44", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:44", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/clear_context'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:44", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: clear_context with args: (<handlers.BotHandlers object at 0x00000280026811F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 53, 43, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=14, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3004, supergroup_chat_created=False, text='/clear_context'), update_id=881193940), <telegram.ext._callbackcontext.CallbackContext object at 0x0000028027C63BD0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:44", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: clear_context with result: <coroutine object BotHandlers.clear_context at 0x000002802691B8A0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:44", "name": "handlers", "levelname": "INFO", "message": "User_id=244732168 initiated /clear_context command.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:44", "name": "handlers", "levelname": "DEBUG", "message": "Cleared context key 'folder_path' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:44", "name": "handlers", "levelname": "DEBUG", "message": "Cleared context key 'vector_store_loaded' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:44", "name": "handlers", "levelname": "DEBUG", "message": "Cleared context key 'valid_files_in_folder' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:44", "name": "handlers", "levelname": "DEBUG", "message": "Cleared context key 'context_source' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:44", "name": "handlers", "levelname": "DEBUG", "message": "Cleared context key 'file_id_map' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:44", "name": "handlers", "levelname": "DEBUG", "message": "Cleared context key 'conversation_id' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:44", "name": "handlers", "levelname": "DEBUG", "message": "Cleared vector_store for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:44", "name": "handlers", "levelname": "DEBUG", "message": "Cleared folder path in database for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:44", "name": "handlers", "levelname": "INFO", "message": "Context cleared for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:44", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:52", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:53:52", "last_active": "2024-12-03, 19:53:52", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:53:52", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:52", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:53", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:53", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/language'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:53", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: language with args: (<handlers.BotHandlers object at 0x00000280026811F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 53, 51, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=9, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3006, supergroup_chat_created=False, text='/language'), update_id=881193941), <telegram.ext._callbackcontext.CallbackContext object at 0x0000028027D10830>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:53", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: language with result: <coroutine object BotHandlers.language at 0x0000028027C90590>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:53", "name": "handlers", "levelname": "INFO", "message": "Prompted language selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:53", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:55", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:53:55", "last_active": "2024-12-03, 19:53:55", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:53:55", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:56", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:56", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:56", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_language:Russian'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:56", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_language with args: (<handlers.BotHandlers object at 0x00000280026811F0>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_language:Russian', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116658927032061', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 53, 52, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3007, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_language:English', text='English'),), (InlineKeyboardButton(callback_data='set_language:Russian', text='\u0420\u0443\u0441\u0441\u043a\u0438\u0439'),), (InlineKeyboardButton(callback_data='set_language:Indonesian', text='Indone... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:56", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_language with result: <coroutine object BotHandlers.set_language at 0x0000028027AC7E00>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:56", "name": "handlers", "levelname": "DEBUG", "message": "Updated language to 'Russian' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:56", "name": "handlers", "levelname": "INFO", "message": "User_id=244732168 set language to 'Russian'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:53:56", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:01", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:54:01", "last_active": "2024-12-03, 19:54:01", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:54:01", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:01", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:01", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:01", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/language'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:01", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: language with args: (<handlers.BotHandlers object at 0x00000280026811F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 54, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=9, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3009, supergroup_chat_created=False, text='/language'), update_id=881193943), <telegram.ext._callbackcontext.CallbackContext object at 0x0000028027D11400>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:01", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: language with result: <coroutine object BotHandlers.language at 0x0000028027C4E240>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:01", "name": "handlers", "levelname": "INFO", "message": "Prompted language selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:01", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:06", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:54:06", "last_active": "2024-12-03, 19:54:06", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:54:06", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:06", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:06", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:06", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_language:Indonesian'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:06", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_language with args: (<handlers.BotHandlers object at 0x00000280026811F0>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_language:Indonesian', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116661136372194', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 54, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3010, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_language:English', text='English'),), (InlineKeyboardButton(callback_data='set_language:Russian', text='\u0420\u0443\u0441\u0441\u043a\u0438\u0439'),), (InlineKeyboardButton(callback_data='set_language:Indonesian', text='Indones... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:06", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_language with result: <coroutine object BotHandlers.set_language at 0x0000028027AC7E00>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:06", "name": "handlers", "levelname": "DEBUG", "message": "Updated language to 'Indonesian' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:07", "name": "handlers", "levelname": "INFO", "message": "User_id=244732168 set language to 'Indonesian'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:07", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:11", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Indonesian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:11", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:11", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x00000280026811F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 54, 10, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3012, supergroup_chat_created=False, text='/start'), update_id=881193945), <telegram.ext._callbackcontext.CallbackContext object at 0x0000028027C610F0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:11", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x0000028027AE7D00>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:11", "name": "handlers", "levelname": "DEBUG", "message": "User ID: 244732168, User Name: Andrey, Language Code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:11", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:11", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:15", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:54:15", "last_active": "2024-12-03, 19:54:15", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:54:15", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:15", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:15", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Indonesian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:15", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/language'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:15", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: language with args: (<handlers.BotHandlers object at 0x00000280026811F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 54, 14, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=9, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3014, supergroup_chat_created=False, text='/language'), update_id=881193946), <telegram.ext._callbackcontext.CallbackContext object at 0x0000028027C63690>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:15", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: language with result: <coroutine object BotHandlers.language at 0x0000028027C4E240>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:15", "name": "handlers", "levelname": "INFO", "message": "Prompted language selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:15", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:17", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:54:17", "last_active": "2024-12-03, 19:54:17", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:54:17", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:17", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:17", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Indonesian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:17", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_language:Russian'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:17", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_language with args: (<handlers.BotHandlers object at 0x00000280026811F0>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_language:Russian', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116658441300778', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 54, 14, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3015, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_language:English', text='English'),), (InlineKeyboardButton(callback_data='set_language:Russian', text='\u0420\u0443\u0441\u0441\u043a\u0438\u0439'),), (InlineKeyboardButton(callback_data='set_language:Indonesian', text='Indone... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:17", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_language with result: <coroutine object BotHandlers.set_language at 0x0000028027AC7E00>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:18", "name": "handlers", "levelname": "DEBUG", "message": "Updated language to 'Russian' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:18", "name": "handlers", "levelname": "INFO", "message": "User_id=244732168 set language to 'Russian'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:18", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:52", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:54:52", "last_active": "2024-12-03, 19:54:52", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:54:52", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:52", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:52", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:52", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:52", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x00000280026811F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 54, 51, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3017, supergroup_chat_created=False, text='/knowledge_base'), update_id=881193948), <telegram.ext._callbackcontext.CallbackContext object at 0x0000028027D11240>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:52", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x0000028027C94940>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:53", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:53", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:55", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:54:55", "last_active": "2024-12-03, 19:54:55", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:54:55", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:55", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:55", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:55", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:55", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_knowledge_base with args: (<handlers.BotHandlers object at 0x00000280026811F0>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), id='1051116659567390192', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 54, 52, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3018, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', text='\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'),), (InlineKeyboardButton(callback_data='set_knowledge:Indonesian Regulations', text='Indonesian Regulations'),... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:55", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_knowledge_base with result: <coroutine object BotHandlers.set_knowledge_base at 0x000002802691B8A0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:55", "name": "handlers", "levelname": "DEBUG", "message": "Set folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:55", "name": "handlers", "levelname": "DEBUG", "message": "Found 29 valid files in folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:55", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_and_index_documents with args: (<llm_service.LLMService object at 0x0000028027CA6F90>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:55", "name": "llm_service", "levelname": "DEBUG", "message": "Starting load_and_index_documents for folder_path='E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:55", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_vector_store with args: (<llm_service.LLMService object at 0x0000028027CA6F90>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:55", "name": "faiss.loader", "levelname": "DEBUG", "message": "Environment variable FAISS_OPT_LEVEL is not set, so let's pick the instruction set according to the current CPU", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:55", "name": "faiss.loader", "levelname": "INFO", "message": "Loading faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:55", "name": "faiss.loader", "levelname": "INFO", "message": "Successfully loaded faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:55", "name": "llm_service", "levelname": "INFO", "message": "Loaded vector store from E:\\knowledge_base\\russian_regulations\\vector_store", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:55", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_vector_store with result: True", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:55", "name": "llm_service", "levelname": "INFO", "message": "Vector store loaded from existing files in 'E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:55", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_and_index_documents with result: (True, 'Vector store loaded from existing files.')", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:56", "name": "handlers", "levelname": "INFO", "message": "Knowledge base '\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b' set successfully for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:54:56", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:02", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 19:55:02", "last_active": "2024-12-03, 19:55:02", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 19:55:02", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:03", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:03", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:03", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=244732168, message='\u0412\u0441\u0435\u043c \u0434\u043e\u0431\u0440\u044b\u0439 \u0432\u0435\u0447\u0435\u0440! \u0415\u0441\u0442\u044c \u0445\u043e\u043b\u043e\u0434\u043d\u0430\u044f \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430. \u041d\u0430 \u043d\u0435\u0439 150\u043c\u043c \u043f\u0435\u043d\u043e\u043f\u043b\u0435\u043a\u0441 \u0438 60 \u0441\u0442\u044f\u0436\u043a\u0430. \u0422\u0430\u043a \u0436\u0435 \u043d\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0435 \u0441\u0442\u043e\u0438\u0442 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u044f\u044f \u043f\u0435\u0440\u0435\u0433\u043e\u0440\u043e\u0434\u043a\u0430. \u041f\u043e\u0434\u0435\u043b\u0438\u0442\u0435\u0441\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u043e\u0439 \u0443\u0437\u043b\u0430 \u0443 \u043a\u043e\u0433\u043e \u0435\u0441\u0442\u044c. \u0418\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442 \u043a\u0430\u043a \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u044e \u043c\u043e\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c.'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:03", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x00000280026811F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 16, 55, 1, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3020, supergroup_chat_created=False, text='\u0412\u0441\u0435\u043c \u0434\u043e\u0431\u0440\u044b\u0439 \u0432\u0435\u0447\u0435\u0440! \u0415\u0441\u0442\u044c \u0445\u043e\u043b\u043e\u0434\u043d\u0430\u044f \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430. \u041d\u0430 \u043d\u0435\u0439 150\u043c\u043c \u043f\u0435\u043d\u043e\u043f\u043b\u0435\u043a\u0441 \u0438 60 \u0441\u0442\u044f\u0436\u043a\u0430. \u0422\u0430\u043a \u0436\u0435 \u043d\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0435 \u0441\u0442\u043e\u0438\u0442 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u044f\u044f \u043f\u0435\u0440\u0435\u0433\u043e\u0440\u043e\u0434\u043a\u0430. \u041f\u043e\u0434\u0435\u043b\u0438\u0442\u0435\u0441\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u043e\u0439 \u0443\u0437\u043b\u0430 \u0443 \u043a\u043e\u0433\u043e \u0435\u0441\u0442\u044c. \u0418\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442 \u043a\u0430\u043a \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u044e \u043c\u043e\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c.'), update_id=881193950), <telegram.ext._callbackcontext.CallbackContext object at 0x0000028027D11240>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:03", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x0000028027B83F10>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:03", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='ed9a41a7-424b-49eb-8431-cd9dd6d86b5c' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:03", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='ed9a41a7-424b-49eb-8431-cd9dd6d86b5c'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:03", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:03", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x0000028027CA6F90>, '\u0412\u0441\u0435\u043c \u0434\u043e\u0431\u0440\u044b\u0439 \u0432\u0435\u0447\u0435\u0440! \u0415\u0441\u0442\u044c \u0445\u043e\u043b\u043e\u0434\u043d\u0430\u044f \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430. \u041d\u0430 \u043d\u0435\u0439 150\u043c\u043c \u043f\u0435\u043d\u043e\u043f\u043b\u0435\u043a\u0441 \u0438 60 \u0441\u0442\u044f\u0436\u043a\u0430. \u0422\u0430\u043a \u0436\u0435 \u043d\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0435 \u0441\u0442\u043e\u0438\u0442 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u044f\u044f \u043f\u0435\u0440\u0435\u0433\u043e\u0440\u043e\u0434\u043a\u0430. \u041f\u043e\u0434\u0435\u043b\u0438\u0442\u0435\u0441\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u043e\u0439 \u0443\u0437\u043b\u0430 \u0443 \u043a\u043e\u0433\u043e \u0435\u0441\u0442\u044c. \u0418\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442 \u043a\u0430\u043a \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u044e \u043c\u043e\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c.'), kwargs: {'chat_history': [HumanMessage(content='\u0412\u0441\u0435\u043c \u0434\u043e\u0431\u0440\u044b\u0439 \u0432\u0435\u0447\u0435\u0440! \u0415\u0441\u0442\u044c \u0445\u043e\u043b\u043e\u0434\u043d\u0430\u044f \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430. \u041d\u0430 \u043d\u0435\u0439 150\u043c\u043c \u043f\u0435\u043d\u043e\u043f\u043b\u0435\u043a\u0441 \u0438 60 \u0441\u0442\u044f\u0436\u043a\u0430. \u0422\u0430\u043a \u0436\u0435 \u043d\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0435 \u0441\u0442\u043e\u0438\u0442 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u044f\u044f \u043f\u0435\u0440\u0435\u0433\u043e\u0440\u043e\u0434\u043a\u0430. \u041f\u043e\u0434\u0435\u043b\u0438\u0442\u0435\u0441\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u043e\u0439 \u0443\u0437\u043b\u0430 \u0443 \u043a\u043e\u0433\u043e \u0435\u0441\u0442\u044c. \u0418\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442 \u043a\u0430\u043a \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u044e \u043c\u043e\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c.', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u041a\u0430\u043a \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0434\u043e\u0441\u043a\u0430, \u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u043f\u043e\u0440\u043e\u0434\u044b \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0438 \u0435\u0451 \u043a\u043b\u0430\u0441\u0441\u0430 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438?', additional_kwargs={}, response_metadata={}), AIMessage(content='\u041a\u0430\u043a \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0434\u043e\u0441\u043a\u0430, \u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u043f\u043e\u0440\u043e\u0434\u044b \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0438 \u0435\u0451 \u043a\u043b\u0430\u0441\u0441\u0430 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438?\\n-----------\\n\u0414\u043b\u044f \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0434\u043e\u0441\u043a\u0430, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u0447\u0438... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:03", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000028027CEA2A0>, 'json_data': {'input': [[16604, 2297, 10298, 7952, 14082, 2233, 35723, 5927, 56857, 7753, 0, 60376, 35592, 45658, 7975, 9706, 44858, 5173, 79563, 57719, 1506, 13, 35889, 1506, 6850, 21708, 220, 3965, 6578, 6578, 5173, 5372, 29256, 3114, 79288, 7740, 220, 1399, 18868, 4329, 17394, 13433, 13, 51418, 16248, 58317, 1532, 13373, 5173, 79563, 57719, 1532, 18868, 1482, 9542, 5927, 2156, 38521, 2233, 5372, 4329, 4329, 28114, 25698, 9239, 9706, 13433, 13, 23227, 9706, 12394, 9542, 92691, 91734, 19479, 4898, 16742, 14257, 9136, 31443, 14257, 7820, 22885, 80265, 13, 43896, 2156, 58060, 23297, 73181, 52770, 63780, 1482, 41873, 96485, 15458, 12182, 11562, 17766, 67589, 18482, 13]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:03", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:04", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers([('date', 'Tue, 03 Dec 2024 16:55:03 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-allow-origin', '*'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-model', 'text-embedding-ada-002'), ('openai-organization', 'nuanu-wimbwa'), ('openai-processing-ms', '44'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '5000000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '4999897'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '1ms'), ('x-request-id', 'req_1d6a575683f82f1c43f9902652a1f5ef'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=sh2Yfd6ZGnMYM2FhEoxGSYpsOHIi82UrsKRYaYJmAs4-1733244903-1.0.1.1-4X.kTJEMxjqUbDOLPUgJfsoLAxKweqK3TIIN0... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:04", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_1d6a575683f82f1c43f9902652a1f5ef", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:04", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:04", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000028026511BC0>, 'json_data': {'input': [[16604, 2297, 10298, 7952, 14082, 2233, 35723, 5927, 56857, 7753, 0, 60376, 35592, 45658, 7975, 9706, 44858, 5173, 79563, 57719, 1506, 13, 35889, 1506, 6850, 21708, 220, 3965, 6578, 6578, 5173, 5372, 29256, 3114, 79288, 7740, 220, 1399, 18868, 4329, 17394, 13433, 13, 51418, 16248, 58317, 1532, 13373, 5173, 79563, 57719, 1532, 18868, 1482, 9542, 5927, 2156, 38521, 2233, 5372, 4329, 4329, 28114, 25698, 9239, 9706, 13433, 13, 23227, 9706, 12394, 9542, 92691, 91734, 19479, 4898, 16742, 14257, 9136, 31443, 14257, 7820, 22885, 80265, 13, 43896, 2156, 58060, 23297, 73181, 52770, 63780, 1482, 41873, 96485, 15458, 12182, 11562, 17766, 67589, 18482, 13]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:04", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:05", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:55:05 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '152', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999898', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_e4a66bc8f6cf9b958d9f84f2001f4688', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5150a1f642df8-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:05", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_e4a66bc8f6cf9b958d9f84f2001f4688", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:05", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000028026511BC0>, 'json_data': {'input': [[2297, 89327, 14332, 10298, 78876, 64322, 6856, 11047, 10298, 8164, 7753, 8131, 56515, 44786, 29619, 21708, 2355, 20807, 13, 16, 35448, 94722, 38098, 79370, 57186, 11, 63229, 35682, 39988, 20440, 78876, 64322, 1506, 49526, 74598, 51412, 5524, 11047, 67124, 39865, 41873, 96485, 15458, 17766, 39988, 18034, 18437, 23680, 39988, 93099, 16742, 5524, 11047, 17766, 4898, 16494, 55617, 1830, 67187, 8131, 56515, 12648, 6578, 35875, 1482, 10298, 13, 720, 55258, 18437, 23680, 44858, 93099, 1506, 11562, 17766, 23311, 20346, 50819, 13373, 18868, 5372, 3865, 11122, 7094, 39280, 11, 99396, 5372, 39900, 5524, 7820, 17721, 13433, 2297, 12507, 23934, 11562, 17766, 7975, 9542, 39900, 720, 17394, 12394, 32985, 14082, 8341, 74828, 13, 35889, 17721, 56999, 44065, 18868, 79686, 72060, 7975, 40251, 70129, 21204, 23934, 7820, 78746, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:05", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:06", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:55:06 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '82', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999521', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_9f0ebb386e1a129d645d3cb66b0a37e7', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec51510ab0b2df8-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:06", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_9f0ebb386e1a129d645d3cb66b0a37e7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:06", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000028026511BC0>, 'json_data': {'input': [[74598, 96256, 1506, 220, 7994, 23934, 220, 14815, 33006, 49899, 17766, 67124, 2233, 17766, 1840, 10589, 32062, 85864, 13, 23784, 12561, 13337, 28089, 94962, 90226, 1506, 1532, 93129, 73181, 12561, 16494, 5372, 94975, 12561, 35111, 5372, 34613, 7952, 2233, 5372, 38657, 13, 720, 868, 13, 1032, 23784, 330, 10693, 7975, 9706, 44786, 1, 55617, 94538, 10693, 18034, 35297, 7094, 24697, 19190, 39988, 5173, 3114, 9542, 4655, 11, 21022, 50945, 59138, 13373, 14257, 6148, 84350, 53671, 22918, 1532, 5524, 29256, 2233, 4329, 17394, 18999, 34943, 330, 6735, 5372, 16742, 720, 5591, 25756, 20346, 2156, 51627, 1, 46177, 13373, 20346, 17394, 39988, 18868, 5372, 16742, 34943, 9239, 56999, 18999, 19175, 89159, 1482, 14257, 52037, 18226, 11320, 5591, 18482, 84714, 1532, 15458, 39127, 44065, 720, 15752, 48262, 2233, 1482, 12426, 8... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:06", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:08", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:55:07 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '433', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998826', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '14ms', 'x-request-id': 'req_ed1ba35b174ea1ba13695d131a8d9a2a', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec515173f942df8-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:08", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_ed1ba35b174ea1ba13695d131a8d9a2a", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:08", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000028027CE8A40>, 'json_data': {'input': [[20, 13, 17, 13, 806, 59842, 4898, 80230, 36352, 63780, 1482, 41873, 96485, 15458, 17766, 39900, 35875, 61390, 23934, 29619, 81448, 44786, 18600, 3865, 3114, 17766, 44786, 96573, 7753, 1840, 16331, 6856, 93129, 73181, 198, 8164, 24803, 9706, 18264, 5524, 13373, 10693, 3114, 37277, 12507, 5927, 14391, 15088, 6856, 63233, 7740, 11047, 9239, 10589, 33742, 63233, 55617, 94538, 10693, 220, 1041, 11562, 6578, 13, 35889, 1506, 10693, 3114, 37277, 4655, 29619, 81448, 44786, 198, 6578, 8131, 7753, 1840, 16331, 6856, 93129, 73181, 34943, 13404, 19479, 94975, 5524, 76401, 92506, 89052, 53419, 13999, 6735, 9239, 17766, 23446, 10693, 320, 30480, 2233, 19479, 16742, 19175, 69844, 50506, 220, 1135, 11562, 6578, 8, 46177, 198, 7094, 5591, 61613, 9239, 17766, 23446, 10693, 320, 30480, 2233, 19479, 16742, 19175, 69844, 50506, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:08", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:55:08 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '174', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998524', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '17ms', 'x-request-id': 'req_088b813e95a46e6e0a7d200fa3b9e0a5', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5151f9c1b2df8-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_088b813e95a46e6e0a7d200fa3b9e0a5", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000028027CE8A40>, 'json_data': {'input': [[19871, 17279, 220, 2031, 13, 9423, 966, 13, 679, 17, 720, 9263, 33006, 17279, 1482, 93323, 7753, 12426, 9882, 12182, 11562, 97341, 38657, 1506, 30392, 1482, 56008, 44786, 26539, 23297, 6856, 11, 5173, 39865, 14476, 23680, 15088, 46177, 5173, 79563, 57719, 34943, 7058, 68374, 14009, 70129, 86430, 1830, 8379, 25756, 13337, 6856, 68742, 7740, 10693, 7820, 89327, 91459, 13, 23227, 31203, 28114, 5372, 23630, 1532, 38098, 79370, 15458, 12415, 320, 2297, 38972, 1532, 720, 9136, 1506, 10693, 5591, 8131, 17165, 8, 93129, 73181, 92175, 18226, 14009, 29893, 50051, 35723, 86430, 1830, 13, 720, 22, 13, 19, 13, 19, 23227, 9706, 15752, 13337, 6856, 56008, 44065, 95967, 59313, 7486, 6148, 28089, 1506, 70129, 21204, 39479, 6578, 8341, 4898, 16742, 82702, 15298, 7820, 2233, 67124, 62776, 720, 4898, 2233, 17766, 12426, 1830, 2... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:10", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:55:09 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '156', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999144', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '10ms', 'x-request-id': 'req_d2efe28cfbe59f9a148373d72f4dc3d8', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec51527393d2df8-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:10", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_d2efe28cfbe59f9a148373d72f4dc3d8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:10", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': 'You are a project assistant from the consultant side on design and construction projects. If you don\\'t know the answer, say that you don\\'t know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-03, 19:55:10. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retrieved context to answer the question.\\n\\n\u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0440\u0430\u0441\u0447\u0435\u0442\u043e\u0432 \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u043d\u044b\u0445 \u043f\u043e\u043b\u0435\u0439  \\n\u041d.1 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438, \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0439 \u0434\u043b\u044f \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \\n  \\n\u0421\u0442\u0435\u043d\u0430 \u0441 \u0442\u0435\u043f\u043b\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u043e\u0439 \u0444\u0430\u0441\u0430\u0434\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u0439 \u0441 \u0442\u043e\u043d\u043a\u0438\u043c \u0448\u0442\u0443\u043a\u0430\u0442\u0443\u0440\u043d\u044b\u043c \u0441\u043b\u043e\u0435\u043c. \\n\u0424\u0430\u0441\u0430\u0434\u043d\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u043c\u043e\u043d\u0442\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043d\u0430 \u0441\u0442\u0435\u043d\u0443... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:10", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:17", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers([('date', 'Tue, 03 Dec 2024 16:55:16 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'nuanu-wimbwa'), ('openai-processing-ms', '5882'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '800000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '792843'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '536ms'), ('x-request-id', 'req_2fb53b9ac67106b3366b39efa827b61a'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=B31zfGw.kaYmLpfb1sA39X.5bgxpEktM762OFtvv2zU-1733244916-1.0.1.1-Q1d7UlVLcRnueLGt51pa4E.84wmjmkb828bUK10yM0c.gWhmPXOeH0qwPCZVqO.043iCCTIafzSIAHuKexhykQ; path=/; expires=Tue, 03... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:17", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_2fb53b9ac67106b3366b39efa827b61a", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:17", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.854348873191853, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:17", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:17", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:17", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"Given the following user prompt and LLM response, determine if additional information is needed to help the user fulfill their request and continue the conversation effectively. If yes, provide up to 3 additional prompts based on key concepts in the response, such as 'learn more about ...', 'how to determine ...', 'how to calculate ...', etc., that the user can use to gather more information. If no additional prompts are needed, respond with 'No suggestions needed'.\\n\\nUser Prompt: \u0412\u0441\u0435\u043c \u0434\u043e\u0431\u0440\u044b\u0439 \u0432\u0435\u0447\u0435\u0440! \u0415\u0441\u0442\u044c \u0445\u043e\u043b\u043e\u0434\u043d\u0430\u044f \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430. \u041d\u0430 \u043d\u0435\u0439 150\u043c\u043c \u043f\u0435\u043d\u043e\u043f\u043b\u0435\u043a\u0441 \u0438 60 \u0441\u0442\u044f\u0436\u043a\u0430. \u0422\u0430\u043a \u0436\u0435 \u043d\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0435 \u0441\u0442\u043e\u0438\u0442 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u044f\u044f \u043f\u0435\u0440\u0435\u0433\u043e\u0440\u043e\u0434\u043a\u0430. \u041f\u043e\u0434\u0435\u043b\u0438\u0442\u0435\u0441\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u043e\u0439 \u0443\u0437\u043b\u0430 \u0443 \u043a\u043e\u0433\u043e \u0435\u0441\u0442\u044c. \u0418\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442 \u043a\u0430\u043a \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u044e \u043c\u043e\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c.\\n\\nLLM Response: \u0414\u043e\u0431\u0440\u044b\u0439 \u0432\u0435\u0447\u0435\u0440! \u0412 \u043e\u0431\u0449\u0435\u043c \u0441\u043b\u0443\u0447\u0430\u0435, \u043f\u0440\u0438 \u043c\u043e\u043d\u0442\u0430\u0436\u0435 \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u0438 \u043d\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0435 \u0441 \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u0435\u043b\u0435\u043c \u0438 \u0441\u0442\u044f\u0436\u043a\u043e\u0439, \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438:\\n\\n1. **\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u044f**: \u0423... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:17", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:18", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 16:55:17 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '304', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799225', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '58ms', 'x-request-id': 'req_ecea5b23670b0fb8eed6d4eac145e819', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5155b3b7b2df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:18", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_ecea5b23670b0fb8eed6d4eac145e819", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:18", "name": "llm_service", "levelname": "DEBUG", "message": "LLM determined that no suggestions are needed.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:18", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u0414\u043e\u0431\u0440\u044b\u0439 \u0432\u0435\u0447\u0435\u0440! \u0412 \u043e\u0431\u0449\u0435\u043c \u0441\u043b\u0443\u0447\u0430\u0435, \u043f\u0440\u0438 \u043c\u043e\u043d\u0442\u0430\u0436\u0435 \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u0438 \u043d\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0435 \u0441 \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u0435\u043b\u0435\u043c \u0438 \u0441\u0442\u044f\u0436\u043a\u043e\u0439, \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438:\\n\\n1. <b>\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u044f</b>: \u0423\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u043f\u043e\u0432\u0435\u0440\u0445\u043d\u043e\u0441\u0442\u044c \u043f\u0435\u043d\u043e\u043f\u043b\u0435\u043a\u0441\u0430 \u0440\u043e\u0432\u043d\u0430\u044f \u0438 \u0447\u0438\u0441\u0442\u0430\u044f \u043f\u0435\u0440\u0435\u0434 \u0443\u043a\u043b\u0430\u0434\u043a\u043e\u0439 \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u0438.\\n\\n2. <b>\u0423\u043a\u043b\u0430\u0434\u043a\u0430 \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0441\u043b\u043e\u044f</b>:\\n\u2022 \u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0438\u0442\u0435 \u0440\u0443\u043b\u043e\u043d\u044b \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430 \u043d\u0430 \u043f\u043e\u0432\u0435\u0440\u0445\u043d\u043e\u0441\u0442\u0438 \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u0435\u043b\u044f.\\n\u2022 \u0423\u043a\u043b\u0430\u0434\u043a\u0443 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0442\u044c \u0441 \u043d\u0430\u0445\u043b\u0435\u0441\u0442\u043e\u043c \u0432 \u0431\u043e\u043a\u043e\u0432\u044b\u0445 \u0438 \u0442\u043e\u0440\u0446\u0435\u0432\u044b\u0445 \u0448\u0432\u0430\u0445 \u043f\u0440\u0438\u043c\u0435\u0440\u043d\u043e 100 \u043c\u043c.\\n\u2022 \u0428\u0432\u044b \u0441\u043e\u0435\u0434\u0438\u043d\u044f\u044e\u0442\u0441\u044f \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043e\u0434\u043d\u043e\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0438\u0445 \u0438\u043b\u0438 \u0434\u0432\u0443\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0438\u0445 \u043a\u043b\u0435\u044f\u0449\u0438\u0445 \u043b\u0435\u043d\u0442.\\n\\n3. <b>\u0413\u0435\u0440\u043c\u0435\u0442\u0438\u0437\u0430\u0446\u0438\u044f \u0448\u0432\u043e\u0432</b>: \u041e\u0431\u0435\u0441\u043f\u0435\u0447\u044c\u0442\u0435 \u0433\u0435\u0440\u043c\u0435\u0442\u0438\u0447\u043d\u043e\u0441\u0442\u044c \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0441\u043b\u043e\u044f, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u0435\u0434\u043e\u0442\u0432\u0440\u0430\u0442\u0438\u0442\u044c \u043f\u0440\u043e\u043d\u0438\u043a\u043d\u043e\u0432\u0435\u043d\u0438\u0435 \u0432\u043b\u0430\u0433\u0438 \u0432 \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u0435\u043b\u044c.\\n\\n4. <b>\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0444\u0438\u043a\u0441\u0430\u0446\u0438\u044f</b>: \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438, \u0437\u0430\u043a\u0440\u0435\u043f\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u044e \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0441\u0442\u0435\u043f\u043b\u0435\u0440\u0430 \u0438\u043b\u0438 \u0433\u0432\u043e\u0437\u0434\u0435\u0439 \u0441 \u0448\u0438\u0440\u043e\u043a\u0438\u043c\u0438 \u0448\u043b\u044f\u043f\u043a\u0430\u043c\u0438, \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e \u0432 \u043c\u0435\u0441\u0442\u0430\u0445 \u043f\u0440\u0438\u043c\u044b\u043a\u0430\u043d\u0438\u044f \u043a \u043f\u0435\u0440\u0435\u0433\u043e\u0440\u043e\u0434\u043a\u0430\u043c.\\n\\n5. <b>\u0417\u0430\u0449\u0438\u0442\u0430 \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u0438</b>: \u041f\u043e\u0441\u043b\u0435 \u0443\u043a\u043b\u0430\u0434\u043a\u0438 \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u0438 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u043d\u0435\u043c\u0435\u0434\u043b\u0435\u043d\u043d\u043e \u0443\u043a\u043b\u0430\u0434\u044b... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:18", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:18", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='ed9a41a7-424b-49eb-8431-cd9dd6d86b5c'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:18", "name": "handlers", "levelname": "INFO", "message": "Sent response to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:55:18", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:58:53", "name": "decorators", "levelname": "DEBUG", "message": "Initialized DatabaseService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:58:54", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:58:54", "name": "decorators", "levelname": "DEBUG", "message": "Initialized LLMService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:58:54", "name": "decorators", "levelname": "DEBUG", "message": "Set user_id: 6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:58:54", "name": "decorators", "levelname": "DEBUG", "message": "Set user_name: BIM_TRIP", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:58:54", "name": "decorators", "levelname": "DEBUG", "message": "Set language_code: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:58:54", "name": "decorators", "levelname": "DEBUG", "message": "Initialized language for user_id=6098109349: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:58:54", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=6098109349, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:58:54", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x00000280026811F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 16, 58, 52, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), group_chat_created=False, message_id=3022, supergroup_chat_created=False, text='/start'), update_id=881193951), <telegram.ext._callbackcontext.CallbackContext object at 0x00000280A4A2B3F0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:58:54", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x0000028027C94DC0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:58:54", "name": "handlers", "levelname": "DEBUG", "message": "User ID: 6098109349, User Name: BIM_TRIP, Language Code: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:58:55", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 19:58:55", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:00:58", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 20:00:57", "last_active": "2024-12-03, 20:00:57", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 20:00:58", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:00:58", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:00:58", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:00:58", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=6098109349, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:00:58", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x00000280026811F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 17, 0, 57, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), group_chat_created=False, message_id=3024, supergroup_chat_created=False, text='/knowledge_base'), update_id=881193952), <telegram.ext._callbackcontext.CallbackContext object at 0x00000280A4A3C2F0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:00:58", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x000002802819E320>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:00:59", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:00:59", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:01:06", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:01:06", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=6098109349, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:01:06", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x00000280026811F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 17, 1, 6, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), group_chat_created=False, message_id=3026, supergroup_chat_created=False, text='/start'), update_id=881193953), <telegram.ext._callbackcontext.CallbackContext object at 0x00000280A4A2BAF0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:01:06", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x0000028027C94DC0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:01:06", "name": "handlers", "levelname": "DEBUG", "message": "User ID: 6098109349, User Name: BIM_TRIP, Language Code: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:01:07", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:01:07", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:05:20", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": null}
{"asctime": "2024-12-03 20:05:20", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": null}
{"asctime": "2024-12-03 20:05:21", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-5"}
{"asctime": "2024-12-03 20:05:21", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-5"}
{"asctime": "2024-12-03 20:05:22", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-5"}
{"asctime": "2024-12-03 20:05:30", "name": "decorators", "levelname": "DEBUG", "message": "Initialized DatabaseService for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:05:30", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 20:05:30", "last_active": "2024-12-03, 20:05:30", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 20:05:30", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:05:30", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:05:31", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:05:31", "name": "decorators", "levelname": "DEBUG", "message": "Initialized LLMService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:05:31", "name": "decorators", "levelname": "DEBUG", "message": "Set user_id: 6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:05:31", "name": "decorators", "levelname": "DEBUG", "message": "Set user_name: BIM_TRIP", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:05:31", "name": "decorators", "levelname": "DEBUG", "message": "Set language_code: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:05:31", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:05:31", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=6098109349, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:05:31", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x000001F0A12F11F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 17, 5, 29, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), group_chat_created=False, message_id=3028, supergroup_chat_created=False, text='/start'), update_id=881193954), <telegram.ext._callbackcontext.CallbackContext object at 0x000001F0C68C3A80>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:05:31", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x000001F0A3738EE0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:05:31", "name": "handlers", "levelname": "DEBUG", "message": "User ID: 6098109349, User Name: BIM_TRIP, Language Code: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:05:32", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:05:32", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:06:13", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 20:06:13", "last_active": "2024-12-03, 20:06:13", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 20:06:13", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:06:13", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:06:13", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:06:13", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=6098109349, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:06:13", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x000001F0A12F11F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 17, 6, 12, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), group_chat_created=False, message_id=3030, supergroup_chat_created=False, text='/knowledge_base'), update_id=881193955), <telegram.ext._callbackcontext.CallbackContext object at 0x000001F0C6970130>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:06:13", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x000001F0C6747D00>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:06:14", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:06:14", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:06:16", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 20:06:16", "last_active": "2024-12-03, 20:06:16", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 20:06:16", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:06:16", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:06:16", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:06:16", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=6098109349, message='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:06:17", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_knowledge_base with args: (<handlers.BotHandlers object at 0x000001F0A12F11F0>, Update(callback_query=CallbackQuery(chat_instance='-2576792329845753269', data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), id='7744436151668310292', message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 17, 6, 13, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3031, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', text='\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'),), (InlineKeyboardButton(callback_data='set_knowledge:Indonesian Regulations', text='Indonesian Regulations'),), (InlineKeyboardButton(callback_data='set_knowle... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:06:17", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_knowledge_base with result: <coroutine object BotHandlers.set_knowledge_base at 0x000001F0C557B8A0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:06:17", "name": "handlers", "levelname": "DEBUG", "message": "Set folder_path='E:\\knowledge_base\\russian_regulations' for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:06:17", "name": "handlers", "levelname": "DEBUG", "message": "Found 29 valid files in folder_path='E:\\knowledge_base\\russian_regulations' for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:06:17", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_and_index_documents with args: (<llm_service.LLMService object at 0x000001F0C6907B00>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:06:17", "name": "llm_service", "levelname": "DEBUG", "message": "Starting load_and_index_documents for folder_path='E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:06:17", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_vector_store with args: (<llm_service.LLMService object at 0x000001F0C6907B00>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:06:17", "name": "faiss.loader", "levelname": "DEBUG", "message": "Environment variable FAISS_OPT_LEVEL is not set, so let's pick the instruction set according to the current CPU", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:06:17", "name": "faiss.loader", "levelname": "INFO", "message": "Loading faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:06:17", "name": "faiss.loader", "levelname": "INFO", "message": "Successfully loaded faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:06:17", "name": "llm_service", "levelname": "INFO", "message": "Loaded vector store from E:\\knowledge_base\\russian_regulations\\vector_store", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:06:17", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_vector_store with result: True", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:06:17", "name": "llm_service", "levelname": "INFO", "message": "Vector store loaded from existing files in 'E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:06:17", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_and_index_documents with result: (True, 'Vector store loaded from existing files.')", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:06:17", "name": "handlers", "levelname": "INFO", "message": "Knowledge base '\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b' set successfully for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:06:17", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:08:22", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 20:08:22", "last_active": "2024-12-03, 20:08:22", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 20:08:22", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:08:22", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:08:22", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:08:22", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=6098109349, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:08:22", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x000001F0A12F11F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 17, 8, 21, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), group_chat_created=False, message_id=3033, supergroup_chat_created=False, text='/start'), update_id=881193957), <telegram.ext._callbackcontext.CallbackContext object at 0x000001F0C6970130>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:08:22", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x000001F0C6747D00>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:08:22", "name": "handlers", "levelname": "DEBUG", "message": "User ID: 6098109349, User Name: BIM_TRIP, Language Code: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:08:23", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:08:23", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:10:32", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 20:10:32", "last_active": "2024-12-03, 20:10:32", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 20:10:32", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:10:32", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:10:32", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:10:32", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=6098109349, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:10:32", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x000001F0A12F11F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 17, 10, 31, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), group_chat_created=False, message_id=3035, supergroup_chat_created=False, text='/start'), update_id=881193958), <telegram.ext._callbackcontext.CallbackContext object at 0x000001F0C6AEB310>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:10:32", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x000001F0C68F85E0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:10:32", "name": "handlers", "levelname": "DEBUG", "message": "User ID: 6098109349, User Name: BIM_TRIP, Language Code: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:10:33", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:10:33", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:10:39", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 20:10:39", "last_active": "2024-12-03, 20:10:39", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 20:10:39", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:10:39", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:10:39", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:10:39", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=6098109349, message='/language'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:10:39", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: language with args: (<handlers.BotHandlers object at 0x000001F0A12F11F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 17, 10, 38, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=9, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), group_chat_created=False, message_id=3037, supergroup_chat_created=False, text='/language'), update_id=881193959), <telegram.ext._callbackcontext.CallbackContext object at 0x000001F0C6AEB230>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:10:39", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: language with result: <coroutine object BotHandlers.language at 0x000001F0C68F5030>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:10:40", "name": "handlers", "levelname": "INFO", "message": "Prompted language selection for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:10:40", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:10:43", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 20:10:43", "last_active": "2024-12-03, 20:10:43", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 20:10:43", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:10:44", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:10:44", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:10:44", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=6098109349, message='set_language:English'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:10:44", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_language with args: (<handlers.BotHandlers object at 0x000001F0A12F11F0>, Update(callback_query=CallbackQuery(chat_instance='-2576792329845753269', data='set_language:English', from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), id='7744436151345779259', message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 17, 10, 39, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3038, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_language:English', text='English'),), (InlineKeyboardButton(callback_data='set_language:Russian', text='\u0420\u0443\u0441\u0441\u043a\u0438\u0439'),), (InlineKeyboardButton(callback_data='set_language:Indonesian', text='Indonesian'),))), supergroup_chat_created=False, text='... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:10:44", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_language with result: <coroutine object BotHandlers.set_language at 0x000001F0C688EB00>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:10:44", "name": "handlers", "levelname": "DEBUG", "message": "Updated language to 'English' for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:10:44", "name": "handlers", "levelname": "INFO", "message": "User_id=6098109349 set language to 'English'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:10:45", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:13:25", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": null}
{"asctime": "2024-12-03 20:13:25", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": null}
{"asctime": "2024-12-03 20:13:26", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-5"}
{"asctime": "2024-12-03 20:13:26", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-5"}
{"asctime": "2024-12-03 20:13:26", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-5"}
{"asctime": "2024-12-03 20:14:45", "name": "decorators", "levelname": "DEBUG", "message": "Initialized DatabaseService for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:14:46", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 20:14:46", "last_active": "2024-12-03, 20:14:46", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 20:14:46", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:14:46", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:14:47", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:14:47", "name": "decorators", "levelname": "DEBUG", "message": "Initialized LLMService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:14:47", "name": "decorators", "levelname": "DEBUG", "message": "Set user_id: 6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:14:47", "name": "decorators", "levelname": "DEBUG", "message": "Set user_name: BIM_TRIP", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:14:47", "name": "decorators", "levelname": "DEBUG", "message": "Set language_code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:14:47", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:14:47", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=6098109349, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:14:47", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x0000020E44A311F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 17, 14, 45, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='en'), group_chat_created=False, message_id=3040, supergroup_chat_created=False, text='/start'), update_id=881193961), <telegram.ext._callbackcontext.CallbackContext object at 0x0000020E69F3B5B0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:14:47", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x0000020E69E07E20>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:14:47", "name": "handlers", "levelname": "DEBUG", "message": "User ID: 6098109349, User Name: BIM_TRIP, Language Code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:14:48", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:14:48", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:16:00", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 20:16:00", "last_active": "2024-12-03, 20:16:00", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 20:16:00", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:16:00", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:16:00", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:16:00", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=6098109349, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:16:00", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x0000020E44A311F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 17, 15, 59, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), group_chat_created=False, message_id=3042, supergroup_chat_created=False, text='/start'), update_id=881193962), <telegram.ext._callbackcontext.CallbackContext object at 0x0000020E69F3BEE0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:16:00", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x0000020E69E079A0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:16:00", "name": "handlers", "levelname": "DEBUG", "message": "User ID: 6098109349, User Name: BIM_TRIP, Language Code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:16:01", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:16:01", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:16:13", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 20:16:12", "last_active": "2024-12-03, 20:16:12", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 20:16:13", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:16:13", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:16:13", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:16:13", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=6098109349, message='/language'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:16:13", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: language with args: (<handlers.BotHandlers object at 0x0000020E44A311F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 17, 16, 12, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=9, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), group_chat_created=False, message_id=3044, supergroup_chat_created=False, text='/language'), update_id=881193963), <telegram.ext._callbackcontext.CallbackContext object at 0x0000020E69F3BF50>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:16:13", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: language with result: <coroutine object BotHandlers.language at 0x0000020E69F4E570>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:16:14", "name": "handlers", "levelname": "INFO", "message": "Prompted language selection for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:16:14", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:16:16", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 20:16:16", "last_active": "2024-12-03, 20:16:16", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 20:16:16", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:16:16", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:16:16", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:16:16", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=6098109349, message='set_language:Russian'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:16:16", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_language with args: (<handlers.BotHandlers object at 0x0000020E44A311F0>, Update(callback_query=CallbackQuery(chat_instance='-2576792329845753269', data='set_language:Russian', from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), id='7744436149746656123', message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 17, 16, 13, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3045, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_language:English', text='English'),), (InlineKeyboardButton(callback_data='set_language:Russian', text='\u0420\u0443\u0441\u0441\u043a\u0438\u0439'),), (InlineKeyboardButton(callback_data='set_language:Indonesian', text='Indonesian'),))), supergroup_chat_created=False, text='... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:16:16", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_language with result: <coroutine object BotHandlers.set_language at 0x0000020E69DE7940>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:16:17", "name": "handlers", "levelname": "DEBUG", "message": "Updated language to 'Russian' for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:16:17", "name": "handlers", "levelname": "INFO", "message": "User_id=6098109349 set language to 'Russian'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:16:17", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:03", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 20:17:03", "last_active": "2024-12-03, 20:17:03", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 20:17:03", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:03", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:03", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:03", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=6098109349, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:03", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x0000020E44A311F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 17, 17, 2, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), group_chat_created=False, message_id=3047, supergroup_chat_created=False, text='/start'), update_id=881193965), <telegram.ext._callbackcontext.CallbackContext object at 0x0000020E6A0A4670>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:03", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x0000020E69E07E20>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:03", "name": "handlers", "levelname": "DEBUG", "message": "User ID: 6098109349, User Name: BIM_TRIP, Language Code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:04", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:04", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:22", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 20:17:22", "last_active": "2024-12-03, 20:17:22", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 20:17:22", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:22", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:22", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:22", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=6098109349, message='/language'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:22", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: language with args: (<handlers.BotHandlers object at 0x0000020E44A311F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 17, 17, 21, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=9, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), group_chat_created=False, message_id=3049, supergroup_chat_created=False, text='/language'), update_id=881193966), <telegram.ext._callbackcontext.CallbackContext object at 0x0000020E69F39BE0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:22", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: language with result: <coroutine object BotHandlers.language at 0x0000020E69F4E570>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:23", "name": "handlers", "levelname": "INFO", "message": "Prompted language selection for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:23", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:26", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 20:17:26", "last_active": "2024-12-03, 20:17:26", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 20:17:26", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:26", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:26", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:26", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=6098109349, message='set_language:English'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:26", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_language with args: (<handlers.BotHandlers object at 0x0000020E44A311F0>, Update(callback_query=CallbackQuery(chat_instance='-2576792329845753269', data='set_language:English', from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), id='7744436150991126086', message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 17, 17, 22, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3050, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_language:English', text='English'),), (InlineKeyboardButton(callback_data='set_language:Russian', text='\u0420\u0443\u0441\u0441\u043a\u0438\u0439'),), (InlineKeyboardButton(callback_data='set_language:Indonesian', text='Indonesian'),))), supergroup_chat_created=False, text='... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:26", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_language with result: <coroutine object BotHandlers.set_language at 0x0000020E69DE76E0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:26", "name": "handlers", "levelname": "DEBUG", "message": "Updated language to 'English' for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:27", "name": "handlers", "levelname": "INFO", "message": "User_id=6098109349 set language to 'English'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:27", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:36", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 20:17:36", "last_active": "2024-12-03, 20:17:36", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 20:17:36", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:36", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:36", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:36", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=6098109349, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:36", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x0000020E44A311F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 17, 17, 35, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), group_chat_created=False, message_id=3052, supergroup_chat_created=False, text='/knowledge_base'), update_id=881193968), <telegram.ext._callbackcontext.CallbackContext object at 0x0000020E69F39BE0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:36", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x0000020E69F88EE0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:36", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:37", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:41", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 20:17:41", "last_active": "2024-12-03, 20:17:41", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 20:17:41", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:42", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:42", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:42", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=6098109349, message='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:42", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_knowledge_base with args: (<handlers.BotHandlers object at 0x0000020E44A311F0>, Update(callback_query=CallbackQuery(chat_instance='-2576792329845753269', data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), id='7744436149589196033', message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 17, 17, 36, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3053, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', text='\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'),), (InlineKeyboardButton(callback_data='set_knowledge:Indonesian Regulations', text='Indonesian Regulations'),), (InlineKeyboardButton(callback_data='set_knowl... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:42", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_knowledge_base with result: <coroutine object BotHandlers.set_knowledge_base at 0x0000020E68C3B320>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:42", "name": "handlers", "levelname": "DEBUG", "message": "Set folder_path='E:\\knowledge_base\\russian_regulations' for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:42", "name": "handlers", "levelname": "DEBUG", "message": "Found 29 valid files in folder_path='E:\\knowledge_base\\russian_regulations' for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:42", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_and_index_documents with args: (<llm_service.LLMService object at 0x0000020E6A0446B0>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:42", "name": "llm_service", "levelname": "DEBUG", "message": "Starting load_and_index_documents for folder_path='E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:42", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_vector_store with args: (<llm_service.LLMService object at 0x0000020E6A0446B0>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:42", "name": "faiss.loader", "levelname": "DEBUG", "message": "Environment variable FAISS_OPT_LEVEL is not set, so let's pick the instruction set according to the current CPU", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:42", "name": "faiss.loader", "levelname": "INFO", "message": "Loading faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:42", "name": "faiss.loader", "levelname": "INFO", "message": "Successfully loaded faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:42", "name": "llm_service", "levelname": "INFO", "message": "Loaded vector store from E:\\knowledge_base\\russian_regulations\\vector_store", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:42", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_vector_store with result: True", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:42", "name": "llm_service", "levelname": "INFO", "message": "Vector store loaded from existing files in 'E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:42", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_and_index_documents with result: (True, 'Vector store loaded from existing files.')", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:43", "name": "handlers", "levelname": "INFO", "message": "Knowledge base '\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b' set successfully for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:43", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:47", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 20:17:47", "last_active": "2024-12-03, 20:17:47", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 20:17:47", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:47", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:47", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:47", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=6098109349, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:47", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x0000020E44A311F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 17, 17, 46, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), group_chat_created=False, message_id=3055, supergroup_chat_created=False, text='/start'), update_id=881193970), <telegram.ext._callbackcontext.CallbackContext object at 0x0000020E69F39BE0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:47", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x0000020E69F88EE0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:47", "name": "handlers", "levelname": "DEBUG", "message": "User ID: 6098109349, User Name: BIM_TRIP, Language Code: en", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:47", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:47", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:55", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 20:17:55", "last_active": "2024-12-03, 20:17:55", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 20:17:55", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:55", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:55", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:55", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=6098109349, message='/language'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:55", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: language with args: (<handlers.BotHandlers object at 0x0000020E44A311F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 17, 17, 54, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=9, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), group_chat_created=False, message_id=3057, supergroup_chat_created=False, text='/language'), update_id=881193971), <telegram.ext._callbackcontext.CallbackContext object at 0x0000020E6A0A4360>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:55", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: language with result: <coroutine object BotHandlers.language at 0x0000020E6A010D00>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:56", "name": "handlers", "levelname": "INFO", "message": "Prompted language selection for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:17:56", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:18:06", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 20:18:06", "last_active": "2024-12-03, 20:18:06", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 20:18:06", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:18:06", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:18:06", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:18:06", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=6098109349, message='set_language:Indonesian'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:18:06", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_language with args: (<handlers.BotHandlers object at 0x0000020E44A311F0>, Update(callback_query=CallbackQuery(chat_instance='-2576792329845753269', data='set_language:Indonesian', from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), id='7744436149904510176', message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 17, 17, 55, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3058, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_language:English', text='English'),), (InlineKeyboardButton(callback_data='set_language:Russian', text='\u0420\u0443\u0441\u0441\u043a\u0438\u0439'),), (InlineKeyboardButton(callback_data='set_language:Indonesian', text='Indonesian'),))), supergroup_chat_created=False, tex... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:18:06", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_language with result: <coroutine object BotHandlers.set_language at 0x0000020E69F78D50>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:18:07", "name": "handlers", "levelname": "DEBUG", "message": "Updated language to 'Indonesian' for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:18:07", "name": "handlers", "levelname": "INFO", "message": "User_id=6098109349 set language to 'Indonesian'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:18:07", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:50:08", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": null}
{"asctime": "2024-12-03 20:50:09", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": null}
{"asctime": "2024-12-03 20:50:10", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-5"}
{"asctime": "2024-12-03 20:50:10", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-5"}
{"asctime": "2024-12-03 20:50:10", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-5"}
{"asctime": "2024-12-03 20:50:48", "name": "decorators", "levelname": "DEBUG", "message": "Initialized DatabaseService for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:50:48", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 20:50:48", "last_active": "2024-12-03, 20:50:48", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 20:50:48", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:50:48", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:50:49", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:50:49", "name": "decorators", "levelname": "DEBUG", "message": "Initialized LLMService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:50:49", "name": "decorators", "levelname": "DEBUG", "message": "Set user_id: 6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:50:49", "name": "decorators", "levelname": "DEBUG", "message": "Set user_name: BIM_TRIP", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:50:49", "name": "decorators", "levelname": "DEBUG", "message": "Set language_code: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:50:49", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:50:49", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=6098109349, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:50:49", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x0000022821E864B0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 17, 50, 47, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), group_chat_created=False, message_id=3060, supergroup_chat_created=False, text='/start'), update_id=881193973), <telegram.ext._callbackcontext.CallbackContext object at 0x0000022821F13690>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:50:49", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x0000022821EBC7C0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:50:49", "name": "handlers", "levelname": "DEBUG", "message": "User ID: 6098109349, User Name: BIM_TRIP, Language Code: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:50:49", "name": "handlers", "levelname": "ERROR", "message": "DatabaseService not found in bot_data.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:50:50", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:51:37", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": null}
{"asctime": "2024-12-03 20:51:37", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": null}
{"asctime": "2024-12-03 20:51:38", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-5"}
{"asctime": "2024-12-03 20:51:38", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-5"}
{"asctime": "2024-12-03 20:51:39", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-5"}
{"asctime": "2024-12-03 20:52:00", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": null}
{"asctime": "2024-12-03 20:52:01", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": null}
{"asctime": "2024-12-03 20:52:02", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-5"}
{"asctime": "2024-12-03 20:52:02", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-5"}
{"asctime": "2024-12-03 20:52:03", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-5"}
{"asctime": "2024-12-03 20:52:12", "name": "decorators", "levelname": "DEBUG", "message": "Initialized DatabaseService for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:52:12", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 20:52:12", "last_active": "2024-12-03, 20:52:12", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 20:52:12", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:52:12", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:52:13", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:52:13", "name": "decorators", "levelname": "DEBUG", "message": "Initialized LLMService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:52:13", "name": "decorators", "levelname": "DEBUG", "message": "Set user_id: 6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:52:13", "name": "decorators", "levelname": "DEBUG", "message": "Set user_name: BIM_TRIP", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:52:13", "name": "decorators", "levelname": "DEBUG", "message": "Set language_code: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:52:13", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:52:13", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=6098109349, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:52:13", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x0000025EBE0864B0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 17, 52, 11, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), group_chat_created=False, message_id=3062, supergroup_chat_created=False, text='/start'), update_id=881193974), <telegram.ext._callbackcontext.CallbackContext object at 0x0000025EBE0CBA80>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:52:13", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x0000025EBE10C7C0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:52:13", "name": "handlers", "levelname": "DEBUG", "message": "User ID: 6098109349, User Name: BIM_TRIP, Language Code: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:52:13", "name": "handlers", "levelname": "ERROR", "message": "DatabaseService not found in bot_data.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:52:14", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:53:51", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": null}
{"asctime": "2024-12-03 20:53:52", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": null}
{"asctime": "2024-12-03 20:53:53", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-5"}
{"asctime": "2024-12-03 20:53:53", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-5"}
{"asctime": "2024-12-03 20:53:54", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-5"}
{"asctime": "2024-12-03 20:54:26", "name": "decorators", "levelname": "DEBUG", "message": "Initialized DatabaseService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:54:27", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:54:27", "name": "decorators", "levelname": "DEBUG", "message": "Initialized LLMService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:54:27", "name": "decorators", "levelname": "DEBUG", "message": "Set user_id: 6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:54:27", "name": "decorators", "levelname": "DEBUG", "message": "Set user_name: BIM_TRIP", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:54:27", "name": "decorators", "levelname": "DEBUG", "message": "Set language_code: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:54:27", "name": "decorators", "levelname": "DEBUG", "message": "Initialized language for user_id=6098109349: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:54:27", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=6098109349, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:54:27", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x000001F3BD4D11F0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 17, 54, 25, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), group_chat_created=False, message_id=3064, supergroup_chat_created=False, text='/start'), update_id=881193975), <telegram.ext._callbackcontext.CallbackContext object at 0x000001F3E2AB38C0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:54:27", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x000001F3E2A5C680>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:54:27", "name": "handlers", "levelname": "DEBUG", "message": "User ID: 6098109349, User Name: BIM_TRIP, Language Code: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:54:27", "name": "handlers", "levelname": "ERROR", "message": "DatabaseService not found in bot_data.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 20:54:27", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:11:16", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:11:16", "name": "__main__", "levelname": "INFO", "message": "Logging is set up.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:11:16", "name": "__main__", "levelname": "INFO", "message": "Application built with provided token.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:11:16", "name": "__main__", "levelname": "INFO", "message": "DatabaseService initialized and stored in bot_data.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:11:17", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:11:17", "name": "__main__", "levelname": "INFO", "message": "LLMService initialized and stored in bot_data.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:11:18", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:11:18", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:11:19", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:11:19", "name": "__main__", "levelname": "INFO", "message": "Post-initialization completed.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:11:19", "name": "__main__", "levelname": "INFO", "message": "Handlers added to the application.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:11:19", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:11:33", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:11:33", "name": "__main__", "levelname": "INFO", "message": "Logging is set up.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:11:33", "name": "__main__", "levelname": "INFO", "message": "Application built with provided token.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:11:33", "name": "__main__", "levelname": "INFO", "message": "DatabaseService initialized and stored in bot_data.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:11:34", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:11:34", "name": "__main__", "levelname": "INFO", "message": "LLMService initialized and stored in bot_data.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:11:35", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:11:35", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:11:35", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:11:35", "name": "__main__", "levelname": "INFO", "message": "Post-initialization completed.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:11:35", "name": "__main__", "levelname": "INFO", "message": "Handlers added to the application.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:11:35", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:30:32", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:30:32", "name": "__main__", "levelname": "INFO", "message": "Logging is set up.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:30:33", "name": "__main__", "levelname": "INFO", "message": "Application built with provided token.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:30:33", "name": "__main__", "levelname": "INFO", "message": "DatabaseService initialized and stored in bot_data.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:30:34", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:30:34", "name": "__main__", "levelname": "INFO", "message": "LLMService initialized and stored in bot_data.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:30:35", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:30:35", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:30:35", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:30:35", "name": "__main__", "levelname": "INFO", "message": "Post-initialization completed.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:30:35", "name": "__main__", "levelname": "INFO", "message": "Handlers added to the application.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:30:35", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:38:15", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:38:15", "name": "__main__", "levelname": "INFO", "message": "Logging is set up.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:38:15", "name": "__main__", "levelname": "INFO", "message": "Application built with provided token.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:38:15", "name": "__main__", "levelname": "INFO", "message": "DatabaseService initialized and stored in bot_data.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:38:16", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:38:16", "name": "__main__", "levelname": "INFO", "message": "LLMService initialized and stored in bot_data.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:38:17", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:38:17", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:38:17", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:38:17", "name": "__main__", "levelname": "INFO", "message": "Post-initialization completed.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:38:17", "name": "__main__", "levelname": "INFO", "message": "Handlers added to the application.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:38:17", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:40:31", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:40:31", "name": "__main__", "levelname": "INFO", "message": "Logging is set up.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:40:31", "name": "__main__", "levelname": "INFO", "message": "Application built with provided token.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:40:31", "name": "__main__", "levelname": "INFO", "message": "DatabaseService initialized and stored in bot_data.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:40:32", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:40:32", "name": "__main__", "levelname": "INFO", "message": "LLMService initialized and stored in bot_data.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:40:33", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:40:33", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:40:33", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:40:33", "name": "__main__", "levelname": "INFO", "message": "Post-initialization completed.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:40:33", "name": "__main__", "levelname": "INFO", "message": "Handlers added to the application.", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:40:33", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": "Task-1"}
{"asctime": "2024-12-03 21:53:31", "name": "root", "levelname": "DEBUG", "message": "Logging has been configured successfully.", "taskName": null}
{"asctime": "2024-12-03 21:53:31", "name": "__main__", "levelname": "INFO", "message": "Logging is set up.", "taskName": null}
{"asctime": "2024-12-03 21:53:31", "name": "__main__", "levelname": "INFO", "message": "Application built with provided token.", "taskName": null}
{"asctime": "2024-12-03 21:53:31", "name": "__main__", "levelname": "INFO", "message": "DatabaseService initialized and stored in bot_data.", "taskName": null}
{"asctime": "2024-12-03 21:53:32", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": null}
{"asctime": "2024-12-03 21:53:32", "name": "__main__", "levelname": "INFO", "message": "LLMService initialized and stored in bot_data.", "taskName": null}
{"asctime": "2024-12-03 21:53:32", "name": "__main__", "levelname": "INFO", "message": "Handlers added to the application.", "taskName": null}
{"asctime": "2024-12-03 21:53:32", "name": "__main__", "levelname": "INFO", "message": "Bot is starting...", "taskName": null}
{"asctime": "2024-12-03 21:53:33", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: English (en)", "taskName": "Task-5"}
{"asctime": "2024-12-03 21:53:33", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Russian (ru)", "taskName": "Task-5"}
{"asctime": "2024-12-03 21:53:34", "name": "handlers", "levelname": "INFO", "message": "Commands set for language: Indonesian (id)", "taskName": "Task-5"}
{"asctime": "2024-12-03 21:54:11", "name": "decorators", "levelname": "DEBUG", "message": "Initialized DatabaseService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:12", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:12", "name": "decorators", "levelname": "DEBUG", "message": "Initialized LLMService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:12", "name": "decorators", "levelname": "DEBUG", "message": "Set user_id: 6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:12", "name": "decorators", "levelname": "DEBUG", "message": "Set user_name: BIM_TRIP", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:12", "name": "decorators", "levelname": "DEBUG", "message": "Set language_code: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:12", "name": "decorators", "levelname": "DEBUG", "message": "Initialized language for user_id=6098109349: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:12", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=6098109349, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:12", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x0000015E2538B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 18, 54, 10, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), group_chat_created=False, message_id=3066, supergroup_chat_created=False, text='/start'), update_id=881193976), <telegram.ext._callbackcontext.CallbackContext object at 0x0000015E4A9ABE70>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:12", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x0000015E4AA347C0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:12", "name": "handlers", "levelname": "DEBUG", "message": "User ID: 6098109349, User Name: BIM_TRIP, Language Code: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:12", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 21:54:12", "last_active": "2024-12-03, 21:54:12", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 21:54:12", "name": "handlers", "levelname": "INFO", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:13", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:13", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:26", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 21:54:26", "last_active": "2024-12-03, 21:54:26", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 21:54:26", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:26", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:26", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:27", "name": "decorators", "levelname": "WARNING", "message": "Documents not indexed for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:31", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 21:54:31", "last_active": "2024-12-03, 21:54:31", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 21:54:31", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:31", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:31", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:31", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=6098109349, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:31", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x0000015E2538B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 18, 54, 30, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), group_chat_created=False, message_id=3070, supergroup_chat_created=False, text='/knowledge_base'), update_id=881193978), <telegram.ext._callbackcontext.CallbackContext object at 0x0000015E4A9ABF50>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:31", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x0000015E4A88FD00>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:31", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:32", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:33", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 21:54:33", "last_active": "2024-12-03, 21:54:33", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 21:54:33", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:33", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:33", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:33", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=6098109349, message='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:33", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_knowledge_base with args: (<handlers.BotHandlers object at 0x0000015E2538B9E0>, Update(callback_query=CallbackQuery(chat_instance='-2576792329845753269', data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), id='7744436151263900885', message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 18, 54, 31, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3071, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', text='\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'),), (InlineKeyboardButton(callback_data='set_knowledge:Indonesian Regulations', text='Indonesian Regulations'),), (InlineKeyboardButton(callback_data='set_knowl... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:33", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_knowledge_base with result: <coroutine object BotHandlers.set_knowledge_base at 0x0000015E496C3B60>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:34", "name": "handlers", "levelname": "DEBUG", "message": "Set folder_path='E:\\knowledge_base\\russian_regulations' for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:34", "name": "handlers", "levelname": "DEBUG", "message": "Found 29 valid files in folder_path='E:\\knowledge_base\\russian_regulations' for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:34", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_and_index_documents with args: (<llm_service.LLMService object at 0x0000015E4AA83C80>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:34", "name": "llm_service", "levelname": "DEBUG", "message": "Starting load_and_index_documents for folder_path='E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:34", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_vector_store with args: (<llm_service.LLMService object at 0x0000015E4AA83C80>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:34", "name": "faiss.loader", "levelname": "DEBUG", "message": "Environment variable FAISS_OPT_LEVEL is not set, so let's pick the instruction set according to the current CPU", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:34", "name": "faiss.loader", "levelname": "INFO", "message": "Loading faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:34", "name": "faiss.loader", "levelname": "INFO", "message": "Successfully loaded faiss with AVX2 support.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:34", "name": "llm_service", "levelname": "INFO", "message": "Loaded vector store from E:\\knowledge_base\\russian_regulations\\vector_store", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:34", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_vector_store with result: True", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:34", "name": "llm_service", "levelname": "INFO", "message": "Vector store loaded from existing files in 'E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:34", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_and_index_documents with result: (True, 'Vector store loaded from existing files.')", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:34", "name": "handlers", "levelname": "INFO", "message": "Knowledge base '\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b' set successfully for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:34", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:43", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 21:54:43", "last_active": "2024-12-03, 21:54:43", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 21:54:43", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:43", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:43", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:43", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=6098109349, message='/status'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:43", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: status with args: (<handlers.BotHandlers object at 0x0000015E2538B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 18, 54, 42, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=7, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), group_chat_created=False, message_id=3073, supergroup_chat_created=False, text='/status'), update_id=881193980), <telegram.ext._callbackcontext.CallbackContext object at 0x0000015E4AA88750>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:43", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: status with result: <coroutine object BotHandlers.status at 0x0000015E4A876A40>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:47", "name": "llm_service", "levelname": "INFO", "message": "Empty content on page 7 of document '\u0418\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u043e \u0433\u0435\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0438\u0437\u044b\u0441\u043a\u0430\u043d\u0438\u044f_\u0421\u041f 446.1325800.2019 .pdf'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:49", "name": "llm_service", "levelname": "INFO", "message": "Empty content on page 86 of document '\u041d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438 \u0432\u043e\u0437\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f_\u0421\u041f 20.13330.2016.pdf'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:49", "name": "llm_service", "levelname": "INFO", "message": "Empty content on page 1 of document '\u041d\u0435\u0441\u0443\u0449\u0438\u0435_\u0438_\u043e\u0433\u0440\u0430\u0436\u0434\u0430\u044e\u0449\u0438\u0435_\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438_\u0421\u041f_70_13330_2012.pdf'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:52", "name": "handlers", "levelname": "INFO", "message": "Provided status to user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:54:52", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:00", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 21:55:00", "last_active": "2024-12-03, 21:55:00", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 21:55:00", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:00", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:01", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:01", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=6098109349, message='/language'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:01", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: language with args: (<handlers.BotHandlers object at 0x0000015E2538B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 18, 54, 59, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=9, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), group_chat_created=False, message_id=3075, supergroup_chat_created=False, text='/language'), update_id=881193981), <telegram.ext._callbackcontext.CallbackContext object at 0x0000015E4AA88750>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:01", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: language with result: <coroutine object BotHandlers.language at 0x0000015E4AA1CBF0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:01", "name": "handlers", "levelname": "INFO", "message": "Prompted language selection for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:01", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:04", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 21:55:04", "last_active": "2024-12-03, 21:55:04", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 21:55:04", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:04", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:04", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:04", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=6098109349, message='set_language:English'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:04", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_language with args: (<handlers.BotHandlers object at 0x0000015E2538B9E0>, Update(callback_query=CallbackQuery(chat_instance='-2576792329845753269', data='set_language:English', from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), id='7744436150793790698', message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 18, 55, 1, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3076, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_language:English', text='English'),), (InlineKeyboardButton(callback_data='set_language:Russian', text='\u0420\u0443\u0441\u0441\u043a\u0438\u0439'),), (InlineKeyboardButton(callback_data='set_language:Indonesian', text='Indonesian'),))), supergroup_chat_created=False, text='\u041f... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:04", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_language with result: <coroutine object BotHandlers.set_language at 0x0000015E4AA31210>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:05", "name": "handlers", "levelname": "DEBUG", "message": "Updated language to 'English' for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:05", "name": "handlers", "levelname": "INFO", "message": "User_id=6098109349 set language to 'English'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:05", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:09", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:09", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=6098109349, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:09", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x0000015E2538B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 18, 55, 8, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), group_chat_created=False, message_id=3078, supergroup_chat_created=False, text='/start'), update_id=881193983), <telegram.ext._callbackcontext.CallbackContext object at 0x0000015E4AA88750>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:09", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x0000015E4AA34B80>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:09", "name": "handlers", "levelname": "DEBUG", "message": "User ID: 6098109349, User Name: BIM_TRIP, Language Code: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:09", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 21:55:09", "last_active": "2024-12-03, 21:55:09", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 21:55:09", "name": "handlers", "levelname": "INFO", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:09", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:09", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:14", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 21:55:14", "last_active": "2024-12-03, 21:55:14", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 21:55:14", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:14", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:14", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:14", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=6098109349, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:14", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x0000015E2538B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 18, 55, 13, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), group_chat_created=False, message_id=3080, supergroup_chat_created=False, text='/knowledge_base'), update_id=881193984), <telegram.ext._callbackcontext.CallbackContext object at 0x0000015E4A9AA120>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:14", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x0000015E28058EE0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:14", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:14", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:26", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 21:55:26", "last_active": "2024-12-03, 21:55:26", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 21:55:26", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:26", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:26", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:26", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=6098109349, message='/status'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:26", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: status with args: (<handlers.BotHandlers object at 0x0000015E2538B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 18, 55, 25, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=7, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), group_chat_created=False, message_id=3082, supergroup_chat_created=False, text='/status'), update_id=881193985), <telegram.ext._callbackcontext.CallbackContext object at 0x0000015E4AF77C40>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:26", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: status with result: <coroutine object BotHandlers.status at 0x0000015E4A876B90>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:30", "name": "llm_service", "levelname": "INFO", "message": "Empty content on page 7 of document '\u0418\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u043e \u0433\u0435\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0438\u0437\u044b\u0441\u043a\u0430\u043d\u0438\u044f_\u0421\u041f 446.1325800.2019 .pdf'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:31", "name": "llm_service", "levelname": "INFO", "message": "Empty content on page 86 of document '\u041d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438 \u0432\u043e\u0437\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f_\u0421\u041f 20.13330.2016.pdf'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:31", "name": "llm_service", "levelname": "INFO", "message": "Empty content on page 1 of document '\u041d\u0435\u0441\u0443\u0449\u0438\u0435_\u0438_\u043e\u0433\u0440\u0430\u0436\u0434\u0430\u044e\u0449\u0438\u0435_\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438_\u0421\u041f_70_13330_2012.pdf'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:35", "name": "handlers", "levelname": "INFO", "message": "Provided status to user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:35", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:50", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:50", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=6098109349, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:50", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x0000015E2538B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 18, 55, 49, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), group_chat_created=False, message_id=3084, supergroup_chat_created=False, text='/start'), update_id=881193986), <telegram.ext._callbackcontext.CallbackContext object at 0x0000015E4AF77460>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:50", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x0000015E4AA34B80>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:50", "name": "handlers", "levelname": "DEBUG", "message": "User ID: 6098109349, User Name: BIM_TRIP, Language Code: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:50", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 21:55:50", "last_active": "2024-12-03, 21:55:50", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 21:55:50", "name": "handlers", "levelname": "INFO", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:50", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 21:55:50", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:13:46", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=6098109349: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:13:46", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=6098109349, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:13:46", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x0000015E2538B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='BIM_TRIP', id=6098109349, type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 19, 13, 45, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='BIM_TRIP', id=6098109349, is_bot=False, language_code='ru'), group_chat_created=False, message_id=3086, supergroup_chat_created=False, text='/start'), update_id=881193987), <telegram.ext._callbackcontext.CallbackContext object at 0x0000015E4AF77930>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:13:46", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x0000015E4AA347C0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:13:46", "name": "handlers", "levelname": "DEBUG", "message": "User ID: 6098109349, User Name: BIM_TRIP, Language Code: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:13:46", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 6098109349, "user_name": "BIM_TRIP", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 22:13:46", "last_active": "2024-12-03, 22:13:46", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 22:13:46", "name": "handlers", "levelname": "INFO", "message": "User info saved for user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:13:47", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=6098109349", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:13:47", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=6098109349, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:28", "name": "decorators", "levelname": "DEBUG", "message": "Initialized DatabaseService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:29", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:29", "name": "decorators", "levelname": "DEBUG", "message": "Initialized LLMService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:29", "name": "decorators", "levelname": "DEBUG", "message": "Set user_id: 244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:29", "name": "decorators", "levelname": "DEBUG", "message": "Set user_name: Andrey", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:29", "name": "decorators", "levelname": "DEBUG", "message": "Set language_code: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:29", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:29", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:29", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x0000015E2538B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 19, 14, 27, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='ru', username='Akumsk'), group_chat_created=False, message_id=3088, supergroup_chat_created=False, text='/start'), update_id=881193988), <telegram.ext._callbackcontext.CallbackContext object at 0x0000015E4AF77A10>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:29", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x0000015E4AA34180>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:29", "name": "handlers", "levelname": "DEBUG", "message": "User ID: 244732168, User Name: Andrey, Language Code: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:29", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 22:14:29", "last_active": "2024-12-03, 22:14:29", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 22:14:29", "name": "handlers", "levelname": "INFO", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:30", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:30", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:35", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 22:14:35", "last_active": "2024-12-03, 22:14:35", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 22:14:35", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:36", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:36", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:36", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/status'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:36", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: status with args: (<handlers.BotHandlers object at 0x0000015E2538B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 19, 14, 35, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=7, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='ru', username='Akumsk'), group_chat_created=False, message_id=3090, supergroup_chat_created=False, text='/status'), update_id=881193989), <telegram.ext._callbackcontext.CallbackContext object at 0x0000015E4AF77D90>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:36", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: status with result: <coroutine object BotHandlers.status at 0x0000015E4A876B90>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:36", "name": "handlers", "levelname": "INFO", "message": "Provided status to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:36", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:40", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 22:14:40", "last_active": "2024-12-03, 22:14:40", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 22:14:40", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:40", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:40", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:40", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/language'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:40", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: language with args: (<handlers.BotHandlers object at 0x0000015E2538B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 19, 14, 39, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=9, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='ru', username='Akumsk'), group_chat_created=False, message_id=3092, supergroup_chat_created=False, text='/language'), update_id=881193990), <telegram.ext._callbackcontext.CallbackContext object at 0x0000015E4AF77EE0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:40", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: language with result: <coroutine object BotHandlers.language at 0x0000015E4AA1C260>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:41", "name": "handlers", "levelname": "INFO", "message": "Prompted language selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:41", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:42", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 22:14:42", "last_active": "2024-12-03, 22:14:42", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 22:14:42", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:43", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:43", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:43", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_language:English'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:43", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_language with args: (<handlers.BotHandlers object at 0x0000015E2538B9E0>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_language:English', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='ru', username='Akumsk'), id='1051116658624123116', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 19, 14, 40, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3093, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_language:English', text='English'),), (InlineKeyboardButton(callback_data='set_language:Russian', text='\u0420\u0443\u0441\u0441\u043a\u0438\u0439'),), (InlineKeyboardButton(callback_data='set_language:Indonesian', text='Indone... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:43", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_language with result: <coroutine object BotHandlers.set_language at 0x0000015E4AA31F20>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:43", "name": "handlers", "levelname": "DEBUG", "message": "Updated language to 'English' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:43", "name": "handlers", "levelname": "INFO", "message": "User_id=244732168 set language to 'English'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:43", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:47", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:47", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/start'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:47", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: start with args: (<handlers.BotHandlers object at 0x0000015E2538B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 19, 14, 46, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='ru', username='Akumsk'), group_chat_created=False, message_id=3095, supergroup_chat_created=False, text='/start'), update_id=881193992), <telegram.ext._callbackcontext.CallbackContext object at 0x0000015E4AF77540>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:47", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: start with result: <coroutine object BotHandlers.start at 0x0000015E4AA34900>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:47", "name": "handlers", "levelname": "DEBUG", "message": "User ID: 244732168, User Name: Andrey, Language Code: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:47", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 22:14:47", "last_active": "2024-12-03, 22:14:47", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 22:14:47", "name": "handlers", "levelname": "INFO", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:48", "name": "handlers", "levelname": "INFO", "message": "Sent welcome message to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:48", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:55", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 22:14:55", "last_active": "2024-12-03, 22:14:55", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 22:14:55", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:55", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:55", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:55", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/status'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:55", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: status with args: (<handlers.BotHandlers object at 0x0000015E2538B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 19, 14, 54, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=7, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='ru', username='Akumsk'), group_chat_created=False, message_id=3097, supergroup_chat_created=False, text='/status'), update_id=881193993), <telegram.ext._callbackcontext.CallbackContext object at 0x0000015E4AF75940>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:55", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: status with result: <coroutine object BotHandlers.status at 0x0000015E4A876A40>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:56", "name": "handlers", "levelname": "INFO", "message": "Provided status to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:14:56", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:07", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 22:15:07", "last_active": "2024-12-03, 22:15:07", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 22:15:07", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:08", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:08", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:08", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/clear_context'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:08", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: clear_context with args: (<handlers.BotHandlers object at 0x0000015E2538B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 19, 15, 7, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=14, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='ru', username='Akumsk'), group_chat_created=False, message_id=3099, supergroup_chat_created=False, text='/clear_context'), update_id=881193994), <telegram.ext._callbackcontext.CallbackContext object at 0x0000015E4AA88750>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:08", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: clear_context with result: <coroutine object BotHandlers.clear_context at 0x0000015E4A9AC720>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:08", "name": "handlers", "levelname": "INFO", "message": "User_id=244732168 initiated /clear_context command.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:08", "name": "handlers", "levelname": "DEBUG", "message": "Cleared context key 'folder_path' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:08", "name": "handlers", "levelname": "DEBUG", "message": "Cleared context key 'vector_store_loaded' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:08", "name": "handlers", "levelname": "DEBUG", "message": "Cleared context key 'valid_files_in_folder' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:08", "name": "handlers", "levelname": "DEBUG", "message": "Cleared context key 'context_source' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:08", "name": "handlers", "levelname": "DEBUG", "message": "Cleared context key 'file_id_map' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:08", "name": "handlers", "levelname": "DEBUG", "message": "Cleared context key 'conversation_id' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:08", "name": "handlers", "levelname": "DEBUG", "message": "Cleared vector_store for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:08", "name": "handlers", "levelname": "DEBUG", "message": "Cleared folder path in database for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:08", "name": "handlers", "levelname": "INFO", "message": "Context cleared for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:08", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:15", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 22:15:15", "last_active": "2024-12-03, 22:15:15", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 22:15:15", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:15", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:15", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:15", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=244732168, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:15", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x0000015E2538B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 19, 15, 14, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='ru', username='Akumsk'), group_chat_created=False, message_id=3101, supergroup_chat_created=False, text='/knowledge_base'), update_id=881193995), <telegram.ext._callbackcontext.CallbackContext object at 0x0000015E4AA886E0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:15", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x0000015E4AEF2320>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:16", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:16", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:18", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 22:15:17", "last_active": "2024-12-03, 22:15:17", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 22:15:18", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:18", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:18", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:18", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=244732168, message='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:18", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_knowledge_base with args: (<handlers.BotHandlers object at 0x0000015E2538B9E0>, Update(callback_query=CallbackQuery(chat_instance='-7472414466751896971', data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='ru', username='Akumsk'), id='1051116660573418681', message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 19, 15, 15, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3102, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', text='\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'),), (InlineKeyboardButton(callback_data='set_knowledge:Indonesian Regulations', text='Indonesian Regulations'),... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:18", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_knowledge_base with result: <coroutine object BotHandlers.set_knowledge_base at 0x0000015E4A9ADE80>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:18", "name": "handlers", "levelname": "DEBUG", "message": "Set folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:18", "name": "handlers", "levelname": "DEBUG", "message": "Found 29 valid files in folder_path='E:\\knowledge_base\\russian_regulations' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:18", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_and_index_documents with args: (<llm_service.LLMService object at 0x0000015E4AA82630>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:18", "name": "llm_service", "levelname": "DEBUG", "message": "Starting load_and_index_documents for folder_path='E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:18", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_vector_store with args: (<llm_service.LLMService object at 0x0000015E4AA82630>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:18", "name": "llm_service", "levelname": "INFO", "message": "Loaded vector store from E:\\knowledge_base\\russian_regulations\\vector_store", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:18", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_vector_store with result: True", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:18", "name": "llm_service", "levelname": "INFO", "message": "Vector store loaded from existing files in 'E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:18", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_and_index_documents with result: (True, 'Vector store loaded from existing files.')", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:18", "name": "handlers", "levelname": "INFO", "message": "Knowledge base '\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b' set successfully for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:15:19", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:19", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 22:16:19", "last_active": "2024-12-03, 22:16:19", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 22:16:19", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:19", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:20", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:20", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=244732168, message='\u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u0434\u043b\u0438\u043d\u043d\u043e\u0439 1.5 \u043c\u0435\u0442\u0440\u0430'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:20", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x0000015E2538B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 19, 16, 18, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='ru', username='Akumsk'), group_chat_created=False, message_id=3104, supergroup_chat_created=False, text='\u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u0434\u043b\u0438\u043d\u043d\u043e\u0439 1.5 \u043c\u0435\u0442\u0440\u0430'), update_id=881193997), <telegram.ext._callbackcontext.CallbackContext object at 0x0000015E4AA886E0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:20", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x0000015E4B05BC40>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:20", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='44cbae9f-0b47-4b3a-9247-0de9343163a3' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:20", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='44cbae9f-0b47-4b3a-9247-0de9343163a3'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:20", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:20", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x0000015E4AA82630>, '\u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u0434\u043b\u0438\u043d\u043d\u043e\u0439 1.5 \u043c\u0435\u0442\u0440\u0430'), kwargs: {'chat_history': [HumanMessage(content='\u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u0434\u043b\u0438\u043d\u043d\u043e\u0439 1.5 \u043c\u0435\u0442\u0440\u0430', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u0412\u0441\u0435\u043c \u0434\u043e\u0431\u0440\u044b\u0439 \u0432\u0435\u0447\u0435\u0440! \u0415\u0441\u0442\u044c \u0445\u043e\u043b\u043e\u0434\u043d\u0430\u044f \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430. \u041d\u0430 \u043d\u0435\u0439 150\u043c\u043c \u043f\u0435\u043d\u043e\u043f\u043b\u0435\u043a\u0441 \u0438 60 \u0441\u0442\u044f\u0436\u043a\u0430. \u0422\u0430\u043a \u0436\u0435 \u043d\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0435 \u0441\u0442\u043e\u0438\u0442 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u044f\u044f \u043f\u0435\u0440\u0435\u0433\u043e\u0440\u043e\u0434\u043a\u0430. \u041f\u043e\u0434\u0435\u043b\u0438\u0442\u0435\u0441\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u043e\u0439 \u0443\u0437\u043b\u0430 \u0443 \u043a\u043e\u0433\u043e \u0435\u0441\u0442\u044c. \u0418\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442 \u043a\u0430\u043a \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u044e \u043c\u043e\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c.', additional_kwargs={}, response_metadata={}), AIMessage(content='\u0414\u043e\u0431\u0440\u044b\u0439 \u0432\u0435\u0447\u0435\u0440! \u0412 \u043e\u0431\u0449\u0435\u043c \u0441\u043b\u0443\u0447\u0430\u0435, \u043f\u0440\u0438 \u043c\u043e\u043d\u0442\u0430\u0436\u0435 \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u0438 \u043d\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0435 \u0441 \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u0435\u043b\u0435\u043c \u0438 \u0441\u0442\u044f\u0436\u043a\u043e\u0439, \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438:\\n\\n1. <b>\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u044f</b>: \u0423\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u043f\u043e\u0432\u0435\u0440\u0445\u043d\u043e\u0441\u0442\u044c \u043f\u0435\u043d\u043e\u043f\u043b\u0435\u043a\u0441\u0430 \u0440\u043e\u0432\u043d\u0430\u044f \u0438 \u0447\u0438\u0441\u0442\u0430\u044f \u043f\u0435\u0440\u0435\u0434 \u0443\u043a\u043b\u0430\u0434\u043a\u043e\u0439 \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u0438.\\n\\n2. <b>\u0423\u043a\u043b\u0430\u0434\u043a\u0430 \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0441\u043b\u043e\u044f</b>:\\n\u2022 \u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0438\u0442\u0435 \u0440\u0443\u043b\u043e\u043d\u044b \u043f\u0430\u0440\u043e\u0438\u0437\u043e\u043b\u044f\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430 \u043d\u0430 \u043f\u043e\u0432\u0435\u0440\u0445\u043d\u043e\u0441\u0442\u0438 \u0443\u0442\u0435\u043f\u043b\u0438\u0442\u0435\u043b\u044f.\\n\u2022 \u0423\u043a\u043b\u0430\u0434\u043a\u0443 \u0441\u043b\u0435\u0434\u0443... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:20", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015E4AF25B20>, 'json_data': {'input': [[4898, 16248, 34148, 6850, 34493, 67024, 36352, 21477, 7094, 58669, 9542, 7952, 23630, 13433, 220, 1135, 10693, 1049, 7952, 11320, 2156, 39988, 220, 16, 13, 20, 11562, 8341, 22911]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:20", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:21", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers([('date', 'Tue, 03 Dec 2024 19:16:21 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-allow-origin', '*'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-model', 'text-embedding-ada-002'), ('openai-organization', 'nuanu-wimbwa'), ('openai-processing-ms', '57'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '5000000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '4999970'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', 'req_c01db0d6bba1e0799728f521f040725b'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=I2WZvFdwZWGFqNWlGXqpfMht97tDOdy_1cl6S8FxSow-1733253381-1.0.1.1-eWadd5XOhtp9enlCkDZELk81R2QgA5iIRk8hEh... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:21", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_c01db0d6bba1e0799728f521f040725b", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:21", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:21", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015E492CACA0>, 'json_data': {'input': [[4898, 16248, 34148, 6850, 34493, 67024, 36352, 21477, 7094, 58669, 9542, 7952, 23630, 13433, 220, 1135, 10693, 1049, 7952, 11320, 2156, 39988, 220, 16, 13, 20, 11562, 8341, 22911]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:21", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:22", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:16:22 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '118', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999971', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_f54f1668424853dce8d251a35dc520b5', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5e400cdae9185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:22", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_f54f1668424853dce8d251a35dc520b5", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:22", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015E492CACA0>, 'json_data': {'input': [[1954, 33006, 20807, 34493, 67024, 13433, 13373, 18868, 5372, 3865, 720, 34604, 19188, 64134, 720, 2297, 56857, 18999, 720, 8164, 7753, 10298, 4655, 6148, 17165, 11, 720, 6578, 6578, 720, 39091, 94178, 92091, 34613, 12561, 7975, 8341, 11, 11562, 720, 20807, 17721, 56999, 44065, 18868, 79686, 720, 16604, 2156, 38521, 2233, 5372, 23446, 1532, 720, 6735, 79686, 720, 34604, 18437, 64322, 44858, 5524, 2156, 25698, 6856, 36497, 6850, 34493, 67024, 13433, 11, 7820, 17279, 1506, 720, 16, 11, 15, 720, 16, 11, 20, 720, 17, 11, 15, 720, 17, 11, 20, 720, 18, 11, 15, 720, 17, 78086, 112, 7, 1987, 78086, 112, 17361, 8, 720, 17, 11, 2970, 720, 17, 11, 1927, 720, 17, 11, 868, 720, 16, 11, 4161, 720, 16, 11, 5932, 720, 16, 11, 2287, 720, 27435, 39103, 12426, 1506, 11, 720, 6148, 7753, 40590, 6148, 48150, 720, 8164, 7753, 1529... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:22", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:23", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:16:22 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '147', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998367', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '19ms', 'x-request-id': 'req_d3164ff394a105282d448ec67dbc7126', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5e406e8389185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:23", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_d3164ff394a105282d448ec67dbc7126", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:23", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015E492CACA0>, 'json_data': {'input': [[19871, 17279, 220, 2031, 13, 9423, 966, 13, 679, 17, 720, 4364, 33006, 720, 100046, 90457, 67745, 1389, 220, 1758, 12, 1272, 2275, 94, 11, 20440, 20879, 49284, 17394, 40590, 90457, 67745, 21204, 1389, 868, 12, 508, 37386, 19871, 13, 720, 21, 13, 605, 13, 508, 220, 35889, 7486, 23297, 5372, 34613, 35875, 16742, 11562, 1506, 55523, 17165, 56449, 5372, 30889, 7975, 40251, 29893, 92457, 5173, 61613, 13337, 45093, 14257, 35592, 1532, 720, 6735, 4655, 13433, 57297, 14257, 8164, 65489, 16742, 12561, 15088, 80230, 17165, 11, 19175, 48835, 8341, 4929, 39479, 2233, 35667, 6856, 11, 91105, 3114, 35667, 6856, 13, 720, 35095, 7975, 14476, 69775, 6850, 7486, 23297, 5372, 39900, 35875, 61390, 11562, 1506, 55523, 17165, 56449, 14525, 34943, 13337, 48074, 20812, 6856, 18482, 14257, 68462, 61498, 39988, 720, 8164, 2233, 1482,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:23", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:24", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:16:23 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '143', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999150', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '10ms', 'x-request-id': 'req_afe1272310dc917f5ae4067c00994b6c', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5e40959139185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:24", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_afe1272310dc917f5ae4067c00994b6c", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:24", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015E492CACA0>, 'json_data': {'input': [[19871, 17279, 220, 2031, 13, 9423, 966, 13, 679, 17, 720, 8878, 33006, 8164, 1482, 68506, 1830, 38657, 13999, 46177, 18154, 5524, 15298, 71829, 6578, 13, 720, 22, 13, 20, 13, 23, 23227, 31203, 37405, 10298, 53671, 93129, 73181, 69556, 94975, 14257, 6735, 16742, 6148, 28089, 97747, 7820, 17721, 13433, 2297, 1506, 11, 6850, 23680, 50436, 61379, 720, 4898, 2233, 67124, 62776, 26539, 35111, 6856, 21923, 12426, 28089, 17165, 11, 20879, 2297, 38521, 20812, 50306, 14257, 26539, 35111, 6856, 6850, 23680, 2233, 35667, 6856, 11, 96034, 2233, 50436, 7094, 62491, 11, 5524, 10124, 9542, 63233, 720, 95570, 3114, 6856, 18154, 7952, 11320, 79862, 25756, 2233, 14332, 11, 11562, 18437, 14009, 44786, 5173, 90297, 5372, 7740, 72590, 2233, 64084, 2156, 62491, 13, 720, 22, 13, 20, 13, 24, 53677, 16248, 17766, 6148, 5372, 44065, 1... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:24", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:16:24 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '67', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999071', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '11ms', 'x-request-id': 'req_b8efd3d01a39962e99a8497d65df838e', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5e4107b269185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_b8efd3d01a39962e99a8497d65df838e", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015E492CACA0>, 'json_data': {'input': [[5925, 33006, 20976, 8164, 9239, 1506, 20440, 720, 8164, 7753, 10298, 4655, 6148, 17165, 720, 34604, 19188, 64134, 720, 2297, 56857, 18999, 720, 8164, 7753, 10298, 4655, 6148, 17165, 11, 11562, 6578, 720, 39091, 94178, 92091, 34613, 12561, 7975, 8341, 11, 11562, 720, 20807, 17721, 56999, 44065, 18868, 79686, 720, 34604, 18437, 64322, 44858, 5524, 2156, 25698, 6856, 36497, 6850, 34493, 67024, 13433, 11, 7820, 17279, 1506, 720, 16, 11, 15, 720, 16, 11, 20, 720, 17, 11, 15, 720, 17, 11, 20, 720, 18, 11, 15, 720, 8164, 7753, 15298, 39103, 23311, 1532, 7740, 11047, 31203, 720, 68506, 1830, 38657, 1506, 2355, 17, 78086, 112, 7, 1987, 78086, 112, 6860, 8, 720, 16, 11, 2790, 720, 16, 11, 2137, 720, 16, 11, 1644, 720, 16, 11, 1591, 720, 16, 11, 1419, 720, 17, 78086, 112, 7, 1987, 78086, 112, 10336, 8, 720, 16, 11, 249... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:25", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:26", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:16:25 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '136', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998530', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '17ms', 'x-request-id': 'req_f51b5db09ead453b098ba2d16f879812', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5e4175e6c9185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:26", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_f51b5db09ead453b098ba2d16f879812", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:26", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-03, 22:16:26. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retrieved context to answer the question.\\n\\n90 \\n \\n\u041d\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u0430 \u0441\u0442\u0435\u043d\u0443 \\n\u0420\u0430\u0437\u043c\u0435\u0440 \\n\u0441\u0435\u0447\u0435\u043d\u0438\u044f \\n\u043f\u0435\u0440\u0435\u043c\u044b\u0447\u043a\u0438, \\n\u043c\u043c \\n\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u0440\u043e\u043b\u0435\u0442, \u043c \\n\u041d\u0430\u0440\u0443\u0436\u043d\u044b\u0435 \u0441\u0442\u0435\u043d\u044b \\n\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0435 \\n\u0441\u0442\u0435\u043d\u044b \\n\u0420\u0430\u0441\u0447\u0435\u0442\u043d\u0430\u044f \u0441\u043d\u0435\u0433\u043e\u0432\u0430\u044f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0430, \u043a\u041f\u0430 \\n1,0 \\n1,5 \\n2,0 \\n2,5 \\n3,0 \\n2\\uf0b4(38\\uf0b4286) \\n... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:26", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:32", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers([('date', 'Tue, 03 Dec 2024 19:16:32 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'nuanu-wimbwa'), ('openai-processing-ms', '5430'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '800000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '792920'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '531ms'), ('x-request-id', 'req_33d6185ebd07767bf348cdf59452a096'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=U95peg3nV_SuT.HMKAEKSIgvk_VtPANK48u4iI5MK9k-1733253392-1.0.1.1-jJFDSK4atmrV80ptoBZfle3.YtuZyfWS0qPnI0aQtdxNfvN8b28Jdj6GMqpuRkS9GR.Bn3qpnXofPj66EA4uIA; path=/; expires=Tue, 03... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:32", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_33d6185ebd07767bf348cdf59452a096", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:32", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.8469455862463163, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:32", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:32", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:32", "name": "llm_service", "levelname": "ERROR", "message": "Error generating suggestions: unexpected '{' in field name", "exc_info": "Traceback (most recent call last):\n  File \"E:\\Python_Projects\\pdflyx\\llm_service.py\", line 288, in generate_suggestions\n    ).format(n=n)\n      ^^^^^^^^^^^\nValueError: unexpected '{' in field name", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:32", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u0427\u0442\u043e\u0431\u044b \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c, \u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 \u0441 \u0441\u0435\u0447\u0435\u043d\u0438\u0435\u043c 50\u0445200 \u043c\u043c \u0438 \u0434\u043b\u0438\u043d\u043e\u0439 1,5 \u043c\u0435\u0442\u0440\u0430, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \u043f\u043e\u0440\u043e\u0434\u0430 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u043a\u043b\u0430\u0441\u0441 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438, \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438 \u0438 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438. \u0412 \u043e\u0431\u0449\u0435\u043c \u0432\u0438\u0434\u0435, \u0434\u043b\u044f \u043e\u0446\u0435\u043d\u043a\u0438 \u043d\u0435\u0441\u0443\u0449\u0435\u0439 \u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u0438 \u0434\u043e\u0441\u043a\u0438 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u0440\u0430\u0441\u0447\u0435\u0442\u044b \u043f\u043e \u0438\u0437\u0433\u0438\u0431\u0443 \u0438 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u043d\u044b\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438, \u043f\u0440\u0435\u0434\u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0439 \u043f\u043e\u0440\u043e\u0434\u044b \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b.\\n\\n\u0414\u043b\u044f \u0445\u0432\u043e\u0439\u043d\u044b\u0445 \u043f\u043e\u0440\u043e\u0434, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \u0441\u043e\u0441\u043d\u0430 (\u0447\u0430\u0441\u0442\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0430\u044f \u0432 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0435), \u043e\u0440\u0438\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u043e\u0447\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c\u0438:\\n\\n1. <b>\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430 \u0438\u0437\u0433\u0438\u0431:</b>\\n\u2022 \u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u0440\u0430\u0441\u0447\u0435\u0442\u043d\u044b\u0435 \u0444\u043e\u0440\u043c\u0443\u043b\u044b \u0434\u043b\u044f \u0431\u0430\u043b\u043a\u0438 \u043d\u0430 \u0434\u0432\u0443\u0445 \u043e\u043f\u043e\u0440\u0430\u0445. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0440\u0430\u0432\u043d\u043e\u043c\u0435\u0440\u043d\u043e \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u0430\u044f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \\\\( q \\\\) \u043d\u0430 \u0431\u0430\u043b\u043a\u0443 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u043d\u0430 \u043f\u043e \u0444\u043e\u0440\u043c\u0443\u043b\u0435:\\n\\\\[\\nq = \\\\frac{8 \\\\cdot M_{max}}{L^2}\\n\\\\]\\n\u0433\u0434\u0435 \\\\( M_{max} \\\\) \u2013 \u043c\u043e\u043c\u0435\u043d\u0442 \u0441\u043e\u043f\u0440\u043e\u0442\u0438\u0432\u043b\u0435\u043d\u0438\u044f, \u0430 \\\\( L \\\\) \u2013 \u0434\u043b\u0438\u043d\u0430 \u043f\u0440\u043e\u043b\u0435\u0442\u0430.\\n\\n2. <b>\u0423\u0447\u0435\u0442 \u043f\u0440\u0435\u0434\u0435\u043b\u044c\u043d\u044b\u0445 \u043d\u0430\u043f\u0440\u044f\u0436\u0435\u043d\u0438\u0439:</b>\\n\u2022 \u0414\u043b\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \\\\( M_{max} \\\\) \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0437\u043d\u0430\u0442\u044c \u0434\u043e\u043f\u0443... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:32", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:32", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='44cbae9f-0b47-4b3a-9247-0de9343163a3'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:33", "name": "handlers", "levelname": "INFO", "message": "Sent response to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:16:33", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:35", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 22:19:34", "last_active": "2024-12-03, 22:19:34", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 22:19:35", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:35", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:35", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:35", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=244732168, message='\u041f\u0440\u043e\u0432\u0435\u0440\u044c \u043d\u0430 \u043f\u0440\u043e\u0433\u0438\u0431, \u0435\u0441\u043b\u0438 \u0434\u043e\u0441\u043a\u0430 \u0445\u0432\u043e\u0439\u043d\u044b\u0445 \u043f\u043e\u0440\u043e\u0434 \u0438 \u043d\u0430 \u043d\u0435\u0439 \u0441\u0442\u043e\u0438\u0442 \u0447\u0435\u043b\u043e\u0432\u0435\u043a \u0432\u0435\u0441\u043e\u043c 100\u043a\u0433 \u043f\u043e \u0441\u0435\u0440\u0435\u0434\u0438\u043d\u0435'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:35", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x0000015E2538B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 19, 19, 34, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3106, supergroup_chat_created=False, text='\u041f\u0440\u043e\u0432\u0435\u0440\u044c \u043d\u0430 \u043f\u0440\u043e\u0433\u0438\u0431, \u0435\u0441\u043b\u0438 \u0434\u043e\u0441\u043a\u0430 \u0445\u0432\u043e\u0439\u043d\u044b\u0445 \u043f\u043e\u0440\u043e\u0434 \u0438 \u043d\u0430 \u043d\u0435\u0439 \u0441\u0442\u043e\u0438\u0442 \u0447\u0435\u043b\u043e\u0432\u0435\u043a \u0432\u0435\u0441\u043e\u043c 100\u043a\u0433 \u043f\u043e \u0441\u0435\u0440\u0435\u0434\u0438\u043d\u0435'), update_id=881193998), <telegram.ext._callbackcontext.CallbackContext object at 0x0000015EAAFF8B40>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:35", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x0000015EA8AE18A0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:35", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='df81f0e1-99c4-48b8-b8f2-ec3bb3952a7e' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:35", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='df81f0e1-99c4-48b8-b8f2-ec3bb3952a7e'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:35", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:35", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x0000015E4AA82630>, '\u041f\u0440\u043e\u0432\u0435\u0440\u044c \u043d\u0430 \u043f\u0440\u043e\u0433\u0438\u0431, \u0435\u0441\u043b\u0438 \u0434\u043e\u0441\u043a\u0430 \u0445\u0432\u043e\u0439\u043d\u044b\u0445 \u043f\u043e\u0440\u043e\u0434 \u0438 \u043d\u0430 \u043d\u0435\u0439 \u0441\u0442\u043e\u0438\u0442 \u0447\u0435\u043b\u043e\u0432\u0435\u043a \u0432\u0435\u0441\u043e\u043c 100\u043a\u0433 \u043f\u043e \u0441\u0435\u0440\u0435\u0434\u0438\u043d\u0435'), kwargs: {'chat_history': [HumanMessage(content='\u041f\u0440\u043e\u0432\u0435\u0440\u044c \u043d\u0430 \u043f\u0440\u043e\u0433\u0438\u0431, \u0435\u0441\u043b\u0438 \u0434\u043e\u0441\u043a\u0430 \u0445\u0432\u043e\u0439\u043d\u044b\u0445 \u043f\u043e\u0440\u043e\u0434 \u0438 \u043d\u0430 \u043d\u0435\u0439 \u0441\u0442\u043e\u0438\u0442 \u0447\u0435\u043b\u043e\u0432\u0435\u043a \u0432\u0435\u0441\u043e\u043c 100\u043a\u0433 \u043f\u043e \u0441\u0435\u0440\u0435\u0434\u0438\u043d\u0435', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u0434\u043b\u0438\u043d\u043d\u043e\u0439 1.5 \u043c\u0435\u0442\u0440\u0430', additional_kwargs={}, response_metadata={}), AIMessage(content='\u0427\u0442\u043e\u0431\u044b \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c, \u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 \u0441 \u0441\u0435\u0447\u0435\u043d\u0438\u0435\u043c 50\u0445200 \u043c\u043c \u0438 \u0434\u043b\u0438\u043d\u043e\u0439 1,5 \u043c\u0435\u0442\u0440\u0430, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \u043f\u043e\u0440\u043e\u0434\u0430 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u043a\u043b\u0430\u0441\u0441 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438, \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438 \u0438 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438. \u0412 \u043e\u0431\u0449\u0435\u043c \u0432\u0438\u0434\u0435, \u0434\u043b\u044f \u043e\u0446\u0435\u043d\u043a\u0438 \u043d\u0435\u0441\u0443\u0449\u0435\u0439 \u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u0438 \u0434\u043e\u0441\u043a\u0438 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u0440\u0430\u0441\u0447\u0435\u0442\u044b \u043f\u043e \u0438\u0437\u0433\u0438\u0431\u0443 \u0438 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u043d\u044b\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438, \u043f\u0440\u0435\u0434\u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0439 \u043f\u043e\u0440\u043e\u0434\u044b \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b.\\n\\n\u0414\u043b\u044f \u0445\u0432\u043e\u0439\u043d\u044b\u0445 \u043f\u043e\u0440\u043e\u0434, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \u0441\u043e\u0441\u043d\u0430 (\u0447\u0430\u0441\u0442\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0430\u044f \u0432 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0435), ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:35", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015E4AF256C0>, 'json_data': {'input': [[17279, 70059, 4929, 13373, 12561, 14837, 1840, 10124, 11, 47353, 7952, 23630, 13433, 45658, 5591, 16742, 44786, 91146, 9706, 7740, 13373, 6850, 21708, 18868, 1482, 9542, 17756, 12394, 6856, 15298, 5927, 23297, 12507, 220, 1041, 4898, 15752, 18154, 66386, 13404, 19479, 1532]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:35", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:19:36 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '79', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999958', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_c0ec1d58917db0522df0d10258939f38', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5e8bb9c892df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_c0ec1d58917db0522df0d10258939f38", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:36", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015E492CAD40>, 'json_data': {'input': [[17279, 70059, 4929, 13373, 12561, 14837, 1840, 10124, 11, 47353, 7952, 23630, 13433, 45658, 5591, 16742, 44786, 91146, 9706, 7740, 13373, 6850, 21708, 18868, 1482, 9542, 17756, 12394, 6856, 15298, 5927, 23297, 12507, 220, 1041, 4898, 15752, 18154, 66386, 13404, 19479, 1532]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:36", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:19:36 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '64', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999958', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_016d26dcb94ca1ff4263efe86d3d44c4', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5e8c2dde22df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_016d26dcb94ca1ff4263efe86d3d44c4", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015E492CAD40>, 'json_data': {'input': [[19871, 17279, 220, 2031, 13, 9423, 966, 13, 679, 17, 720, 14087, 33006, 16, 25, 605, 8, 18154, 4329, 2297, 50807, 5524, 78876, 6735, 61390, 23446, 10298, 11562, 50436, 7094, 3865, 14257, 9136, 3114, 50807, 30392, 29256, 6856, 17165, 14391, 7975, 50506, 220, 15, 11, 20, 12561, 7975, 8341, 1506, 46177, 30392, 1482, 7058, 8164, 6856, 17165, 44946, 11047, 31203, 14257, 9136, 31443, 93129, 73181, 69556, 94975, 18154, 54261, 3865, 3114, 1532, 720, 4898, 2233, 198, 2156, 198, 8164, 2233, 198, 60474, 198, 34604, 198, 34604, 198, 78086, 111, 198, 12216, 320, 65014, 13, 1691, 8, 33006, 15752, 100046, 49520, 4898, 2233, 1389, 7820, 2233, 9542, 81301, 13433, 4329, 6850, 34493, 67024, 13433, 20440, 5524, 17394, 8131, 22885, 13373, 53419, 39988, 29619, 6856, 19479, 1532, 18034, 7753, 6578, 4655, 14257, 6148, 84350, 13433,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:37", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:19:38 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '140', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999058', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '11ms', 'x-request-id': 'req_80a65aeede2b37951027c51c167272d5', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5e8c83f742df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_80a65aeede2b37951027c51c167272d5", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015E492CAD40>, 'json_data': {'input': [[19871, 17279, 220, 2031, 13, 9423, 966, 13, 679, 17, 720, 13078, 33006, 65014, 13, 17, 13, 777, 72244, 5927, 18034, 7753, 69463, 10693, 14257, 9136, 12394, 12561, 16494, 4655, 4898, 39280, 64362, 10693, 2156, 47295, 18154, 4329, 2297, 1506, 7820, 46339, 9239, 2156, 72952, 78876, 4898, 23630, 3865, 720, 79862, 48835, 1532, 8341, 67425, 8131, 38438, 39988, 58317, 37277, 4898, 85864, 23934, 5173, 3114, 23630, 4898, 85864, 18034, 7753, 6578, 4655, 320, 68506, 39244, 4655, 64362, 10693, 2156, 47295, 18154, 4329, 2297, 1506, 720, 79862, 92175, 4655, 90877, 7486, 4655, 58317, 37277, 4898, 16494, 1840, 6850, 16248, 80230, 4898, 50807, 81842, 5524, 81842, 12507, 46177, 5524, 46339, 9239, 12648, 6578, 78876, 4898, 23630, 12507, 705, 59346, 720, 5591, 21599, 23311, 10693, 14257, 9136, 31443, 10693, 57297, 78876, 51745,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:38", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:39", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:19:39 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '41', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999848', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_343d4ffd033880681124610b565b8242', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5e8cf38902df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:39", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_343d4ffd033880681124610b565b8242", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:39", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015E492CAD40>, 'json_data': {'input': [[22, 13, 18, 13, 16, 23227, 31203, 69556, 53671, 14257, 6735, 16742, 6148, 28089, 85864, 18868, 5372, 15088, 78876, 64322, 77495, 21477, 2297, 13337, 3865, 720, 41036, 13404, 73181, 12561, 19479, 16494, 18482, 18154, 18600, 13810, 35297, 36352, 720, 20, 25, 2355, 33006, 33006, 720, 34604, 13810, 35297, 15088, 220, 20, 482, 49520, 18437, 64322, 44065, 100147, 4655, 18868, 5372, 15088, 11, 45916, 23297, 6856, 29619, 15088, 11, 18154, 4329, 2297, 44786, 26539, 35111, 6856, 5927, 12561, 15088, 8131, 44786, 11, 92175, 18226, 44786, 7740, 720, 15752, 2156, 38521, 63233, 41291, 19916, 1840, 14009, 10693, 2355, 8164, 47680, 34148, 21477, 2297, 13337, 3865, 18868, 5372, 17165, 482, 5927, 45916, 17721, 44786, 46088, 1506, 10693, 26, 33006, 2233, 18437, 6735, 61390, 23446, 1532, 11562, 50436, 7094, 3865, 14391, 11320, 1... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:39", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:40", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:19:39 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '113', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999600', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '4ms', 'x-request-id': 'req_a155c1afe1bd8941a2078d8ca77db91a', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5e8d539ab2df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:40", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_a155c1afe1bd8941a2078d8ca77db91a", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:40", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015E492CAD40>, 'json_data': {'input': [[19871, 17279, 220, 2031, 13, 9423, 966, 13, 679, 17, 720, 6550, 33006, 4898, 7975, 9706, 10589, 33742, 5927, 25756, 20346, 2156, 1830, 25, 40842, 7952, 77628, 1840, 10298, 5524, 14082, 20812, 5372, 39900, 5927, 23297, 1506, 320, 2297, 7952, 29256, 47680, 56008, 39988, 37405, 15752, 67024, 7058, 4898, 16742, 5524, 76401, 92506, 89052, 14391, 16331, 31443, 6735, 1506, 11, 7952, 12507, 4898, 81659, 6856, 7740, 92457, 6850, 67745, 26, 5524, 12561, 16494, 5372, 9882, 10298, 40842, 6578, 35667, 1506, 26, 5524, 53687, 17461, 7058, 9136, 6856, 14332, 10298, 11047, 38822, 2297, 13337, 2233, 29256, 39988, 18600, 64569, 51795, 17165, 7740, 7952, 2233, 6266, 7740, 5524, 76401, 92506, 89052, 5927, 1840, 10124, 2233, 29256, 14837, 20346, 17394, 8131, 12394, 21708, 13, 49526, 21, 13, 17, 13, 18, 13, 17, 35889, 1506, 28114,... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:40", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:41", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:19:40 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '95', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999035', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '11ms', 'x-request-id': 'req_ca973871354d75d5f6a116508ec0437e', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5e8d7ca562df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:41", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_ca973871354d75d5f6a116508ec0437e", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:41", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-03, 22:19:41. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retrieved context to answer the question.\\n\\n\u0421\u041f 70.13330.2012 \\n236 \\n \\n1:10) \u043f\u043e\u044f\u0441\u0430\u043c\u0438 \u0441 \u0440\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435\u043c \u043c\u0435\u0436\u0434\u0443 \u0443\u0437\u043b\u0430\u043c\u0438 \u0441\u0442\u0440\u043e\u043f\u043e\u0432\u043a\u0438 \u0431\u043e\u043b\u0435\u0435 0,5 \u043f\u0440\u043e\u043b\u0435\u0442\u0430 \u0438\u043b\u0438 \u0441\u0442\u0440\u043e-\\n\u043f\u043e\u0432\u043a\u0438 \u0437\u0430 \u0442\u0440\u0438 \u0443\u0437\u043b\u0430 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0442\u044c \u043f\u043e \u0444\u043e\u0440\u043c\u0443\u043b\u0435 \\n\u043a\u0440\\n\u043d\\n\u043f\u0440\\n\u03b3\\n\u0420\\n\u0420\\n\\uf0b3\\n                               ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:41", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:48", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:19:47 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '6694', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '794204', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '434ms', 'x-request-id': 'req_bc5101450029d17792732383865ffdf8', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5e8decb512df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:48", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_bc5101450029d17792732383865ffdf8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:48", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.8164784238564412, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:48", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:48", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:48", "name": "llm_service", "levelname": "ERROR", "message": "Error generating suggestions: 'F \\\\cdot L^3'", "exc_info": "Traceback (most recent call last):\n  File \"E:\\Python_Projects\\pdflyx\\llm_service.py\", line 288, in generate_suggestions\n    ).format(n=n)\n      ^^^^^^^^^^^\nKeyError: 'F \\\\cdot L^3'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:48", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u0427\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043f\u0440\u043e\u0433\u0438\u0431 \u0434\u043e\u0441\u043a\u0438 \u0445\u0432\u043e\u0439\u043d\u044b\u0445 \u043f\u043e\u0440\u043e\u0434 \u043f\u043e\u0434 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u043e\u0439 100 \u043a\u0433, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0444\u043e\u0440\u043c\u0443\u043b\u044b \u0434\u043b\u044f \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u043f\u0440\u043e\u0433\u0438\u0431\u0430 \u0431\u0430\u043b\u043a\u0438 \u043d\u0430 \u0434\u0432\u0443\u0445 \u043e\u043f\u043e\u0440\u0430\u0445 \u0441 \u0441\u043e\u0441\u0440\u0435\u0434\u043e\u0442\u043e\u0447\u0435\u043d\u043d\u043e\u0439 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u043e\u0439 \u0432 \u0446\u0435\u043d\u0442\u0440\u0435. \u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0444\u043e\u0440\u043c\u0443\u043b\u0430 \u0434\u043b\u044f \u043f\u0440\u043e\u0433\u0438\u0431\u0430 \\\\( \\\\delta \\\\) \u0432 \u044d\u0442\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c:\\n\\n\\\\[\\n\\\\delta = \\\\frac{F \\\\cdot L^3}{48 \\\\cdot E \\\\cdot I}\\n\\\\]\\n\\n\u0433\u0434\u0435:\\n\u2022 \\\\( F \\\\) \u2014 \u0441\u0438\u043b\u0430 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 (\u0432\u0435\u0441 \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430), \u041d\u044c\u044e\u0442\u043e\u043d\u043e\u0432 (100 \u043a\u0433 \u2248 980 \u041d),\\n\u2022 \\\\( L \\\\) \u2014 \u0434\u043b\u0438\u043d\u0430 \u043f\u0440\u043e\u043b\u0435\u0442\u0430 \u0434\u043e\u0441\u043a\u0438, \u043c\u0435\u0442\u0440\u044b,\\n\u2022 \\\\( E \\\\) \u2014 \u043c\u043e\u0434\u0443\u043b\u044c \u0443\u043f\u0440\u0443\u0433\u043e\u0441\u0442\u0438 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u041f\u0430 (\u0434\u043b\u044f \u0445\u0432\u043e\u0439\u043d\u044b\u0445 \u043f\u043e\u0440\u043e\u0434 \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u0438\u043d\u044f\u0442\u044c \u043f\u0440\u0438\u043c\u0435\u0440\u043d\u043e \\\\( 10 \\\\times 10^9 \\\\) \u041f\u0430),\\n\u2022 \\\\( I \\\\) \u2014 \u043c\u043e\u043c\u0435\u043d\u0442 \u0438\u043d\u0435\u0440\u0446\u0438\u0438 \u0441\u0435\u0447\u0435\u043d\u0438\u044f \u0434\u043e\u0441\u043a\u0438, \u043c\\\\(^4\\\\).\\n\\n\u0414\u043b\u044f \u0434\u043e\u0441\u043a\u0438 \u0441 \u0441\u0435\u0447\u0435\u043d\u0438\u0435\u043c 50 \u043c\u043c x 200 \u043c\u043c (0.05 \u043c x 0.2 \u043c), \u043c\u043e\u043c\u0435\u043d\u0442 \u0438\u043d\u0435\u0440\u0446\u0438\u0438 \\\\( I \\\\) \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a:\\n\\n\\\\[\\nI = \\\\frac{b \\\\cdot h^3}{12} = \\\\frac{0.05 \\\\cdot (0.2)^3}{12} = 3.33 \\\\times 10^{-5} \\\\, \\\\text{\u043c}^4\\n\\\\]\\n\\n\u0422\u0435\u043f\u0435\u0440\u044c \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0432 \u0444\u043e\u0440\u043c\u0443\u043b\u0443 \u0434\u043b\u044f \u043f\u0440\u043e\u0433\u0438\u0431\u0430:\\n\\n\\\\[\\n\\\\delta = \\\\frac{980 \\\\cdot (1.5)^3}{48 ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:48", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:48", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='df81f0e1-99c4-48b8-b8f2-ec3bb3952a7e'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:49", "name": "handlers", "levelname": "INFO", "message": "Sent response to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:19:49", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:41", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 22:21:41", "last_active": "2024-12-03, 22:21:41", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 22:21:41", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:41", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:41", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:41", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=244732168, message='\u041a\u0430\u043a\u0438\u0435 \u0442\u0438\u043f\u044b \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0435\u0441\u0442\u044c \u0432 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0435'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:41", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x0000015E2538B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 19, 21, 41, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3108, supergroup_chat_created=False, text='\u041a\u0430\u043a\u0438\u0435 \u0442\u0438\u043f\u044b \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0435\u0441\u0442\u044c \u0432 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0435'), update_id=881193999), <telegram.ext._callbackcontext.CallbackContext object at 0x0000015EAAFF94E0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:41", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x0000015E4AF08A90>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:41", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='f85b5e7e-c92a-4ed7-aba0-c2a1146b7842' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:42", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='f85b5e7e-c92a-4ed7-aba0-c2a1146b7842'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:42", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:42", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x0000015E4AA82630>, '\u041a\u0430\u043a\u0438\u0435 \u0442\u0438\u043f\u044b \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0435\u0441\u0442\u044c \u0432 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0435'), kwargs: {'chat_history': [HumanMessage(content='\u041a\u0430\u043a\u0438\u0435 \u0442\u0438\u043f\u044b \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0435\u0441\u0442\u044c \u0432 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0435', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u041f\u0440\u043e\u0432\u0435\u0440\u044c \u043d\u0430 \u043f\u0440\u043e\u0433\u0438\u0431, \u0435\u0441\u043b\u0438 \u0434\u043e\u0441\u043a\u0430 \u0445\u0432\u043e\u0439\u043d\u044b\u0445 \u043f\u043e\u0440\u043e\u0434 \u0438 \u043d\u0430 \u043d\u0435\u0439 \u0441\u0442\u043e\u0438\u0442 \u0447\u0435\u043b\u043e\u0432\u0435\u043a \u0432\u0435\u0441\u043e\u043c 100\u043a\u0433 \u043f\u043e \u0441\u0435\u0440\u0435\u0434\u0438\u043d\u0435', additional_kwargs={}, response_metadata={}), AIMessage(content='\u0427\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043f\u0440\u043e\u0433\u0438\u0431 \u0434\u043e\u0441\u043a\u0438 \u0445\u0432\u043e\u0439\u043d\u044b\u0445 \u043f\u043e\u0440\u043e\u0434 \u043f\u043e\u0434 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u043e\u0439 100 \u043a\u0433, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0444\u043e\u0440\u043c\u0443\u043b\u044b \u0434\u043b\u044f \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u043f\u0440\u043e\u0433\u0438\u0431\u0430 \u0431\u0430\u043b\u043a\u0438 \u043d\u0430 \u0434\u0432\u0443\u0445 \u043e\u043f\u043e\u0440\u0430\u0445 \u0441 \u0441\u043e\u0441\u0440\u0435\u0434\u043e\u0442\u043e\u0447\u0435\u043d\u043d\u043e\u0439 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u043e\u0439 \u0432 \u0446\u0435\u043d\u0442\u0440\u0435. \u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0444\u043e\u0440\u043c\u0443\u043b\u0430 \u0434\u043b\u044f \u043f\u0440\u043e\u0433\u0438\u0431\u0430 \\\\( \\\\delta \\\\) \u0432 \u044d\u0442\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c:\\n\\n\\\\[\\n\\\\delta = \\\\frac{F \\\\cdot L^3}{48 \\\\cdot E \\\\cdot I}\\n\\\\]\\n\\n\u0433\u0434\u0435:\\n\u2022 \\\\( F \\\\) \u2014 \u0441\u0438\u043b\u0430 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 (\u0432\u0435\u0441 \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430), \u041d\u044c\u044e\u0442\u043e\u043d\u043e\u0432 (100 \u043a\u0433 \u2248 980 \u041d),\\n\u2022 \\\\( L \\\\) \u2014 \u0434\u043b\u0438\u043d\u0430 \u043f\u0440\u043e\u043b\u0435\u0442\u0430 \u0434\u043e\u0441\u043a\u0438, \u043c\u0435\u0442\u0440\u044b,\\n\u2022 \\\\( E \\\\) \u2014 \u043c\u043e\u0434\u0443\u043b\u044c \u0443\u043f\u0440\u0443\u0433\u043e\u0441\u0442\u0438 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u041f\u0430 (\u0434\u043b\u044f \u0445\u0432\u043e\u0439\u043d\u044b\u0445 \u043f\u043e\u0440\u043e\u0434 \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u0438\u043d\u044f\u0442\u044c \u043f\u0440\u0438... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:42", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015E4AF259E0>, 'json_data': {'input': [[27435, 16248, 50306, 64933, 4655, 7952, 2233, 33742, 23297, 1840, 12648, 80265, 5927, 30392, 1482, 56008, 20812, 1532]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:42", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:42", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:21:41 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '67', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999981', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_1b337fd46ae947f143c18cd0e3ac3c34', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5ebd32ef7e77e-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:42", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_1b337fd46ae947f143c18cd0e3ac3c34", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:42", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:42", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015E492CAD40>, 'json_data': {'input': [[27435, 16248, 50306, 64933, 4655, 7952, 2233, 33742, 23297, 1840, 12648, 80265, 5927, 30392, 1482, 56008, 20812, 1532]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:42", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:42", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:21:42 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '74', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999981', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_01302261eb0b5cc37460d1a592da016d', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5ebd55989e77e-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:42", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_01302261eb0b5cc37460d1a592da016d", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:42", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015E492CAD40>, 'json_data': {'input': [[19871, 17279, 220, 19633, 13, 9413, 18216, 15, 13, 2366, 17, 33006, 843, 33006, 4898, 17766, 79370, 15458, 17766, 39988, 44946, 14476, 9542, 4655, 7952, 2233, 33742, 23297, 1840, 12648, 5927, 74020, 1532, 34943, 13337, 48074, 20812, 72119, 67745, 6850, 18226, 23297, 6856, 7740, 11, 5524, 720, 7094, 65489, 16742, 18868, 9239, 1482, 12648, 11, 5524, 76401, 92506, 89052, 11562, 7753, 18154, 25756, 7753, 6578, 8341, 41873, 54686, 11562, 37277, 41291, 31101, 1506, 14391, 16331, 15088, 20440, 720, 8164, 44075, 13337, 5591, 52866, 18999, 12561, 17766, 38822, 47805, 18999, 5927, 3114, 34493, 1840, 13, 23784, 94136, 10124, 12507, 90226, 1506, 1532, 19175, 2297, 43293, 50306, 14391, 16331, 17165, 720, 7094, 48181, 12648, 62731, 20879, 59030, 79686, 20879, 5173, 15088, 39103, 23311, 4329, 44946, 14476, 9542, 12648, 657... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:42", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:43", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:21:42 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '144', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998801', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '14ms', 'x-request-id': 'req_846e54232f497386d727ec40f9134fd7', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5ebd7cc48e77e-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:43", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_846e54232f497386d727ec40f9134fd7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:43", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015E492CAD40>, 'json_data': {'input': [[19871, 17279, 220, 1227, 13, 9423, 966, 13, 679, 22, 198, 17279, 31203, 82941, 17618, 64571, 198, 25079, 29256, 47680, 56008, 44065, 86995, 50693, 6856, 39280, 7820, 7820, 50223, 35034, 3865, 7952, 2233, 33742, 23297, 1840, 12648, 198, 61432, 13, 16, 36479, 7952, 2233, 33742, 23297, 19479, 1532, 39233, 26503, 2156, 9706, 7753, 33742, 4329, 2156, 44786, 46088, 6856, 7740, 35875, 61390, 6578, 48446, 1532, 5372, 63233, 38098, 79370, 15458, 12415, 7820, 2233, 12507, 1532, 720, 1830, 2233, 50693, 6856, 14332, 12415, 61565, 20976, 19871, 35095, 220, 24951, 21, 13373, 5173, 64292, 12507, 8131, 7753, 1840, 16331, 4655, 45658, 5591, 16742, 44786, 91146, 9706, 7740, 61565, 20976, 19871, 35095, 220, 26491, 18, 13373, 7820, 65489, 3114, 51736, 720, 3114, 23297, 12507, 8131, 7753, 1840, 16331, 4655, 93129, 73181, 57925, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:43", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:21:43 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '322', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999577', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '5ms', 'x-request-id': 'req_a7ea85d14fcf469d04d4b0a0a023f387', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5ebda3f50e77e-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_a7ea85d14fcf469d04d4b0a0a023f387", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015E492CAD40>, 'json_data': {'input': [[19871, 17279, 220, 19633, 13, 9413, 18216, 15, 13, 2366, 17, 33006, 17, 33006, 38214, 20976, 19871, 35095, 220, 11584, 15, 4235, 5932, 23784, 48262, 16494, 51736, 91146, 15088, 1840, 7952, 2233, 33742, 23297, 1840, 12648, 13, 36479, 3114, 29500, 62809, 75281, 71829, 11, 11047, 7753, 64880, 12648, 720, 1840, 46339, 92582, 18999, 11, 84714, 23630, 51973, 23934, 64134, 18999, 720, 38214, 20976, 19871, 35095, 220, 24951, 21, 4235, 4218, 23227, 64292, 12507, 8131, 7753, 1840, 16331, 4655, 45658, 5591, 16742, 44786, 91146, 9706, 13, 51418, 98285, 23446, 6148, 23297, 17165, 1532, 97991, 6856, 40231, 720, 38214, 20976, 19871, 35095, 220, 25806, 15, 4235, 679, 21, 35448, 2297, 47805, 44065, 34943, 13404, 19479, 18999, 7952, 8341, 16331, 21708, 23934, 7952, 2233, 33742, 23297, 1840, 12648, 7740, 720, 63873, 33742, 232... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:21:43 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '89', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999249', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '9ms', 'x-request-id': 'req_39849548d8c9d8cdf52dc43d928be553', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5ebde2b5be77e-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_39849548d8c9d8cdf52dc43d928be553", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015E492CAD40>, 'json_data': {'input': [[20, 33006, 19, 13, 18, 80798, 14476, 50306, 86995, 50693, 6856, 39280, 7820, 90795, 3865, 10298, 4655, 6578, 96573, 7753, 1840, 16331, 24697, 720, 19, 13, 18, 13, 16, 35889, 23297, 43293, 50306, 38098, 79370, 57186, 320, 68506, 39244, 4655, 7820, 17721, 13433, 2297, 1506, 8, 7952, 12507, 6856, 98599, 39988, 93099, 4655, 720, 41873, 15752, 13337, 6856, 14009, 70129, 21204, 23934, 5173, 64292, 12507, 8131, 7753, 1840, 16331, 6856, 45658, 5591, 16742, 44786, 91146, 9706, 11, 21477, 2297, 3865, 12426, 5372, 44786, 7740, 44946, 14476, 1840, 14476, 5372, 44786, 20879, 720, 3865, 5591, 3114, 38657, 2156, 18999, 5927, 41291, 10589, 94520, 1532, 45658, 35682, 18999, 13, 720, 19, 13, 18, 13, 17, 39903, 7753, 33742, 4329, 2156, 44065, 46088, 4655, 38098, 79370, 15458, 12415, 11, 20879, 6578, 8341, 13433, 6850, 41873, 1... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:44", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:45", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:21:44 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '223', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998468', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '18ms', 'x-request-id': 'req_44772a2639fcdb5296ad495e35d2542b', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5ebe1ce95e77e-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:45", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_44772a2639fcdb5296ad495e35d2542b", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:45", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-03, 22:21:45. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retrieved context to answer the question.\\n\\n\u0421\u041f 515.1325800.2022 \\n \\n32 \\n \\n\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u043e\u043d\u043d\u043e\u0439 \u0437\u0430\u0449\u0438\u0442\u044b \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0432 \u0432\u0438\u0434\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u043d\u0430\u0432\u0435\u0441\u043e\u0432 \u0438, \u0441 \\n\u0434\u0440\u0443\u0433\u043e\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u044b, \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043c\u0435\u0440 \u043f\u043e \u0433\u0435\u0440\u043c\u0435\u0442\u0438\u0437\u0430\u0446\u0438\u0438 \u043c\u0435\u0441\u0442 \u043f\u0440\u043e\u0445\u043e\u0434\u0430 \u0431\u0430\u043b\u043e\u043a \u0434\u043b\u044f \\n\u043f\u0440\u0435\u0434\u043e\u0442\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u043d\u0438\u043a\u043d\u043e\u0432\u0435\u043d\u0438\u044f \u0432\u043b\u0430\u0433\u0438. \u0412 \u043b\u044e\u0431... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:45", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:21:50 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '4552', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '793094', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '517ms', 'x-request-id': 'req_6a21c1f9b3d50e78b10c18b673d1fd4f', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5ebe53a25b5ce-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_6a21c1f9b3d50e78b10c18b673d1fd4f", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:50", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.8312062477104976, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:50", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:50", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:51", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"Given the following user prompt and LLM response, determine if additional information is needed to help the user fulfill their request and continue the conversation effectively. If yes, provide up to 3 additional prompts based on key concepts in the response, such as 'learn more about ...', 'how to determine ...', 'how to calculate ...', etc., that the user can use to gather more information. If no additional prompts are needed, respond with 'No suggestions needed'.\\n\\nUser Prompt: \u041a\u0430\u043a\u0438\u0435 \u0442\u0438\u043f\u044b \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0435\u0441\u0442\u044c \u0432 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0435\\n\\nLLM Response: \u0412 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0442\u0438\u043f\u043e\u0432 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0438 \u0432\u044b\u0431\u043e\u0440 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u0438\u0445 \u0444\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0438 \u043c\u0435\u0445\u0430\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0441\u0432\u043e\u0439\u0441\u0442\u0432, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043e\u0442 \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f. \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0442\u0438\u043f\u044b \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0435 \u0432 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0435, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0442:\\n\\n1. **\u0425\u0432\u043e\u0439\u043d\u044b\u0435 \u043f\u043e\u0440\u043e\u0434\u044b**:\\n   - **\u0421\u043e\u0441\u043d\u0430**: \u0448\u0438\u0440\u043e\u043a\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0431\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f \u0441\u0432\u043e\u0435\u0439 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u0438 \u0438 \u0445\u043e\u0440\u043e\u0448\u0438\u043c \u043c\u0435\u0445\u0430\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u043c \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430\u043c.... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:51", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:21:53 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '2267', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799305', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '52ms', 'x-request-id': 'req_84075c44fa1d40f16a218f08b258e2d3', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5ec0a8d5bb5ce-CGK', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_84075c44fa1d40f16a218f08b258e2d3", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:53", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0444\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0438 \u043c\u0435\u0445\u0430\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430\u0445 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u043f\u043e\u0440\u043e\u0434 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0447\u0442\u043e\u0431\u044b \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043e\u0431\u043e\u0441\u043d\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0432\u044b\u0431\u043e\u0440 \u0434\u043b\u044f \u0432\u0430\u0448\u0435\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430.', '\u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c, \u043a\u0430\u043a\u0430\u044f \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u0430 \u043b\u0443\u0447\u0448\u0435 \u0432\u0441\u0435\u0433\u043e \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u0434\u043b\u044f \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043d\u0443\u0436\u0434, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \u0443\u0441\u0442\u043e\u0439\u0447\u0438\u0432\u043e\u0441\u0442\u044c \u043a \u0432\u043b\u0430\u0433\u0435 \u0438\u043b\u0438 \u043c\u0435\u0445\u0430\u043d\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u044c?', '\u041a\u0430\u043a \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0432 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435 \u0438 \u043a\u0430\u043a \u044d\u0442\u043e \u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u043e\u0431\u0449\u0438\u0439 \u0431\u044e\u0434\u0436\u0435\u0442?']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:53", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u0412 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0442\u0438\u043f\u043e\u0432 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0438 \u0432\u044b\u0431\u043e\u0440 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u0438\u0445 \u0444\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0438 \u043c\u0435\u0445\u0430\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0441\u0432\u043e\u0439\u0441\u0442\u0432, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043e\u0442 \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f. \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0442\u0438\u043f\u044b \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0435 \u0432 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0435, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0442:\\n\\n1. <b>\u0425\u0432\u043e\u0439\u043d\u044b\u0435 \u043f\u043e\u0440\u043e\u0434\u044b</b>:\\n\u2022 <b>\u0421\u043e\u0441\u043d\u0430</b>: \u0448\u0438\u0440\u043e\u043a\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0431\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f \u0441\u0432\u043e\u0435\u0439 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u0438 \u0438 \u0445\u043e\u0440\u043e\u0448\u0438\u043c \u043c\u0435\u0445\u0430\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u043c \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430\u043c.\\n\u2022 <b>\u0415\u043b\u044c</b>: \u043b\u0435\u0433\u043a\u0430\u044f \u0438 \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u043e\u0447\u043d\u0430\u044f, \u0447\u0430\u0441\u0442\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u043a\u0430\u0440\u043a\u0430\u0441\u043d\u043e\u0433\u043e \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430.\\n\u2022 <b>\u041b\u0438\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u0446\u0430</b>: \u0443\u0441\u0442\u043e\u0439\u0447\u0438\u0432\u0430 \u043a \u0433\u043d\u0438\u0435\u043d\u0438\u044e \u0438 \u0432\u043e\u0437\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044e \u0432\u043b\u0430\u0433\u0438, \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u043d\u0430\u0440\u0443\u0436\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442.\\n\\n2. <b>\u041b\u0438\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043f\u043e\u0440\u043e\u0434\u044b</b>:\\n\u2022 <b>\u0414\u0443\u0431</b>: \u0438\u0437\u0432\u0435\u0441\u0442\u0435\u043d \u0441\u0432\u043e\u0435\u0439 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u044c\u044e \u0438 \u0442\u0432\u0435\u0440\u0434\u043e\u0441\u0442\u044c\u044e, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0439, \u0442\u0440\u0435\u0431\u0443\u044e\u0449\u0438\u0445 \u0432\u044b\u0441\u043e\u043a\u043e\u0439 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438.\\n\u2022 <b>\u0411\u0435\u0440\u0435\u0437\u0430</b>: \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u0432 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u043c \u0434\u043b\u044f \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0439 \u043e\u0442\u0434\u0435\u043b\u043a\u0438 \u0438 \u043c\u0435\u0431\u0435\u043b\u0438.\\n\u2022 <b>\u0411\u0443\u043a</b>: \u043f\u0440\u043e\u0447\u043d\u0430\u044f \u0438 \u0442\u0432\u0435\u0440\u0434\u0430\u044f \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u0430, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0430\u044f \u0434\u043b\u044f \u043d\u0430\u043f\u043e\u043b\u044c\u043d\u044b\u0445 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0439 \u0438 \u043c\u0435\u0431\u0435\u043b\u0438.\\n\\n3. <b>\u042d\u043a\u0437\u043e\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043f\u043e\u0440\u043e\u0434\u044b</b>:\\n\u2022 \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u0440\u0435\u0436\u0435 \u0438\u0437-\u0437\u0430 \u0438\u0445 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438, \u043d\u043e \u043e\u0431\u043b\u0430\u0434\u0430\u044e\u0442 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430\u043c\u0438, \u0442... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:53", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:53", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='f85b5e7e-c92a-4ed7-aba0-c2a1146b7842'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:53", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:54", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:21:54", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:46", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 244732168, "user_name": "Andrey", "language_code": "en", "current_language": "English", "date_joined": "2024-12-03, 22:25:46", "last_active": "2024-12-03, 22:25:46", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 22:25:46", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:46", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:47", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=244732168: English", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:47", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=244732168, message='\u0418\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0433 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u0434\u043b\u0438\u043d\u043e\u0439 1.5 \u043c, \u0445\u0432\u043e\u0439\u043d\u043e\u0439 \u043f\u043e\u0440\u043e\u0434\u044b'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:47", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x0000015E2538B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Andrey', id=244732168, type=<ChatType.PRIVATE>, username='Akumsk'), date=datetime.datetime(2024, 12, 3, 19, 25, 45, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Andrey', id=244732168, is_bot=False, is_premium=True, language_code='en', username='Akumsk'), group_chat_created=False, message_id=3110, supergroup_chat_created=False, text='\u0418\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0433 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u0434\u043b\u0438\u043d\u043e\u0439 1.5 \u043c, \u0445\u0432\u043e\u0439\u043d\u043e\u0439 \u043f\u043e\u0440\u043e\u0434\u044b'), update_id=881194000), <telegram.ext._callbackcontext.CallbackContext object at 0x0000015E4AA88FA0>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:47", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x0000015E4B01DB70>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:47", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='db1195fb-df93-4069-8c79-66dfb1b90682' for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:47", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='db1195fb-df93-4069-8c79-66dfb1b90682'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:47", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:47", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x0000015E4AA82630>, '\u0418\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0433 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u0434\u043b\u0438\u043d\u043e\u0439 1.5 \u043c, \u0445\u0432\u043e\u0439\u043d\u043e\u0439 \u043f\u043e\u0440\u043e\u0434\u044b'), kwargs: {'chat_history': [HumanMessage(content='\u0418\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0433 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u0434\u043b\u0438\u043d\u043e\u0439 1.5 \u043c, \u0445\u0432\u043e\u0439\u043d\u043e\u0439 \u043f\u043e\u0440\u043e\u0434\u044b', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u041a\u0430\u043a\u0438\u0435 \u0442\u0438\u043f\u044b \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0435\u0441\u0442\u044c \u0432 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0435', additional_kwargs={}, response_metadata={}), AIMessage(content='\u0412 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0442\u0438\u043f\u043e\u0432 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0438 \u0432\u044b\u0431\u043e\u0440 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u0438\u0445 \u0444\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0438 \u043c\u0435\u0445\u0430\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0441\u0432\u043e\u0439\u0441\u0442\u0432, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043e\u0442 \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f. \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0442\u0438\u043f\u044b \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0435 \u0432 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0435, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0442:\\n\\n1. <b>\u0425\u0432\u043e\u0439\u043d\u044b\u0435 \u043f\u043e\u0440\u043e\u0434\u044b</b>:\\n\u2022 <b>\u0421\u043e\u0441\u043d\u0430</b>: \u0448\u0438\u0440\u043e\u043a\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0431\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f \u0441\u0432\u043e\u0435\u0439 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u0438 \u0438 \u0445\u043e\u0440\u043e\u0448\u0438\u043c \u043c\u0435\u0445\u0430\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u043c \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430\u043c.\\n\u2022 <b>\u0415\u043b\u044c</b>: \u043b\u0435\u0433\u043a\u0430\u044f \u0438 \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u043e\u0447\u043d\u0430\u044f, \u0447\u0430\u0441\u0442\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u043a\u0430\u0440\u043a\u0430\u0441\u043d\u043e\u0433\u043e \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430.\\n\u2022 <b>\u041b\u0438\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u0446\u0430</b>: \u0443\u0441\u0442\u043e\u0439\u0447\u0438\u0432\u0430 \u043a \u0433\u043d\u0438\u0435\u043d\u0438\u044e \u0438 \u0432\u043e\u0437\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044e \u0432\u043b\u0430\u0433\u0438, \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u043d\u0430\u0440\u0443\u0436\u043d\u044b\u0445 ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:47", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015E4AAD2020>, 'json_data': {'input': [[31274, 2156, 58060, 23297, 73181, 69471, 54570, 7820, 15752, 21477, 7094, 58669, 9542, 7952, 23630, 13433, 220, 1135, 10693, 1049, 7952, 11320, 39988, 220, 16, 13, 20, 11562, 11, 45658, 5591, 16742, 39988, 91146, 9706, 4655]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:47", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:48", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:25:47 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '43', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999964', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_b19530de794cd50fbf84cbb95b7fd1eb', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5f1cf58aa9185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:48", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_b19530de794cd50fbf84cbb95b7fd1eb", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:48", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:48", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015E492AA520>, 'json_data': {'input': [[31274, 2156, 58060, 23297, 73181, 69471, 54570, 7820, 15752, 21477, 7094, 58669, 9542, 7952, 23630, 13433, 220, 1135, 10693, 1049, 7952, 11320, 39988, 220, 16, 13, 20, 11562, 11, 45658, 5591, 16742, 39988, 91146, 9706, 4655]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:48", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:25:48 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '72', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999963', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_6d3772527ba272bdf5099eb996bd65f4', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5f1d54a759185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_6d3772527ba272bdf5099eb996bd65f4", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015E492AA520>, 'json_data': {'input': [[3076, 33006, 16604, 48262, 13373, 20346, 17394, 39988, 21923, 67222, 6856, 17165, 46177, 720, 13337, 59030, 17165, 720, 39091, 19479, 92091, 44858, 720, 7094, 11320, 14525, 25756, 5591, 35387, 4329, 46177, 720, 66144, 51973, 11, 11562, 6578, 720, 39091, 19479, 92091, 48150, 720, 4898, 99714, 720, 15752, 5591, 35387, 21708, 46177, 69471, 14082, 11, 720, 12426, 1830, 13, 720, 39091, 94178, 92091, 48150, 720, 2233, 18437, 6735, 61390, 23446, 1532, 11562, 50436, 7094, 3865, 720, 15752, 5591, 35387, 4329, 64880, 46177, 720, 66144, 14082, 4898, 50807, 11, 11562, 6578, 720, 74339, 67222, 6856, 13433, 5173, 64292, 12507, 8131, 7753, 1840, 16331, 50807, 720, 1840, 11320, 5173, 3114, 9542, 12648, 64880, 96573, 7753, 1840, 16331, 50807, 720, 14525, 81376, 47805, 1532, 7952, 2233, 33742, 23297, 1840, 12648, 720, 1135, 7... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:25:49 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '84', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998763', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '14ms', 'x-request-id': 'req_0af1b73230d4a4d271fa9843b9b145d7', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5f1db2c389185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_0af1b73230d4a4d271fa9843b9b145d7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015E492AA520>, 'json_data': {'input': [[1954, 33006, 20807, 34493, 67024, 13433, 13373, 18868, 5372, 3865, 720, 34604, 19188, 64134, 720, 2297, 56857, 18999, 720, 8164, 7753, 10298, 4655, 6148, 17165, 11, 720, 6578, 6578, 720, 39091, 94178, 92091, 34613, 12561, 7975, 8341, 11, 11562, 720, 20807, 17721, 56999, 44065, 18868, 79686, 720, 16604, 2156, 38521, 2233, 5372, 23446, 1532, 720, 6735, 79686, 720, 34604, 18437, 64322, 44858, 5524, 2156, 25698, 6856, 36497, 6850, 34493, 67024, 13433, 11, 7820, 17279, 1506, 720, 16, 11, 15, 720, 16, 11, 20, 720, 17, 11, 15, 720, 17, 11, 20, 720, 18, 11, 15, 720, 17, 78086, 112, 7, 1987, 78086, 112, 17361, 8, 720, 17, 11, 2970, 720, 17, 11, 1927, 720, 17, 11, 868, 720, 16, 11, 4161, 720, 16, 11, 5932, 720, 16, 11, 2287, 720, 27435, 39103, 12426, 1506, 11, 720, 6148, 7753, 40590, 6148, 48150, 720, 8164, 7753, 1529... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:25:49 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '78', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998367', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '19ms', 'x-request-id': 'req_08a7d3519dcfe951f2ad4f2528ace89b', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5f1e0de669185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_08a7d3519dcfe951f2ad4f2528ace89b", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015E492AA520>, 'json_data': {'input': [[20976, 8164, 9239, 4655, 23934, 18868, 5591, 9239, 1506, 26539, 19479, 47273, 37405, 7952, 11320, 79862, 12561, 7975, 8341, 1506, 11, 11562, 25, 2355, 33006, 7094, 1482, 220, 1049, 720, 1041, 11562, 6578, 720, 1041, 11562, 6578, 720, 2297, 5591, 13, 220, 1049, 720, 1049, 11562, 6578, 720, 1049, 11562, 6578, 720, 35095, 28086, 7753, 57319, 20879, 25756, 9239, 41873, 97341, 39127, 39988, 81376, 1840, 720, 16, 14, 1135, 7952, 11320, 12648, 720, 1830, 28086, 7753, 57319, 720, 16, 14, 1041, 7952, 11320, 12648, 11047, 28086, 7753, 57319, 720, 35095, 28086, 7753, 57319, 20879, 13999, 2297, 56008, 13999, 26539, 19479, 47273, 11, 28114, 8164, 5372, 7094, 1840, 36352, 14009, 2233, 39988, 81376, 1840, 23784, 65014, 320, 7094, 14009, 720, 95570, 3114, 6856, 16742, 46339, 9239, 4655, 20879, 13999, 2297, 56008, 13999, 143... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:51", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:25:50 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '96', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999275', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '8ms', 'x-request-id': 'req_e860bfec85cb2a8c334e410d118af0d5', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5f1e35efd9185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:51", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_e860bfec85cb2a8c334e410d118af0d5", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:51", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015E492AA520>, 'json_data': {'input': [[5925, 33006, 20976, 8164, 9239, 1506, 20440, 720, 8164, 7753, 10298, 4655, 6148, 17165, 720, 34604, 19188, 64134, 720, 2297, 56857, 18999, 720, 8164, 7753, 10298, 4655, 6148, 17165, 11, 11562, 6578, 720, 39091, 94178, 92091, 34613, 12561, 7975, 8341, 11, 11562, 720, 20807, 17721, 56999, 44065, 18868, 79686, 720, 34604, 18437, 64322, 44858, 5524, 2156, 25698, 6856, 36497, 6850, 34493, 67024, 13433, 11, 7820, 17279, 1506, 720, 16, 11, 15, 720, 16, 11, 20, 720, 17, 11, 15, 720, 17, 11, 20, 720, 18, 11, 15, 720, 8164, 7753, 15298, 39103, 23311, 1532, 7740, 11047, 31203, 720, 68506, 1830, 38657, 1506, 2355, 17, 78086, 112, 7, 1987, 78086, 112, 6860, 8, 720, 16, 11, 2790, 720, 16, 11, 2137, 720, 16, 11, 1644, 720, 16, 11, 1591, 720, 16, 11, 1419, 720, 17, 78086, 112, 7, 1987, 78086, 112, 10336, 8, 720, 16, 11, 249... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:51", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:51", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:25:50 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '166', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998529', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '17ms', 'x-request-id': 'req_d2409cdbd84c5e1341484644af608052', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5f1e5ef869185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:51", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_d2409cdbd84c5e1341484644af608052", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:51", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-03, 22:25:51. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retrieved context to answer the question.\\n\\n69 \\n \\n\u0412\u0438\u0434 \u043d\u0430\u0440\u0443\u0436\u043d\u043e\u0439 \u043e\u0431\u043b\u0438\u0446\u043e\u0432\u043a\u0438 \u0438\u043b\u0438 \\n\u043e\u0442\u0434\u0435\u043b\u043a\u0438 \\n\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \\n\u0434\u043b\u0438\u043d\u0430 \u0433\u0432\u043e\u0437\u0434\u044f \u0438\u043b\u0438 \\n\u0441\u043a\u043e\u0431\u044b, \u043c\u043c \\n\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \\n\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \\n\u0433\u0432\u043e\u0437\u0434\u0435\u0439 \u0438\u043b\u0438 \u0441\u043a\u043e\u0431, \\n\u0448\u0442. \\n\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \\n\u0440\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043c\u0435\u0436\u0434\u0443 \\n\u0433\u0432\u043e\u0437\u0434\u044f\u043c\u0438 \u0438\u043b\u0438 \\n\u0441\u043a\u043e\u0431\u043a\u0430\u043c\u0438, \u043c\u043c \\n\u041e\u0431\u043b\u0438\u0446\u043e\u0432... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:51", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:25:59 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '7167', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '793297', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '502ms', 'x-request-id': 'req_2040b396c9878792e81140fa6bcc541b', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5f1e8ab7b2df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_2040b396c9878792e81140fa6bcc541b", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:59", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.8508901122366077, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:59", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:59", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:59", "name": "llm_service", "levelname": "ERROR", "message": "Error generating suggestions: 'b \\\\cdot h^2'", "exc_info": "Traceback (most recent call last):\n  File \"E:\\Python_Projects\\pdflyx\\llm_service.py\", line 288, in generate_suggestions\n    ).format(n=n)\n      ^^^^^^^^^^^\nKeyError: 'b \\\\cdot h^2'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:59", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u0427\u0442\u043e\u0431\u044b \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c, \u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 \u0441\u0435\u0447\u0435\u043d\u0438\u0435\u043c 50\u0445200 \u043c\u043c \u0438 \u0434\u043b\u0438\u043d\u043e\u0439 1,5 \u043c\u0435\u0442\u0440\u0430, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u0440\u0430\u0441\u0447\u0435\u0442 \u043d\u0430 \u0438\u0437\u0433\u0438\u0431. \u041f\u0440\u0435\u0434\u043f\u043e\u043b\u043e\u0436\u0438\u043c, \u0447\u0442\u043e \u0434\u043e\u0441\u043a\u0430 \u043e\u043f\u0435\u0440\u0442\u0430 \u043d\u0430 \u043a\u043e\u043d\u0446\u0430\u0445 \u0438 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0432 \u0441\u0435\u0440\u0435\u0434\u0438\u043d\u0435.\\n\\n1. <b>\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043c\u043e\u043c\u0435\u043d\u0442\u0430 \u0441\u043e\u043f\u0440\u043e\u0442\u0438\u0432\u043b\u0435\u043d\u0438\u044f</b> \\\\( W \\\\):\\n\\\\[\\nW = \\\\frac{b \\\\cdot h^2}{6}\\n\\\\]\\n\u0433\u0434\u0435 \\\\( b = 0.05 \\\\) \u043c, \\\\( h = 0.2 \\\\) \u043c.\\n\\n\\\\[\\nW = \\\\frac{0.05 \\\\cdot (0.2)^2}{6} = 0.000333 \\\\, \\\\text{\u043c}^3\\n\\\\]\\n\\n2. <b>\u0420\u0430\u0441\u0447\u0435\u0442 \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e\u0433\u043e \u0438\u0437\u0433\u0438\u0431\u0430\u044e\u0449\u0435\u0433\u043e \u043c\u043e\u043c\u0435\u043d\u0442\u0430</b> \\\\( M \\\\), \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e\u0435 \u043d\u0430\u043f\u0440\u044f\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0438\u0437\u0433\u0438\u0431 \\\\(\\\\sigma\\\\) \u0434\u043b\u044f \u0445\u0432\u043e\u0439\u043d\u044b\u0445 \u043f\u043e\u0440\u043e\u0434. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0435\u0441\u043b\u0438 \\\\(\\\\sigma\\\\) \u043e\u043a\u043e\u043b\u043e 10 \u041c\u041f\u0430 (10,000,000 \u041d/\u043c\u00b2):\\n\\n\\\\[\\nM = \\\\sigma \\\\cdot W = 10,000,000 \\\\cdot 0.000333 = 3,330 \\\\, \\\\text{\u041d\u043c}\\n\\\\]\\n\\n3. <b>\u0420\u0430\u0441\u0447\u0435\u0442 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u043e\u0441\u0440\u0435\u0434\u043e\u0442\u043e\u0447\u0435\u043d\u043d\u043e\u0439 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \\\\( F \\\\) \u0432 \u0441\u0435\u0440\u0435\u0434\u0438\u043d\u0435 \u043f\u0440\u043e\u043b\u0435\u0442\u0430</b>:\\n\\\\[\\nM = \\\\frac{F \\\\cdot L}{4}\\n\\\\]\\n\u041f\u043e\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u044f \\\\( M = 3,330 \\\\, \\\\text{\u041d\u043c} \\\\) \u0438 \\\\( L = 1.5 \\\\, \\\\text{\u043c} \\\\):\\n\\n\\\\[\\n3,330 = \\\\frac{F \\\\cdot 1.5}{4}\\n\\\\]... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:59", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:25:59", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='db1195fb-df93-4069-8c79-66dfb1b90682'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:26:00", "name": "handlers", "levelname": "INFO", "message": "Sent response to user_id=244732168", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:26:00", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=244732168, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:31:47", "name": "decorators", "levelname": "DEBUG", "message": "Initialized DatabaseService for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:31:47", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 571915781, "user_name": "\u0421\u0443\u0440\u043e\u0432\u044b\u0439 \u0415\u0432\u0433\u0435\u043d\u0438\u0439", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 22:31:47", "last_active": "2024-12-03, 22:31:47", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 22:31:47", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:31:47", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:31:48", "name": "llm_service", "levelname": "INFO", "message": "LLMService initialized with model 'gpt-4o'.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:31:48", "name": "decorators", "levelname": "DEBUG", "message": "Initialized LLMService.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:31:48", "name": "decorators", "levelname": "DEBUG", "message": "Set user_id: 571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:31:48", "name": "decorators", "levelname": "DEBUG", "message": "Set user_name: \u0421\u0443\u0440\u043e\u0432\u044b\u0439 \u0415\u0432\u0433\u0435\u043d\u0438\u0439", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:31:48", "name": "decorators", "levelname": "DEBUG", "message": "Set language_code: ru", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:31:49", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=571915781: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:31:49", "name": "decorators", "levelname": "WARNING", "message": "Documents not indexed for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:31:58", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 571915781, "user_name": "\u0421\u0443\u0440\u043e\u0432\u044b\u0439 \u0415\u0432\u0433\u0435\u043d\u0438\u0439", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 22:31:58", "last_active": "2024-12-03, 22:31:58", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 22:31:58", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:31:58", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:31:58", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=571915781: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:31:58", "name": "decorators", "levelname": "INFO", "message": "Event 'command' triggered by user_id=571915781, message='/knowledge_base'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:31:58", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: knowledge_base with args: (<handlers.BotHandlers object at 0x0000015E2538B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='\u0421\u0443\u0440\u043e\u0432\u044b\u0439', id=571915781, last_name='\u0415\u0432\u0433\u0435\u043d\u0438\u0439', type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 19, 31, 57, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=15, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='\u0421\u0443\u0440\u043e\u0432\u044b\u0439', id=571915781, is_bot=False, language_code='ru', last_name='\u0415\u0432\u0433\u0435\u043d\u0438\u0439'), group_chat_created=False, message_id=3114, supergroup_chat_created=False, text='/knowledge_base'), update_id=881194002), <telegram.ext._callbackcontext.CallbackContext object at 0x0000015EAAFF9B00>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:31:58", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: knowledge_base with result: <coroutine object BotHandlers.knowledge_base at 0x0000015E4AEF3400>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:31:59", "name": "handlers", "levelname": "INFO", "message": "Prompted knowledge base selection for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:31:59", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=571915781, event_type=command", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:00", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 571915781, "user_name": "\u0421\u0443\u0440\u043e\u0432\u044b\u0439 \u0415\u0432\u0433\u0435\u043d\u0438\u0439", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 22:32:00", "last_active": "2024-12-03, 22:32:00", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 22:32:00", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:00", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:00", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=571915781: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:00", "name": "decorators", "levelname": "INFO", "message": "Event 'inline_button' triggered by user_id=571915781, message='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:00", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: set_knowledge_base with args: (<handlers.BotHandlers object at 0x0000015E2538B9E0>, Update(callback_query=CallbackQuery(chat_instance='5955451112623345649', data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', from_user=User(first_name='\u0421\u0443\u0440\u043e\u0432\u044b\u0439', id=571915781, is_bot=False, language_code='ru', last_name='\u0415\u0432\u0433\u0435\u043d\u0438\u0439'), id='2456359578013868927', message=Message(channel_chat_created=False, chat=Chat(first_name='\u0421\u0443\u0440\u043e\u0432\u044b\u0439', id=571915781, last_name='\u0415\u0432\u0433\u0435\u043d\u0438\u0439', type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 19, 31, 58, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Pdflyx', id=7836895356, is_bot=True, username='Pdflyx_bot'), group_chat_created=False, message_id=3115, reply_markup=InlineKeyboardMarkup(inline_keyboard=((InlineKeyboardButton(callback_data='set_knowledge:\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b', text='\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b'),), (InlineKeyboardButton(callback_data='set_knowledge:Indonesian Regulations', text='Indonesian Regulations'),), (InlineKe... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:00", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: set_knowledge_base with result: <coroutine object BotHandlers.set_knowledge_base at 0x0000015E4A9AE2A0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:01", "name": "handlers", "levelname": "DEBUG", "message": "Set folder_path='E:\\knowledge_base\\russian_regulations' for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:01", "name": "handlers", "levelname": "DEBUG", "message": "Found 29 valid files in folder_path='E:\\knowledge_base\\russian_regulations' for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:01", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_and_index_documents with args: (<llm_service.LLMService object at 0x0000015EAB04D460>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:01", "name": "llm_service", "levelname": "DEBUG", "message": "Starting load_and_index_documents for folder_path='E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:01", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: load_vector_store with args: (<llm_service.LLMService object at 0x0000015EAB04D460>, 'E:\\\\knowledge_base\\\\russian_regulations'), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:01", "name": "llm_service", "levelname": "INFO", "message": "Loaded vector store from E:\\knowledge_base\\russian_regulations\\vector_store", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:01", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_vector_store with result: True", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:01", "name": "llm_service", "levelname": "INFO", "message": "Vector store loaded from existing files in 'E:\\knowledge_base\\russian_regulations'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:01", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: load_and_index_documents with result: (True, 'Vector store loaded from existing files.')", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:01", "name": "handlers", "levelname": "INFO", "message": "Knowledge base '\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b' set successfully for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:01", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=571915781, event_type=inline_button", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:06", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 571915781, "user_name": "\u0421\u0443\u0440\u043e\u0432\u044b\u0439 \u0415\u0432\u0433\u0435\u043d\u0438\u0439", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 22:32:06", "last_active": "2024-12-03, 22:32:06", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 22:32:06", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:06", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:06", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=571915781: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:06", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=571915781, message='\u0418\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0433 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u0434\u043b\u0438\u043d\u043e\u0439 1.5 \u043c, \u0445\u0432\u043e\u0439\u043d\u043e\u0439 \u043f\u043e\u0440\u043e\u0434\u044b'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:06", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x0000015E2538B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='\u0421\u0443\u0440\u043e\u0432\u044b\u0439', id=571915781, last_name='\u0415\u0432\u0433\u0435\u043d\u0438\u0439', type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 19, 32, 5, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='\u0421\u0443\u0440\u043e\u0432\u044b\u0439', id=571915781, is_bot=False, language_code='ru', last_name='\u0415\u0432\u0433\u0435\u043d\u0438\u0439'), group_chat_created=False, message_id=3117, supergroup_chat_created=False, text='\u0418\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0433 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u0434\u043b\u0438\u043d\u043e\u0439 1.5 \u043c, \u0445\u0432\u043e\u0439\u043d\u043e\u0439 \u043f\u043e\u0440\u043e\u0434\u044b'), update_id=881194004), <telegram.ext._callbackcontext.CallbackContext object at 0x0000015EAAFF9B00>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:06", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x0000015EA8AE07C0>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:06", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='625560fa-b53f-4685-867b-279d5ee01597' for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:06", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='625560fa-b53f-4685-867b-279d5ee01597'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:06", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:06", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x0000015EAB04D460>, '\u0418\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0433 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u0434\u043b\u0438\u043d\u043e\u0439 1.5 \u043c, \u0445\u0432\u043e\u0439\u043d\u043e\u0439 \u043f\u043e\u0440\u043e\u0434\u044b'), kwargs: {'chat_history': [HumanMessage(content='\u0418\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0433 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u0434\u043b\u0438\u043d\u043e\u0439 1.5 \u043c, \u0445\u0432\u043e\u0439\u043d\u043e\u0439 \u043f\u043e\u0440\u043e\u0434\u044b', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u043f\u0440\u0435\u0434\u0435\u043b\u044c\u043d\u0430 \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u0430\u044f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u0430 \u043f\u0435\u0440\u0435\u043a\u0440\u044b\u0442\u0438\u0435 \u0438\u0437 \u0434\u043e\u0441\u043e\u043a \u0441\u043e\u0441\u043d\u044b \u0441 \u0441\u0435\u0447\u0435\u043d\u0438\u0435\u043c 50 \u043d\u0430 200 \u043f\u0440\u0438 \u043f\u0440\u043e\u043b\u0451\u0442\u0435 3 \u043c\u0435\u0442\u0440\u0430 \u0438 \u0448\u0430\u0433\u0435 \u043b\u0430\u0433 1.5 \u043c\u0435\u0442\u0440\u0430', additional_kwargs={}, response_metadata={}), AIMessage(content='\u042f \u043d\u0435 \u043c\u043e\u0433\u0443 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0447\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043f\u0440\u0435\u0434\u0435\u043b\u044c\u043d\u043e \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e\u0439 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043d\u0430 \u043f\u0435\u0440\u0435\u043a\u0440\u044b\u0442\u0438\u0435 \u0438\u0437 \u0434\u043e\u0441\u043e\u043a \u0441\u043e\u0441\u043d\u044b \u0441 \u0441\u0435\u0447\u0435\u043d\u0438\u0435\u043c 50\u0445200 \u043c\u043c \u043f\u0440\u0438 \u0437\u0430\u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u0445 \u0431\u0435\u0437 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0440\u0430\u0441\u0447\u0451\u0442\u043e\u0432.\\n\\n\u041e\u0431\u044b\u0447\u043d\u043e \u0434\u043b\u044f \u0442\u0430\u043a\u0438\u0445 \u0440\u0430\u0441\u0447\u0451\u0442\u043e\u0432 \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u044e\u0442\u0441\u044f:\\n\u2022 \u0442\u0438\u043f \u0438 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b;\\n\u2022 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438 (\u0432\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c, \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u043d\u044b\u0435 \u043a\u043e\u043b\u0435\u0431\u0430\u043d\u0438\u044f);\\n\u2022 \u0432\u0438\u0434 \u0438 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 (\u0440\u0430\u0432\u043d\u043e\u043c\u0435\u0440\u043d\u043e \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u0430\u044f, \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f, \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u0430\u044f);\\n\u2022 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0438 \u0441\u043f\u043e\u0441\u043e\u0431 \u043a\u0440\u0435\u043f\u043b\u0435\u043d\u0438\u044f \u043b\u0430... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:06", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015E4AF256C0>, 'json_data': {'input': [[31274, 2156, 58060, 23297, 73181, 69471, 54570, 7820, 15752, 21477, 7094, 58669, 9542, 7952, 23630, 13433, 220, 1135, 10693, 1049, 7952, 11320, 39988, 220, 16, 13, 20, 11562, 11, 45658, 5591, 16742, 39988, 91146, 9706, 4655]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:06", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:07", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers([('date', 'Tue, 03 Dec 2024 19:32:06 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-allow-origin', '*'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-model', 'text-embedding-ada-002'), ('openai-organization', 'nuanu-wimbwa'), ('openai-processing-ms', '79'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '5000000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '4999963'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', 'req_d292f261b4424965c28c9e0e930458ee'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=rfAF1WUay5tyrCoE1yhYvi_KhOLeGJ0X4UoHBi1Thn0-1733254326-1.0.1.1-SSlhd8Qn8FPgaNNDdR8rIYaHVMk9e5be4sv63R... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:07", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_d292f261b4424965c28c9e0e930458ee", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:07", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:07", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015E4AF256C0>, 'json_data': {'input': [[31274, 2156, 58060, 23297, 73181, 69471, 54570, 7820, 15752, 21477, 7094, 58669, 9542, 7952, 23630, 13433, 220, 1135, 10693, 1049, 7952, 11320, 39988, 220, 16, 13, 20, 11562, 11, 45658, 5591, 16742, 39988, 91146, 9706, 4655]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:07", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:08", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:32:07 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '44', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999963', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_91127f17f057925aac81e672278ebc0f', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5fb16ebf72df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:08", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_91127f17f057925aac81e672278ebc0f", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:08", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015E4AF256C0>, 'json_data': {'input': [[3076, 33006, 16604, 48262, 13373, 20346, 17394, 39988, 21923, 67222, 6856, 17165, 46177, 720, 13337, 59030, 17165, 720, 39091, 19479, 92091, 44858, 720, 7094, 11320, 14525, 25756, 5591, 35387, 4329, 46177, 720, 66144, 51973, 11, 11562, 6578, 720, 39091, 19479, 92091, 48150, 720, 4898, 99714, 720, 15752, 5591, 35387, 21708, 46177, 69471, 14082, 11, 720, 12426, 1830, 13, 720, 39091, 94178, 92091, 48150, 720, 2233, 18437, 6735, 61390, 23446, 1532, 11562, 50436, 7094, 3865, 720, 15752, 5591, 35387, 4329, 64880, 46177, 720, 66144, 14082, 4898, 50807, 11, 11562, 6578, 720, 74339, 67222, 6856, 13433, 5173, 64292, 12507, 8131, 7753, 1840, 16331, 50807, 720, 1840, 11320, 5173, 3114, 9542, 12648, 64880, 96573, 7753, 1840, 16331, 50807, 720, 14525, 81376, 47805, 1532, 7952, 2233, 33742, 23297, 1840, 12648, 720, 1135, 7... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:08", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:32:08 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '106', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998763', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '14ms', 'x-request-id': 'req_acd079203b02a72a940e211b3c917bd7', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5fb1c2cb42df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_acd079203b02a72a940e211b3c917bd7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015E4AF256C0>, 'json_data': {'input': [[1954, 33006, 20807, 34493, 67024, 13433, 13373, 18868, 5372, 3865, 720, 34604, 19188, 64134, 720, 2297, 56857, 18999, 720, 8164, 7753, 10298, 4655, 6148, 17165, 11, 720, 6578, 6578, 720, 39091, 94178, 92091, 34613, 12561, 7975, 8341, 11, 11562, 720, 20807, 17721, 56999, 44065, 18868, 79686, 720, 16604, 2156, 38521, 2233, 5372, 23446, 1532, 720, 6735, 79686, 720, 34604, 18437, 64322, 44858, 5524, 2156, 25698, 6856, 36497, 6850, 34493, 67024, 13433, 11, 7820, 17279, 1506, 720, 16, 11, 15, 720, 16, 11, 20, 720, 17, 11, 15, 720, 17, 11, 20, 720, 18, 11, 15, 720, 17, 78086, 112, 7, 1987, 78086, 112, 17361, 8, 720, 17, 11, 2970, 720, 17, 11, 1927, 720, 17, 11, 868, 720, 16, 11, 4161, 720, 16, 11, 5932, 720, 16, 11, 2287, 720, 27435, 39103, 12426, 1506, 11, 720, 6148, 7753, 40590, 6148, 48150, 720, 8164, 7753, 1529... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:32:09 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '167', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998367', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '19ms', 'x-request-id': 'req_4d5f86d01e03a4aef41ae05e1e21d888', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5fb22ded42df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_4d5f86d01e03a4aef41ae05e1e21d888", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015E4AF256C0>, 'json_data': {'input': [[20976, 8164, 9239, 4655, 23934, 18868, 5591, 9239, 1506, 26539, 19479, 47273, 37405, 7952, 11320, 79862, 12561, 7975, 8341, 1506, 11, 11562, 25, 2355, 33006, 7094, 1482, 220, 1049, 720, 1041, 11562, 6578, 720, 1041, 11562, 6578, 720, 2297, 5591, 13, 220, 1049, 720, 1049, 11562, 6578, 720, 1049, 11562, 6578, 720, 35095, 28086, 7753, 57319, 20879, 25756, 9239, 41873, 97341, 39127, 39988, 81376, 1840, 720, 16, 14, 1135, 7952, 11320, 12648, 720, 1830, 28086, 7753, 57319, 720, 16, 14, 1041, 7952, 11320, 12648, 11047, 28086, 7753, 57319, 720, 35095, 28086, 7753, 57319, 20879, 13999, 2297, 56008, 13999, 26539, 19479, 47273, 11, 28114, 8164, 5372, 7094, 1840, 36352, 14009, 2233, 39988, 81376, 1840, 23784, 65014, 320, 7094, 14009, 720, 95570, 3114, 6856, 16742, 46339, 9239, 4655, 20879, 13999, 2297, 56008, 13999, 143... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:09", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:10", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:32:09 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '53', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999275', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '8ms', 'x-request-id': 'req_31f75dd796517d470164fe842462b460', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5fb25cf672df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:10", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_31f75dd796517d470164fe842462b460", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:10", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015E4AF256C0>, 'json_data': {'input': [[5925, 33006, 20976, 8164, 9239, 1506, 20440, 720, 8164, 7753, 10298, 4655, 6148, 17165, 720, 34604, 19188, 64134, 720, 2297, 56857, 18999, 720, 8164, 7753, 10298, 4655, 6148, 17165, 11, 11562, 6578, 720, 39091, 94178, 92091, 34613, 12561, 7975, 8341, 11, 11562, 720, 20807, 17721, 56999, 44065, 18868, 79686, 720, 34604, 18437, 64322, 44858, 5524, 2156, 25698, 6856, 36497, 6850, 34493, 67024, 13433, 11, 7820, 17279, 1506, 720, 16, 11, 15, 720, 16, 11, 20, 720, 17, 11, 15, 720, 17, 11, 20, 720, 18, 11, 15, 720, 8164, 7753, 15298, 39103, 23311, 1532, 7740, 11047, 31203, 720, 68506, 1830, 38657, 1506, 2355, 17, 78086, 112, 7, 1987, 78086, 112, 6860, 8, 720, 16, 11, 2790, 720, 16, 11, 2137, 720, 16, 11, 1644, 720, 16, 11, 1591, 720, 16, 11, 1419, 720, 17, 78086, 112, 7, 1987, 78086, 112, 10336, 8, 720, 16, 11, 249... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:10", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:10", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:32:09 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '106', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998530', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '17ms', 'x-request-id': 'req_bfdd10ec41eaf0fea8bac0d20aac35b0', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5fb27efef2df9-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:10", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_bfdd10ec41eaf0fea8bac0d20aac35b0", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:10", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-03, 22:32:10. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retrieved context to answer the question.\\n\\n69 \\n \\n\u0412\u0438\u0434 \u043d\u0430\u0440\u0443\u0436\u043d\u043e\u0439 \u043e\u0431\u043b\u0438\u0446\u043e\u0432\u043a\u0438 \u0438\u043b\u0438 \\n\u043e\u0442\u0434\u0435\u043b\u043a\u0438 \\n\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \\n\u0434\u043b\u0438\u043d\u0430 \u0433\u0432\u043e\u0437\u0434\u044f \u0438\u043b\u0438 \\n\u0441\u043a\u043e\u0431\u044b, \u043c\u043c \\n\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \\n\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \\n\u0433\u0432\u043e\u0437\u0434\u0435\u0439 \u0438\u043b\u0438 \u0441\u043a\u043e\u0431, \\n\u0448\u0442. \\n\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \\n\u0440\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043c\u0435\u0436\u0434\u0443 \\n\u0433\u0432\u043e\u0437\u0434\u044f\u043c\u0438 \u0438\u043b\u0438 \\n\u0441\u043a\u043e\u0431\u043a\u0430\u043c\u0438, \u043c\u043c \\n\u041e\u0431\u043b\u0438\u0446\u043e\u0432... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:10", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers([('date', 'Tue, 03 Dec 2024 19:32:13 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'nuanu-wimbwa'), ('openai-processing-ms', '2232'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '5000'), ('x-ratelimit-limit-tokens', '800000'), ('x-ratelimit-remaining-requests', '4999'), ('x-ratelimit-remaining-tokens', '794120'), ('x-ratelimit-reset-requests', '12ms'), ('x-ratelimit-reset-tokens', '441ms'), ('x-request-id', 'req_c99ce11bf3429b84d1d4d769ece162b3'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=5laRTO3PCnaNzTyy.qE.P1K2KKQUfJOgAD8ChPqMQr0-1733254333-1.0.1.1-xP2ZUid1L0SyyLKfbiR4cdUDau1sUVYPQyYqq5pZIgdIqEMCBtugMu_GfoI3_A7N0doiOPbrYPKxSQL4VB0H7Q; path=/; expires=Tue, 03... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_c99ce11bf3429b84d1d4d769ece162b3", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:13", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.8508901122366077, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:13", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:13", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"Given the following user prompt and LLM response, determine if additional information is needed to help the user fulfill their request and continue the conversation effectively. If yes, provide up to 3 additional prompts based on key concepts in the response, such as 'learn more about ...', 'how to determine ...', 'how to calculate ...', etc., that the user can use to gather more information. If no additional prompts are needed, respond with 'No suggestions needed'.\\n\\nUser Prompt: \u0418\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0433 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u0434\u043b\u0438\u043d\u043e\u0439 1.5 \u043c, \u0445\u0432\u043e\u0439\u043d\u043e\u0439 \u043f\u043e\u0440\u043e\u0434\u044b\\n\\nLLM Response: \u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u0431\u0435\u0437 \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u044b\u0445 \u0440\u0430\u0441\u0447\u0435\u0442\u043e\u0432 \u0438 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u044f \u043d\u0435 \u043c\u043e\u0433\u0443 \u0442\u043e\u0447\u043d\u043e \u0441\u043a\u0430\u0437\u0430\u0442\u044c, \u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c 50\u0445200 \u043c\u043c \u0434\u043b\u0438\u043d\u043e\u0439 1,5 \u043c \u0438\u0437 \u0445\u0432\u043e\u0439\u043d\u043e\u0439 \u043f\u043e\u0440\u043e\u0434\u044b. \u041f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0441\u043a\u0438 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u0442\u0430\u043a\u0438\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u043a\u0430\u043a:\\n\\n1. \u0422\u0438\u043f \u0438 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b.\\n2. \u0423\u0441\u043b\u043e\u0432\u0438\u044f \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438 (\u0432\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c, \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:13", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:17", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:32:16 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '3112', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799568', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '32ms', 'x-request-id': 'req_adf0d71d592fe33abb5ad7339f351bb4', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5fb3f6d3fc02e-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:17", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_adf0d71d592fe33abb5ad7339f351bb4", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:17", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0442\u043e\u043c, \u043a\u0430\u043a \u0442\u0438\u043f \u0438 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0441\u043a\u0438.', '\u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u0432\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c \u0438 \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430, \u0438 \u0438\u0445 \u0432\u043b\u0438\u044f\u043d\u0438\u0435 \u043d\u0430 \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u0443?', '\u041a\u0430\u043a \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u043d\u0430 \u0434\u043e\u0441\u043a\u0443 \u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u0440\u0430\u0437\u043d\u044b\u0445 \u0432\u0438\u0434\u043e\u0432 \u043a\u0440\u0435\u043f\u043b\u0435\u043d\u0438\u044f \u0438 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0435\u043a?']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:17", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u0431\u0435\u0437 \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u044b\u0445 \u0440\u0430\u0441\u0447\u0435\u0442\u043e\u0432 \u0438 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u044f \u043d\u0435 \u043c\u043e\u0433\u0443 \u0442\u043e\u0447\u043d\u043e \u0441\u043a\u0430\u0437\u0430\u0442\u044c, \u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c 50\u0445200 \u043c\u043c \u0434\u043b\u0438\u043d\u043e\u0439 1,5 \u043c \u0438\u0437 \u0445\u0432\u043e\u0439\u043d\u043e\u0439 \u043f\u043e\u0440\u043e\u0434\u044b. \u041f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0441\u043a\u0438 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u0442\u0430\u043a\u0438\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u043a\u0430\u043a:\\n\\n1. \u0422\u0438\u043f \u0438 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b.\\n2. \u0423\u0441\u043b\u043e\u0432\u0438\u044f \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438 (\u0432\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c, \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430).\\n3. \u0421\u043f\u043e\u0441\u043e\u0431 \u043a\u0440\u0435\u043f\u043b\u0435\u043d\u0438\u044f \u0438 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0434\u043e\u0441\u043a\u0438.\\n4. \u0412\u0438\u0434 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 (\u0440\u0430\u0432\u043d\u043e\u043c\u0435\u0440\u043d\u043e \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u0430\u044f \u0438\u043b\u0438 \u0441\u043e\u0441\u0440\u0435\u0434\u043e\u0442\u043e\u0447\u0435\u043d\u043d\u0430\u044f).\\n\\n\u0414\u043b\u044f \u0442\u043e\u0447\u043d\u043e\u0433\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u0430\u043c, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0440\u0430\u0441\u0447\u0435\u0442\u044b, \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u044f \u0432\u0441\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u0438 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b.\\n\\n------------------\\nReferences (/references):\\n\u041a\u0430\u0440\u043a\u0430\u0441\u043d\u044b\u0435 \u0414\u043e\u043c\u0430_\u0421\u041f 31-105-2002 .pdf, pages: 68, 89, 90\\n\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430_\u0421\u041f 76.13330.2016.pdf, pages: 45\\n', {'\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430_\u0421\u041f 76.13330.2016.pdf', '\u041a\u0430\u0440\u043a\u0430\u0441\u043d\u044b\u0435 \u0414\u043e\u043c\u0430_\u0421\u041f 31-105-2002 .pdf'}, ['\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u0442\u043e\u043c, \u043a\u0430\u043a \u0442\u0438\u043f \u0438 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0441\u043a\u0438.', '\u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u044d\u043a\u0441\u043f\u043b\u0443\u0430... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:17", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:17", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='625560fa-b53f-4685-867b-279d5ee01597'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:17", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:18", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:18", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=571915781, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:47", "name": "db_service", "levelname": "INFO", "message": "User info saved/updated successfully.", "taskName": "Application:7836895356:update_fetcher", "user_id": 571915781, "user_name": "\u0421\u0443\u0440\u043e\u0432\u044b\u0439 \u0415\u0432\u0433\u0435\u043d\u0438\u0439", "language_code": "ru", "current_language": "Russian", "date_joined": "2024-12-03, 22:32:47", "last_active": "2024-12-03, 22:32:47", "is_active": true, "access": true, "role": "user"}
{"asctime": "2024-12-03 22:32:47", "name": "decorators", "levelname": "DEBUG", "message": "User info saved for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:48", "name": "decorators", "levelname": "DEBUG", "message": "Updated last_active for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:48", "name": "decorators", "levelname": "DEBUG", "message": "Fetched current_language for user_id=571915781: Russian", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:48", "name": "decorators", "levelname": "INFO", "message": "Event 'ai_conversation' triggered by user_id=571915781, message='\u0418\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0433 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 150\u0445200 \u0434\u043b\u0438\u043d\u043e\u0439 3 \u043c, \u0445\u0432\u043e\u0439\u043d\u043e\u0439 \u043f\u043e\u0440\u043e\u0434\u044b'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:48", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: handle_message with args: (<handlers.BotHandlers object at 0x0000015E2538B9E0>, Update(message=Message(channel_chat_created=False, chat=Chat(first_name='\u0421\u0443\u0440\u043e\u0432\u044b\u0439', id=571915781, last_name='\u0415\u0432\u0433\u0435\u043d\u0438\u0439', type=<ChatType.PRIVATE>), date=datetime.datetime(2024, 12, 3, 19, 32, 47, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='\u0421\u0443\u0440\u043e\u0432\u044b\u0439', id=571915781, is_bot=False, language_code='ru', last_name='\u0415\u0432\u0433\u0435\u043d\u0438\u0439'), group_chat_created=False, message_id=3119, supergroup_chat_created=False, text='\u0418\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0433 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 150\u0445200 \u0434\u043b\u0438\u043d\u043e\u0439 3 \u043c, \u0445\u0432\u043e\u0439\u043d\u043e\u0439 \u043f\u043e\u0440\u043e\u0434\u044b'), update_id=881194005), <telegram.ext._callbackcontext.CallbackContext object at 0x0000015E4AA88910>), kwargs: {}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:48", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: handle_message with result: <coroutine object BotHandlers.handle_message at 0x0000015E4B05BC40>", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:48", "name": "handlers", "levelname": "DEBUG", "message": "Generated conversation_id='3e257e95-9b20-4de5-9b85-59758622c26a' for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:48", "name": "handlers", "levelname": "DEBUG", "message": "Saved user message for conversation_id='3e257e95-9b20-4de5-9b85-59758622c26a'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:48", "name": "handlers", "levelname": "DEBUG", "message": "Retrieved chat history for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:48", "name": "decorators", "levelname": "DEBUG", "message": "Entering function: generate_response with args: (<llm_service.LLMService object at 0x0000015EAB04D460>, '\u0418\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0433 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 150\u0445200 \u0434\u043b\u0438\u043d\u043e\u0439 3 \u043c, \u0445\u0432\u043e\u0439\u043d\u043e\u0439 \u043f\u043e\u0440\u043e\u0434\u044b'), kwargs: {'chat_history': [HumanMessage(content='\u0418\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0433 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 150\u0445200 \u0434\u043b\u0438\u043d\u043e\u0439 3 \u043c, \u0445\u0432\u043e\u0439\u043d\u043e\u0439 \u043f\u043e\u0440\u043e\u0434\u044b', additional_kwargs={}, response_metadata={}), HumanMessage(content='\u0418\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0433 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 50\u0445200 \u0434\u043b\u0438\u043d\u043e\u0439 1.5 \u043c, \u0445\u0432\u043e\u0439\u043d\u043e\u0439 \u043f\u043e\u0440\u043e\u0434\u044b', additional_kwargs={}, response_metadata={}), AIMessage(content='\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u0431\u0435\u0437 \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u044b\u0445 \u0440\u0430\u0441\u0447\u0435\u0442\u043e\u0432 \u0438 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u044f \u043d\u0435 \u043c\u043e\u0433\u0443 \u0442\u043e\u0447\u043d\u043e \u0441\u043a\u0430\u0437\u0430\u0442\u044c, \u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c 50\u0445200 \u043c\u043c \u0434\u043b\u0438\u043d\u043e\u0439 1,5 \u043c \u0438\u0437 \u0445\u0432\u043e\u0439\u043d\u043e\u0439 \u043f\u043e\u0440\u043e\u0434\u044b. \u041f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0441\u043a\u0438 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u0442\u0430\u043a\u0438\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u043a\u0430\u043a:\\n\\n1. \u0422\u0438\u043f \u0438 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b.\\n2. \u0423\u0441\u043b\u043e\u0432\u0438\u044f \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438 (\u0432\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c, \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430).\\n3. \u0421\u043f\u043e\u0441\u043e\u0431 \u043a\u0440\u0435\u043f\u043b\u0435\u043d\u0438\u044f \u0438 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0434\u043e\u0441\u043a\u0438.\\n4. \u0412\u0438\u0434 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 (\u0440\u0430\u0432\u043d\u043e\u043c\u0435\u0440\u043d\u043e \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u0430\u044f \u0438\u043b\u0438 \u0441\u043e\u0441\u0440\u0435\u0434\u043e\u0442\u043e\u0447\u0435\u043d\u043d\u0430\u044f).\\n\\n\u0414\u043b\u044f \u0442\u043e\u0447\u043d\u043e\u0433\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u0430\u043c, ... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:48", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015EA8AD9B20>, 'json_data': {'input': [[31274, 2156, 58060, 23297, 73181, 69471, 54570, 7820, 15752, 21477, 7094, 58669, 9542, 7952, 23630, 13433, 220, 3965, 10693, 1049, 7952, 11320, 39988, 220, 18, 11562, 11, 45658, 5591, 16742, 39988, 91146, 9706, 4655]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:48", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:32:48 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '115', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999966', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_42f851e94e900f14289d03189c0e6f88', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5fc170afd9185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_42f851e94e900f14289d03189c0e6f88", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:49", "name": "llm_service", "levelname": "DEBUG", "message": "Retrieved documents with similarity scores.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015EA8ADA520>, 'json_data': {'input': [[31274, 2156, 58060, 23297, 73181, 69471, 54570, 7820, 15752, 21477, 7094, 58669, 9542, 7952, 23630, 13433, 220, 3965, 10693, 1049, 7952, 11320, 39988, 220, 18, 11562, 11, 45658, 5591, 16742, 39988, 91146, 9706, 4655]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:49", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:32:49 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '65', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999966', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_58a3f62bc613ada8b512f8ae659cbddb', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5fc1c3c619185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_58a3f62bc613ada8b512f8ae659cbddb", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015EA8ADA520>, 'json_data': {'input': [[3076, 33006, 16604, 48262, 13373, 20346, 17394, 39988, 21923, 67222, 6856, 17165, 46177, 720, 13337, 59030, 17165, 720, 39091, 19479, 92091, 44858, 720, 7094, 11320, 14525, 25756, 5591, 35387, 4329, 46177, 720, 66144, 51973, 11, 11562, 6578, 720, 39091, 19479, 92091, 48150, 720, 4898, 99714, 720, 15752, 5591, 35387, 21708, 46177, 69471, 14082, 11, 720, 12426, 1830, 13, 720, 39091, 94178, 92091, 48150, 720, 2233, 18437, 6735, 61390, 23446, 1532, 11562, 50436, 7094, 3865, 720, 15752, 5591, 35387, 4329, 64880, 46177, 720, 66144, 14082, 4898, 50807, 11, 11562, 6578, 720, 74339, 67222, 6856, 13433, 5173, 64292, 12507, 8131, 7753, 1840, 16331, 50807, 720, 1840, 11320, 5173, 3114, 9542, 12648, 64880, 96573, 7753, 1840, 16331, 50807, 720, 14525, 81376, 47805, 1532, 7952, 2233, 33742, 23297, 1840, 12648, 720, 1135, 7... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:32:49 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '165', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998763', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '14ms', 'x-request-id': 'req_e4c24ef75751138240c161a96f469365', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5fc21bde39185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_e4c24ef75751138240c161a96f469365", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015EA8AD9B20>, 'json_data': {'input': [[27435, 37255, 34604, 35095, 37255, 220, 18, 13, 49520, 37255, 140, 247, 20976, 20807, 31274, 34604, 20976, 16604, 37255, 20807, 31274, 56191, 51418, 56191, 34604, 34604, 31274, 35095, 20976, 34604, 31274, 31274, 720, 34604, 20976, 19871, 19871, 31274, 140, 247, 19871, 27435, 20976, 140, 247, 67891, 56191, 25079, 56191, 34604, 37255, 93899, 31274, 31274, 198, 8164, 1482, 11047, 7975, 14476, 19479, 1532, 18868, 5372, 17165, 25756, 7975, 7975, 13404, 1506]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:50", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:51", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:32:50 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '106', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4999929', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_ae5f40f07caed8ef9d5e7ef9d2940a89', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5fc244ec39185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:51", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_ae5f40f07caed8ef9d5e7ef9d2940a89", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:51", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015EA8AD9B20>, 'json_data': {'input': [[1954, 33006, 20807, 34493, 67024, 13433, 13373, 18868, 5372, 3865, 720, 34604, 19188, 64134, 720, 2297, 56857, 18999, 720, 8164, 7753, 10298, 4655, 6148, 17165, 11, 720, 6578, 6578, 720, 39091, 94178, 92091, 34613, 12561, 7975, 8341, 11, 11562, 720, 20807, 17721, 56999, 44065, 18868, 79686, 720, 16604, 2156, 38521, 2233, 5372, 23446, 1532, 720, 6735, 79686, 720, 34604, 18437, 64322, 44858, 5524, 2156, 25698, 6856, 36497, 6850, 34493, 67024, 13433, 11, 7820, 17279, 1506, 720, 16, 11, 15, 720, 16, 11, 20, 720, 17, 11, 15, 720, 17, 11, 20, 720, 18, 11, 15, 720, 17, 78086, 112, 7, 1987, 78086, 112, 17361, 8, 720, 17, 11, 2970, 720, 17, 11, 1927, 720, 17, 11, 868, 720, 16, 11, 4161, 720, 16, 11, 5932, 720, 16, 11, 2287, 720, 27435, 39103, 12426, 1506, 11, 720, 6148, 7753, 40590, 6148, 48150, 720, 8164, 7753, 1529... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:51", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:52", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:32:52 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '134', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998367', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '19ms', 'x-request-id': 'req_de7da1ff1692e41d93a0741e1a768739', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5fc2ab8f39185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:52", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_de7da1ff1692e41d93a0741e1a768739", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:52", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000015EA8AD9B20>, 'json_data': {'input': [[2421, 33006, 16604, 48262, 720, 63873, 33742, 23297, 198, 1840, 12648, 720, 19871, 1482, 198, 2233, 1830, 720, 140, 101, 1840, 31203, 198, 14525, 720, 15752, 67024, 1482, 198, 5591, 16742, 720, 8164, 39865, 14476, 1506, 198, 7094, 1840, 11, 11562, 720, 39091, 94178, 92091, 34613, 12561, 7975, 8341, 11, 11562, 720, 34604, 19188, 64134, 5524, 56857, 18999, 12561, 14837, 17766, 6856, 11, 11562, 6578, 720, 18, 78086, 112, 7, 1987, 78086, 112, 198, 10336, 8, 720, 19, 78086, 112, 7, 1987, 78086, 112, 198, 10336, 8, 720, 20, 78086, 112, 7, 1987, 78086, 112, 198, 10336, 8, 720, 18, 78086, 112, 7, 1987, 78086, 112, 198, 12422, 8, 720, 19, 78086, 112, 720, 7, 1987, 78086, 112, 17, 198, 1758, 8, 720, 20, 78086, 112, 720, 7, 1987, 87, 17, 198, 1758, 8, 720, 18, 78086, 112, 7, 1987, 78086, 112, 198, 17361, 8, 720, 19, 78... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:52", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/embeddings", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/embeddings \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:32:52 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '156', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '5000000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '4998336', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '19ms', 'x-request-id': 'req_bf56d7c0eb4c4881a7da909c15054c13', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5fc312ae39185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_bf56d7c0eb4c4881a7da909c15054c13", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"You are a project assistant from the consultant side on design and construction projects. If you don't know the answer, say that you don't know. Do not include references to the source documents in your answer. If you need to use the current date, today is 2024-12-03, 22:32:53. If the prompt includes a request to provide a link to documents in context, respond with: Please follow the link below: Format your response using Telegram-compatible HTML. Use only supported tags (<b>, <strong>, <i>, <em>, <a>, <u>, <s>, <code>, <pre>, <tg-spoiler>) and use \\\\n for line breaks instead of <br>. Use the following pieces of retrieved context to answer the question.\\n\\n69 \\n \\n\u0412\u0438\u0434 \u043d\u0430\u0440\u0443\u0436\u043d\u043e\u0439 \u043e\u0431\u043b\u0438\u0446\u043e\u0432\u043a\u0438 \u0438\u043b\u0438 \\n\u043e\u0442\u0434\u0435\u043b\u043a\u0438 \\n\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \\n\u0434\u043b\u0438\u043d\u0430 \u0433\u0432\u043e\u0437\u0434\u044f \u0438\u043b\u0438 \\n\u0441\u043a\u043e\u0431\u044b, \u043c\u043c \\n\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \\n\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \\n\u0433\u0432\u043e\u0437\u0434\u0435\u0439 \u0438\u043b\u0438 \u0441\u043a\u043e\u0431, \\n\u0448\u0442. \\n\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \\n\u0440\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043c\u0435\u0436\u0434\u0443 \\n\u0433\u0432\u043e\u0437\u0434\u044f\u043c\u0438 \u0438\u043b\u0438 \\n\u0441\u043a\u043e\u0431\u043a\u0430\u043c\u0438, \u043c\u043c \\n\u041e\u0431\u043b\u0438\u0446\u043e\u0432... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:53", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:32:58 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '4632', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '794756', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '393ms', 'x-request-id': 'req_d5d545be8f185bf7173b2014bd41b8f4', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5fc375cb89185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_d5d545be8f185bf7173b2014bd41b8f4", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:59", "name": "llm_service", "levelname": "DEBUG", "message": "Maximum similarity: 0.8445099423412027, RELEVANCE_THRESHOLD_PROMPT: 0.8", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:59", "name": "llm_service", "levelname": "DEBUG", "message": "References appended to the answer. RELEVANCE_THRESHOLD_DOCS: 0.7", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:59", "name": "llm_service", "levelname": "DEBUG", "message": "Generating suggestions based on user prompt and LLM response.", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"Given the following user prompt and LLM response, determine if additional information is needed to help the user fulfill their request and continue the conversation effectively. If yes, provide up to 3 additional prompts based on key concepts in the response, such as 'learn more about ...', 'how to determine ...', 'how to calculate ...', etc., that the user can use to gather more information. If no additional prompts are needed, respond with 'No suggestions needed'.\\n\\nUser Prompt: \u0418\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0433 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 150\u0445200 \u0434\u043b\u0438\u043d\u043e\u0439 3 \u043c, \u0445\u0432\u043e\u0439\u043d\u043e\u0439 \u043f\u043e\u0440\u043e\u0434\u044b\\n\\nLLM Response: \u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u044f \u043d\u0435 \u043c\u043e\u0433\u0443 \u0442\u043e\u0447\u043d\u043e \u0441\u043a\u0430\u0437\u0430\u0442\u044c, \u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c 150\u0445200 \u043c\u043c \u0434\u043b\u0438\u043d\u043e\u0439 3 \u043c \u0438\u0437 \u0445\u0432\u043e\u0439\u043d\u043e\u0439 \u043f\u043e\u0440\u043e\u0434\u044b \u0431\u0435\u0437 \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u044b\u0445 \u0440\u0430\u0441\u0447\u0435\u0442\u043e\u0432. \u041f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0441\u043a\u0438 \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u0432\u0438\u0441\u0435\u0442\u044c \u043e\u0442 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0430 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a:\\n\\n1. \u0412\u0438\u0434 \u0438 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b.\\n2. \u0423\u0441\u043b\u043e\u0432\u0438\u044f \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438 (\u0432\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c, \u0442\u0435\u043c\u043f... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:32:59", "name": "openai._base_client", "levelname": "DEBUG", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:33:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 03 Dec 2024 19:32:59 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'nuanu-wimbwa', 'openai-processing-ms': '877', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '5000', 'x-ratelimit-limit-tokens': '800000', 'x-ratelimit-remaining-requests': '4999', 'x-ratelimit-remaining-tokens': '799555', 'x-ratelimit-reset-requests': '12ms', 'x-ratelimit-reset-tokens': '33ms', 'x-request-id': 'req_d1aaaa6b60b34419f2568e80e3f74ea0', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8ec5fc5b39e09185-DPS', 'content-encoding': 'gzip', 'alt-svc': 'h3=\":443\"; ma=86400'})", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:33:00", "name": "openai._base_client", "levelname": "DEBUG", "message": "request_id: req_d1aaaa6b60b34419f2568e80e3f74ea0", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:33:00", "name": "llm_service", "levelname": "DEBUG", "message": "Generated suggestions: ['\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u043c\u0435\u0442\u043e\u0434\u0430\u0445 \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043d\u0430 \u0434\u0435\u0440\u0435\u0432\u044f\u043d\u043d\u044b\u0435 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438.', '\u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u0438\u0434 \u0438 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0446\u0435\u043b\u0435\u0439.', '\u041a\u0430\u043a \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438 \u043f\u0440\u0438 \u0440\u0430\u0441\u0447\u0435\u0442\u0435 \u043f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u0438 \u0434\u0435\u0440\u0435\u0432\u044f\u043d\u043d\u044b\u0445 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0439.']", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:33:00", "name": "decorators", "levelname": "DEBUG", "message": "Exiting function: generate_response with result: ('\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u044f \u043d\u0435 \u043c\u043e\u0433\u0443 \u0442\u043e\u0447\u043d\u043e \u0441\u043a\u0430\u0437\u0430\u0442\u044c, \u043a\u0430\u043a\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432\u044b\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u0441\u043a\u0430 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c 150\u0445200 \u043c\u043c \u0434\u043b\u0438\u043d\u043e\u0439 3 \u043c \u0438\u0437 \u0445\u0432\u043e\u0439\u043d\u043e\u0439 \u043f\u043e\u0440\u043e\u0434\u044b \u0431\u0435\u0437 \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u044b\u0445 \u0440\u0430\u0441\u0447\u0435\u0442\u043e\u0432. \u041f\u0440\u043e\u0447\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0441\u043a\u0438 \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u0432\u0438\u0441\u0435\u0442\u044c \u043e\u0442 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0430 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a:\\n\\n1. \u0412\u0438\u0434 \u0438 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u0440\u0435\u0432\u0435\u0441\u0438\u043d\u044b.\\n2. \u0423\u0441\u043b\u043e\u0432\u0438\u044f \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438 (\u0432\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c, \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u043d\u044b\u0435 \u043a\u043e\u043b\u0435\u0431\u0430\u043d\u0438\u044f).\\n3. \u0421\u043f\u043e\u0441\u043e\u0431 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u0438 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438.\\n4. \u0412\u0438\u0434 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 (\u0440\u0430\u0432\u043d\u043e\u043c\u0435\u0440\u043d\u043e \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u0430\u044f \u0438\u043b\u0438 \u0441\u043e\u0441\u0440\u0435\u0434\u043e\u0442\u043e\u0447\u0435\u043d\u043d\u0430\u044f).\\n\\n\u0414\u043b\u044f \u0442\u043e\u0447\u043d\u043e\u0433\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0443\u0441\u043b\u0443\u0433\u0430\u043c\u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u0430-\u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0440\u0430\u0441\u0447\u0435\u0442\u044b \u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u0432\u0441\u0435\u0445 \u0443\u0441\u043b\u043e\u0432\u0438\u0439 \u0438 \u043d\u043e\u0440\u043c.\\n\\n------------------\\nReferences (/references):\\n\u041a\u0430\u0440\u043a\u0430\u0441\u043d\u044b\u0435 \u0414\u043e\u043c\u0430_\u0421\u041f 31-105-2002 .pdf, pages: 68, 87, 89\\n\u041d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438 \u0432\u043e\u0437\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f_\u0421\u041f 20.13330.2016.pdf, pages: 84\\n', {'\u041d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438 \u0432\u043e\u0437\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f_\u0421\u041f 20.13330.2016.pdf', '\u041a\u0430\u0440\u043a\u0430\u0441\u043d\u044b\u0435 \u0414\u043e\u043c\u0430_\u0421\u041f 31-105-2002 .pdf'}, ['\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u043c\u0435\u0442\u043e\u0434\u0430\u0445 \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043d\u0430 \u0434\u0435\u0440\u0435\u0432\u044f\u043d\u043d\u044b\u0435 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438.', '\u041a\u0430\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u0438\u0434 \u0438 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e... [TRUNCATED]", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:33:00", "name": "handlers", "levelname": "INFO", "message": "Generated response for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:33:00", "name": "handlers", "levelname": "DEBUG", "message": "Saved bot message for conversation_id='3e257e95-9b20-4de5-9b85-59758622c26a'", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:33:00", "name": "handlers", "levelname": "INFO", "message": "Prepared suggestion buttons for user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:33:01", "name": "handlers", "levelname": "INFO", "message": "Sent response with inline buttons to user_id=571915781", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:33:01", "name": "decorators", "levelname": "DEBUG", "message": "Event log saved for user_id=571915781, event_type=ai_conversation", "taskName": "Application:7836895356:update_fetcher"}
{"asctime": "2024-12-03 22:38:49", "name": "handlers", "levelname": "ERROR", "message": "Exception while handling an update:", "exc_info": "Traceback (most recent call last):\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\httpx\\_transports\\default.py\", line 72, in map_httpcore_exceptions\n    yield\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\httpx\\_transports\\default.py\", line 377, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\httpcore\\_async\\connection_pool.py\", line 216, in handle_async_request\n    raise exc from None\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\httpcore\\_async\\connection_pool.py\", line 196, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\httpcore\\_async\\connection.py\", line 101, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\httpcore\\_async\\http11.py\", line 143, in handle_async_request\n    raise exc\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\httpcore\\_async\\http11.py\", line 113, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\httpcore\\_async\\http11.py\", line 186, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\httpcore\\_async\\http11.py\", line 238, in _receive_event\n    raise RemoteProtocolError(msg)\nhttpcore.RemoteProtocolError: Server disconnected without sending a response.\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\request\\_httpxrequest.py\", line 293, in do_request\n    res = await self._client.request(\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\httpx\\_client.py\", line 1585, in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\httpx\\_client.py\", line 1674, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\httpx\\_client.py\", line 1702, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\httpx\\_client.py\", line 1739, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\httpx\\_client.py\", line 1776, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\httpx\\_transports\\default.py\", line 376, in handle_async_request\n    with map_httpcore_exceptions():\n  File \"C:\\Users\\Andrey\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\contextlib.py\", line 155, in __exit__\n    self.gen.throw(value)\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\httpx\\_transports\\default.py\", line 89, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.RemoteProtocolError: Server disconnected without sending a response.\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\ext\\_updater.py\", line 743, in _network_loop_retry\n    if not await do_action():\n           ^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\ext\\_updater.py\", line 737, in do_action\n    return action_cb_task.result()\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\ext\\_updater.py\", line 367, in polling_action_cb\n    updates = await self.bot.get_updates(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\ext\\_extbot.py\", line 650, in get_updates\n    updates = await super().get_updates(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\_bot.py\", line 4480, in get_updates\n    await self._post(\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\_bot.py\", line 619, in _post\n    return await self._do_post(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\ext\\_extbot.py\", line 354, in _do_post\n    return await super()._do_post(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\_bot.py\", line 648, in _do_post\n    result = await request.post(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\request\\_baserequest.py\", line 202, in post\n    result = await self._request_wrapper(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\request\\_baserequest.py\", line 334, in _request_wrapper\n    code, payload = await self.do_request(\n                    ^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\Python_Projects\\pdflyx\\venv\\Lib\\site-packages\\telegram\\request\\_httpxrequest.py\", line 317, in do_request\n    raise NetworkError(f\"httpx.{err.__class__.__name__}: {err}\") from err\ntelegram.error.NetworkError: httpx.RemoteProtocolError: Server disconnected without sending a response.", "taskName": "Task-590"}
